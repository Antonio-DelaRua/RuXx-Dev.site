"use strict";(self.webpackChunkwikikar=self.webpackChunkwikikar||[]).push([[179],{2011:(st,De,O)=>{O.d(De,{Dh:()=>de,GT:()=>he,cc:()=>Se,hO:()=>Ue,on:()=>V,pX:()=>ie,xv:()=>fe});var a=O(4650),X=O(127),k=O(5813);st=O.hmd(st);const ue=["ngOnDestroy"],ie=(pe,ze,et,Ae={})=>new Proxy(pe,{get:(ve,Ee)=>et.runOutsideAngular(()=>{var Be;if(pe[Ee])return!(null===(Be=Ae?.spy)||void 0===Be)&&Be.get&&Ae.spy.get(Ee,pe[Ee]),pe[Ee];if(ue.indexOf(Ee)>-1)return()=>{};const Ze=ze.toPromise().then(U=>{const ge=U&&U[Ee];return"function"==typeof ge?ge.bind(U):ge&&ge.then?ge.then(z=>et.run(()=>z)):et.run(()=>ge)});return new Proxy(()=>{},{get:(U,ge)=>Ze[ge],apply:(U,ge,z)=>Ze.then(J=>{var se;const te=J&&J(...z);return!(null===(se=Ae?.spy)||void 0===se)&&se.apply&&Ae.spy.apply(Ee,z,te),te})})})}),he=(pe,ze)=>{ze.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Ae=>{Object.defineProperty(pe.prototype,Ae,Object.getOwnPropertyDescriptor(et.prototype||et,Ae))})})};class le{constructor(ze){return ze}}const de=new a.OlP("angularfire2.app.options"),fe=new a.OlP("angularfire2.app.name");function V(pe,ze,et){const ve="object"==typeof et&&et||{};ve.name=ve.name||"string"==typeof et&&et||"[DEFAULT]";const Be=X.Z.apps.filter(Ze=>Ze&&Ze.name===ve.name)[0]||ze.runOutsideAngular(()=>X.Z.initializeApp(pe,ve));try{JSON.stringify(pe)!==JSON.stringify(Be.options)&&B("error",`${Be.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new le(Be)}const B=(pe,...ze)=>{(0,a.X6Q)()&&typeof console<"u"&&console[pe](...ze)},K={provide:le,useFactory:V,deps:[de,a.R0b,[new a.FiY,fe]]};let Ue=(()=>{class pe{constructor(et){X.Z.registerVersion("angularfire",k.q4.full,"core"),X.Z.registerVersion("angularfire",k.q4.full,"app-compat"),X.Z.registerVersion("angular",a.q4F.full,et.toString())}static initializeApp(et,Ae){return{ngModule:pe,providers:[{provide:de,useValue:et},{provide:fe,useValue:Ae}]}}}return pe.\u0275fac=function(et){return new(et||pe)(a.LFG(a.Lbi))},pe.\u0275mod=a.oAB({type:pe}),pe.\u0275inj=a.cJS({providers:[K]}),pe})();function Se(pe,ze,et,Ae,ve){const[,Ee,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ze=>Ze[0]===pe)||[];if(Ee)return function be(pe,ze){try{return pe.toString()===ze.toString()}catch{return pe===ze}}(ve,Be)||(me("error",`${ze} was already initialized on the ${et} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:ve,was:Be})),Ee;{const Ze=Ae();return globalThis.\u0275AngularfireInstanceCache.push([pe,Ze,ve]),Ze}}const Ye=!!st.hot,me=(pe,...ze)=>{(0,a.X6Q)()&&typeof console<"u"&&console[pe](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,De,O)=>{O.d(De,{q4:()=>rt,iC:()=>ts,HU:()=>No,vb:()=>As,JM:()=>Da});var a=O(4650),X=O(5867),k=O(5861),ue=O(9681),ie=O(2090),he=O(4859),le=O(1877),de=O(8766);const fe="@firebase/installations",V="0.5.12",K=`w:${V}`,Ue="FIS_v2",ze=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(I){return I instanceof ie.ZR&&I.code.includes("request-failed")}function Ae({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function ve(I){return{token:I.token,requestStatus:2,expiresIn:J(I.expiresIn),creationTime:Date.now()}}function Ee(I,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,k.Z)(function*(I,D){const F=(yield D.json()).error;return ze.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ze({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function U(I,{refreshToken:D}){const x=Ze(I);return x.append("Authorization",function se(I){return`${Ue} ${I}`}(D)),x}function ge(I){return z.apply(this,arguments)}function z(){return(z=(0,k.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function J(I){return Number(I.replace("s","000"))}function te(I,D){return ke.apply(this,arguments)}function ke(){return(ke=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:x}){const F=Ae(I),Y=Ze(I),re=D.getImmediate({optional:!0});if(re){const ft=yield re.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Re={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:Ue,appId:I.appId,sdkVersion:K})},Je=yield ge(()=>fetch(F,Re));if(Je.ok){const ft=yield Je.json();return{fid:ft.fid||x,registrationStatus:2,refreshToken:ft.refreshToken,authToken:ve(ft.authToken)}}throw yield Ee("Create Installation",Je)})).apply(this,arguments)}function Ne(I){return new Promise(D=>{setTimeout(D,I)})}const jt=/^[cdef][\w-]{21}$/;function He(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const x=function rn(I){return function ut(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return jt.test(x)?x:""}catch{return""}}function Sn(I){return`${I.appName}!${I.appId}`}const Gt=new Map;function Wt(I,D){const x=Sn(I);en(x,D),function ta(I,D){const x=function hr(){return!kr&&"BroadcastChannel"in self&&(kr=new BroadcastChannel("[Firebase] FID Change"),kr.onmessage=I=>{en(I.data.key,I.data.fid)}),kr}();x&&x.postMessage({key:I,fid:D}),function Or(){0===Gt.size&&kr&&(kr.close(),kr=null)}()}(x,D)}function en(I,D){const x=Gt.get(I);if(x)for(const F of x)F(D)}let kr=null;const Fr="firebase-installations-store";let oi=null;function fo(){return oi||(oi=(0,de.X3)("firebase-installations-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Fr)}})),oi}function We(I,D){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(I,D){const x=Sn(I),Y=(yield fo()).transaction(Fr,"readwrite"),re=Y.objectStore(Fr),we=yield re.get(x);return yield re.put(D,x),yield Y.done,(!we||we.fid!==D.fid)&&Wt(I,D.fid),D})).apply(this,arguments)}function qi(I){return xn.apply(this,arguments)}function xn(){return(xn=(0,k.Z)(function*(I){const D=Sn(I),F=(yield fo()).transaction(Fr,"readwrite");yield F.objectStore(Fr).delete(D),yield F.done})).apply(this,arguments)}function ai(I,D){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,k.Z)(function*(I,D){const x=Sn(I),Y=(yield fo()).transaction(Fr,"readwrite"),re=Y.objectStore(Fr),we=yield re.get(x),Re=D(we);return void 0===Re?yield re.delete(x):yield re.put(Re,x),yield Y.done,Re&&(!we||we.fid!==Re.fid)&&Wt(I,Re.fid),Re})).apply(this,arguments)}function Mn(I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,k.Z)(function*(I){let D;const x=yield ai(I.appConfig,F=>{const Y=dn(F),re=ct(I,Y);return D=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function dn(I){return mt(I||{fid:He(),registrationStatus:0})}function ct(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ze.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function it(I,D){return un.apply(this,arguments)}(I,x);return{installationEntry:x,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Jn(I)}:{installationEntry:D}}function un(){return(un=(0,k.Z)(function*(I,D){try{const x=yield te(I,D);return We(I.appConfig,x)}catch(x){throw et(x)&&409===x.customData.serverCode?yield qi(I.appConfig):yield We(I.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Jn(I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,k.Z)(function*(I){let D=yield wr(I.appConfig);for(;1===D.registrationStatus;)yield Ne(100),D=yield wr(I.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Mn(I);return F||x}return D})).apply(this,arguments)}function wr(I){return ai(I,D=>{if(!D)throw ze.create("installation-not-found");return mt(D)})}function mt(I){return function $i(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function zt(I,D){return ui.apply(this,arguments)}function ui(){return(ui=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:D},x){const F=$t(I,x),Y=U(I,x),re=D.getImmediate({optional:!0});if(re){const ft=yield re.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Re={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:I.appId}})},Je=yield ge(()=>fetch(F,Re));if(Je.ok)return ve(yield Je.json());throw yield Ee("Generate Auth Token",Je)})).apply(this,arguments)}function $t(I,{fid:D}){return`${Ae(I)}/${D}/authTokens:generate`}function G(I){return j.apply(this,arguments)}function j(){return(j=(0,k.Z)(function*(I,D=!1){let x;const F=yield ai(I.appConfig,re=>{if(!tt(re))throw ze.create("not-registered");const we=re.authToken;if(!D&&ln(we))return re;if(1===we.requestStatus)return x=L(I,D),re;{if(!navigator.onLine)throw ze.create("app-offline");const Re=Zn(re);return x=Ie(I,Re),Re}});return x?yield x:F.authToken})).apply(this,arguments)}function L(I,D){return q.apply(this,arguments)}function q(){return(q=(0,k.Z)(function*(I,D){let x=yield H(I.appConfig);for(;1===x.authToken.requestStatus;)yield Ne(100),x=yield H(I.appConfig);const F=x.authToken;return 0===F.requestStatus?G(I,D):F})).apply(this,arguments)}function H(I){return ai(I,D=>{if(!tt(D))throw ze.create("not-registered");return function Ot(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ie(I,D){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,k.Z)(function*(I,D){try{const x=yield zt(I,D),F=Object.assign(Object.assign({},D),{authToken:x});return yield We(I.appConfig,F),x}catch(x){if(!et(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield We(I.appConfig,F)}else yield qi(I.appConfig);throw x}})).apply(this,arguments)}function tt(I){return void 0!==I&&2===I.registrationStatus}function ln(I){return 2===I.requestStatus&&!function Kt(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function Zn(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function mn(){return(mn=(0,k.Z)(function*(I){const D=I,{installationEntry:x,registrationPromise:F}=yield Mn(D);return F?F.catch(console.error):G(D).catch(console.error),x.fid})).apply(this,arguments)}function bi(){return(bi=(0,k.Z)(function*(I,D=!1){const x=I;return yield Er(x),(yield G(x,D)).token})).apply(this,arguments)}function Er(I){return On.apply(this,arguments)}function On(){return(On=(0,k.Z)(function*(I){const{registrationPromise:D}=yield Mn(I);D&&(yield D)})).apply(this,arguments)}function fs(I){return ze.create("missing-app-config-values",{valueName:I})}const po="installations",yn=I=>{const D=I.getProvider("app").getImmediate(),x=function hn(I){if(!I||!I.options)throw fs("App Configuration");if(!I.name)throw fs("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!I.options[x])throw fs(x);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,ue._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Zs=I=>{const D=I.getProvider("app").getImmediate(),x=(0,ue._getProvider)(D,po).getImmediate();return{getId:()=>function Tt(I){return mn.apply(this,arguments)}(x),getToken:Y=>function kn(I){return bi.apply(this,arguments)}(x,Y)}};(function fl(){(0,ue._registerComponent)(new he.wA(po,yn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("installations-internal",Zs,"PRIVATE"))})(),(0,ue.registerVersion)(fe,V),(0,ue.registerVersion)(fe,V,"esm2017");const wi="@firebase/remote-config",Ln=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lh{constructor(D,x,F,Y){this.client=D,this.storage=x,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var x=this;return(0,k.Z)(function*(){const[F,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const re=yield x.client.fetch(D),we=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&we.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(we),re})()}}function _l(I=navigator){return I.languages&&I.languages[0]||I.language}class vl{constructor(D,x,F,Y,re,we){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=F,this.projectId=Y,this.apiKey=re,this.appId=we}fetch(D){var x=this;return(0,k.Z)(function*(){var F,Y,re;const[we,Re]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,wt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ot={sdk_version:x.sdkVersion,app_instance_id:we,app_instance_id_token:Re,app_id:x.appId,language_code:_l()},vn={method:"POST",headers:wt,body:JSON.stringify(ot)},ur=fetch(ft,vn),ko=new Promise((Oo,eo)=>{D.signal.addEventListener(()=>{const mi=new Error("The operation was aborted.");mi.name="AbortError",eo(mi)})});let Ms;try{yield Promise.race([ur,ko]),Ms=yield ur}catch(Oo){let eo="fetch-client-network";throw"AbortError"===(null===(F=Oo)||void 0===F?void 0:F.name)&&(eo="fetch-timeout"),Ln.create(eo,{originalErrorMessage:null===(Y=Oo)||void 0===Y?void 0:Y.message})}let Et=Ms.status;const Ai=Ms.headers.get("ETag")||void 0;let Rs,Jr;if(200===Ms.status){let Oo;try{Oo=yield Ms.json()}catch(eo){throw Ln.create("fetch-client-parse",{originalErrorMessage:null===(re=eo)||void 0===re?void 0:re.message})}Rs=Oo.entries,Jr=Oo.state}if("INSTANCE_STATE_UNSPECIFIED"===Jr?Et=500:"NO_CHANGE"===Jr?Et=304:("NO_TEMPLATE"===Jr||"EMPTY_CONFIG"===Jr)&&(Rs={}),304!==Et&&200!==Et)throw Ln.create("fetch-status",{httpStatus:Et});return{status:Et,eTag:Ai,config:Rs}})()}}class $p{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,k.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:F}){var Y=this;return(0,k.Z)(function*(){yield function qn(I,D){return new Promise((x,F)=>{const Y=Math.max(D-Date.now(),0),re=setTimeout(x,Y);I.addEventListener(()=>{clearTimeout(re),F(Ln.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const re=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),re}catch(re){if(!function Gc(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(re))throw re;const we={throttleEndTimeMillis:Date.now()+(0,ie.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(we),Y.attemptFetch(D,we)}})()}}class Wc{constructor(D,x,F,Y,re){this.app=D,this._client=x,this._storageCache=F,this._storage=Y,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bl(I,D){var x;const F=I.target.error||void 0;return Ln.create(D,{originalErrorMessage:F&&(null===(x=F)||void 0===x?void 0:x.message)})}const ys="app_namespace_store";class zp{constructor(D,x,F,Y=function Wp(){return new Promise((I,D)=>{var x;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{D(bl(Y,"storage-open"))},F.onsuccess=Y=>{I(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(F){D(Ln.create("storage-open",{originalErrorMessage:null===(x=F)||void 0===x?void 0:x.message}))}})}()){this.appId=D,this.appName=x,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,k.Z)(function*(){const F=yield x.openDbPromise;return new Promise((Y,re)=>{var we;const Je=F.transaction([ys],"readonly").objectStore(ys),ft=x.createCompositeKey(D);try{const wt=Je.get(ft);wt.onerror=ot=>{re(bl(ot,"storage-get"))},wt.onsuccess=ot=>{const vn=ot.target.result;Y(vn?vn.value:void 0)}}catch(wt){re(Ln.create("storage-get",{originalErrorMessage:null===(we=wt)||void 0===we?void 0:we.message}))}})})()}set(D,x){var F=this;return(0,k.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((re,we)=>{var Re;const ft=Y.transaction([ys],"readwrite").objectStore(ys),wt=F.createCompositeKey(D);try{const ot=ft.put({compositeKey:wt,value:x});ot.onerror=vn=>{we(bl(vn,"storage-set"))},ot.onsuccess=()=>{re()}}catch(ot){we(Ln.create("storage-set",{originalErrorMessage:null===(Re=ot)||void 0===Re?void 0:Re.message}))}})})()}delete(D){var x=this;return(0,k.Z)(function*(){const F=yield x.openDbPromise;return new Promise((Y,re)=>{var we;const Je=F.transaction([ys],"readwrite").objectStore(ys),ft=x.createCompositeKey(D);try{const wt=Je.delete(ft);wt.onerror=ot=>{re(bl(ot,"storage-delete"))},wt.onsuccess=()=>{Y()}}catch(wt){re(Ln.create("storage-delete",{originalErrorMessage:null===(we=wt)||void 0===we?void 0:we.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Kc{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,k.Z)(function*(){const x=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),re=yield x;re&&(D.lastFetchStatus=re);const we=yield F;we&&(D.lastSuccessfulFetchTimestampMillis=we);const Re=yield Y;Re&&(D.activeConfig=Re)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ou(){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,k.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function _s(){(0,ue._registerComponent)(new he.wA("remote-config",function I(D,{instanceIdentifier:x}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ln.create("registration-window");if(!(0,ie.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:re,apiKey:we,appId:Re}=F.options;if(!re)throw Ln.create("registration-project-id");if(!we)throw Ln.create("registration-api-key");if(!Re)throw Ln.create("registration-app-id");const Je=new zp(Re,F.name,x=x||"firebase"),ft=new Kc(Je),wt=new le.Yd(wi);wt.logLevel=le.in.ERROR;const ot=new vl(Y,ue.SDK_VERSION,x,re,we,Re),vn=new $p(ot,Je),ur=new Lh(vn,Je,ft,wt),ko=new Wc(F,ur,ft,Je,wt);return function er(I){const D=(0,ie.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ko),ko},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(wi,"0.3.11"),(0,ue.registerVersion)(wi,"0.3.11","esm2017")}();const Ei="/firebase-messaging-sw.js",Ii="/firebase-cloud-messaging-push-scope",Wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ia="google.c.a.c_id",au="google.c.a.c_l",wl="google.c.a.ts",Vh="google.c.a.e";var zi=(()=>{return(I=zi||(zi={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",zi;var I})();function zr(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ur(I){const x=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),Y=new Uint8Array(F.length);for(let re=0;re<F.length;++re)Y[re]=F.charCodeAt(re);return Y}const mo="fcm_token_details_db",ar="fcm_token_object_Store";function Bh(I){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(mo))return null;let D=null;return(yield(0,de.X3)(mo,5,{upgrade:(F=(0,k.Z)(function*(Y,re,we,Re){var Je;if(re<2||!Y.objectStoreNames.contains(ar))return;const ft=Re.objectStore(ar),wt=yield ft.index("fcmSenderId").get(I);if(yield ft.clear(),wt)if(2===re){const ot=wt;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;D={token:ot.fcmToken,createTime:null!==(Je=ot.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:zr(ot.vapidKey)}}}else if(3===re){const ot=wt;D={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:zr(ot.auth),p256dh:zr(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:zr(ot.vapidKey)}}}else if(4===re){const ot=wt;D={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:zr(ot.auth),p256dh:zr(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:zr(ot.vapidKey)}}}}),function(re,we,Re,Je){return F.apply(this,arguments)})})).close(),yield(0,de.Lj)(mo),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),In(D)?D:null;var F}),Zh.apply(this,arguments)}function In(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Kr="firebase-messaging-store";let Cr=null;function lu(){return Cr||(Cr=(0,de.X3)("firebase-messaging-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Kr)}})),Cr}function yo(I){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,k.Z)(function*(I){const D=di(I),F=yield(yield lu()).transaction(Kr).objectStore(Kr).get(D);if(F)return F;{const Y=yield Bh(I.appConfig.senderId);if(Y)return yield Zt(I,Y),Y}})).apply(this,arguments)}function Zt(I,D){return cu.apply(this,arguments)}function cu(){return(cu=(0,k.Z)(function*(I,D){const x=di(I),Y=(yield lu()).transaction(Kr,"readwrite");return yield Y.objectStore(Kr).put(D,x),yield Y.done,D})).apply(this,arguments)}function $s(I){return du.apply(this,arguments)}function du(){return(du=(0,k.Z)(function*(I){const D=di(I),F=(yield lu()).transaction(Kr,"readwrite");yield F.objectStore(Kr).delete(D),yield F.done})).apply(this,arguments)}function di({appConfig:I}){return I.appId}const En=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yt(I,D){return fu.apply(this,arguments)}function fu(){return(fu=(0,k.Z)(function*(I,D){var x;const F=yield Il(I),Y=Ce(D),re={method:"POST",headers:F,body:JSON.stringify(Y)};let we;try{we=yield(yield fetch(Yi(I.appConfig),re)).json()}catch(Re){throw En.create("token-subscribe-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(we.error)throw En.create("token-subscribe-failed",{errorInfo:we.error.message});if(!we.token)throw En.create("token-subscribe-no-token");return we.token})).apply(this,arguments)}function qh(I,D){return pu.apply(this,arguments)}function pu(){return(pu=(0,k.Z)(function*(I,D){var x;const F=yield Il(I),Y=Ce(D.subscriptionOptions),re={method:"PATCH",headers:F,body:JSON.stringify(Y)};let we;try{we=yield(yield fetch(`${Yi(I.appConfig)}/${D.token}`,re)).json()}catch(Re){throw En.create("token-update-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(we.error)throw En.create("token-update-failed",{errorInfo:we.error.message});if(!we.token)throw En.create("token-update-no-token");return we.token})).apply(this,arguments)}function gu(I,D){return El.apply(this,arguments)}function El(){return(El=(0,k.Z)(function*(I,D){var x;const Y={method:"DELETE",headers:yield Il(I)};try{const we=yield(yield fetch(`${Yi(I.appConfig)}/${D}`,Y)).json();if(we.error)throw En.create("token-unsubscribe-failed",{errorInfo:we.error.message})}catch(re){throw En.create("token-unsubscribe-failed",{errorInfo:null===(x=re)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Yi({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Il(I){return sa.apply(this,arguments)}function sa(){return(sa=(0,k.Z)(function*({appConfig:I,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Ce({p256dh:I,auth:D,endpoint:x,vapidKey:F}){const Y={web:{endpoint:x,auth:D,p256dh:I}};return F!==Wi&&(Y.web.applicationPubKey=F),Y}const Ft=6048e5;function mu(I){return yu.apply(this,arguments)}function yu(){return(yu=(0,k.Z)(function*(I){const D=yield Cl(I.swRegistration,I.vapidKey),x={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:zr(D.getKey("auth")),p256dh:zr(D.getKey("p256dh"))},F=yield yo(I.firebaseDependencies);if(F){if(Xc(F.subscriptionOptions,x))return Date.now()>=F.createTime+Ft?_o(I,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield gu(I.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return oa(I.firebaseDependencies,x)}return oa(I.firebaseDependencies,x)})).apply(this,arguments)}function Cn(I){return _u.apply(this,arguments)}function _u(){return(_u=(0,k.Z)(function*(I){const D=yield yo(I.firebaseDependencies);D&&(yield gu(I.firebaseDependencies,D.token),yield $s(I.firebaseDependencies));const x=yield I.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function _o(I,D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,k.Z)(function*(I,D){try{const x=yield qh(I.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield Zt(I.firebaseDependencies,F),x}catch(x){throw yield Cn(I),x}})).apply(this,arguments)}function oa(I,D){return aa.apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(I,D){const F={token:yield yt(I,D),createTime:Date.now(),subscriptionOptions:D};return yield Zt(I,F),F.token})).apply(this,arguments)}function Cl(I,D){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,k.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ur(D)})})).apply(this,arguments)}function Xc(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function ua(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Dn(I,D){if(!D.notification)return;I.notification={};const x=D.notification.title;x&&(I.notification.title=x);const F=D.notification.body;F&&(I.notification.body=F);const Y=D.notification.image;Y&&(I.notification.image=Y)}(D,I),function Ci(I,D){!D.data||(I.data=D.data)}(D,I),function Tl(I,D){var x,F,Y,re,we;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;I.fcmOptions={};const Re=null!==(Y=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Y?Y:null===(re=D.notification)||void 0===re?void 0:re.click_action;Re&&(I.fcmOptions.link=Re);const Je=null===(we=D.fcmOptions)||void 0===we?void 0:we.analytics_label;Je&&(I.fcmOptions.analyticsLabel=Je)}(D,I),D}function Hs(I){return"object"==typeof I&&!!I&&ia in I}function Qi(I,D){const x=[];for(let F=0;F<I.length;F++)x.push(I.charAt(F)),F<D.length&&x.push(D.charAt(F));return x.join("")}function la(I){return En.create("missing-app-config-values",{valueName:I})}Qi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yp{constructor(D,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Kp(I){if(!I||!I.options)throw la("App Configuration Object");if(!I.name)throw la("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=I;for(const F of D)if(!x[F])throw la(F);return{appName:I.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Al(I){return vu.apply(this,arguments)}function vu(){return(vu=(0,k.Z)(function*(I){var D;try{I.swRegistration=yield navigator.serviceWorker.register(Ei,{scope:Ii}),I.swRegistration.update().catch(()=>{})}catch(x){throw En.create("failed-service-worker-registration",{browserErrorMessage:null===(D=x)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function ca(I,D){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,k.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield Al(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function da(I,D){return xl.apply(this,arguments)}function xl(){return(xl=(0,k.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=Wi)})).apply(this,arguments)}function wu(){return(wu=(0,k.Z)(function*(I,D){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield da(I,D?.vapidKey),yield ca(I,D?.serviceWorkerRegistration),mu(I)})).apply(this,arguments)}function Ml(I,D,x){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,k.Z)(function*(I,D,x){const F=Pl(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[ia],message_name:x[au],message_time:x[wl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pl(I){switch(I){case zi.NOTIFICATION_CLICKED:return"notification_open";case zi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gs(){return(Gs=(0,k.Z)(function*(I,D){const x=D.data;if(!x.isFirebaseMessaging)return;I.onMessageHandler&&x.messageType===zi.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ua(x)):I.onMessageHandler.next(ua(x)));const F=x.data;Hs(F)&&"1"===F[Vh]&&(yield Ml(I,x.messageType,F))})).apply(this,arguments)}const Ws="@firebase/messaging",$n=I=>{const D=new Yp(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ed(I,D){return Gs.apply(this,arguments)}(D,x)),D},Vr=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:F=>function bu(I,D){return wu.apply(this,arguments)}(D,F)}};function td(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,k.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fn(){(0,ue._registerComponent)(new he.wA("messaging",$n,"PUBLIC")),(0,ue._registerComponent)(new he.wA("messaging-internal",Vr,"PRIVATE")),(0,ue.registerVersion)(Ws,"0.9.16"),(0,ue.registerVersion)(Ws,"0.9.16","esm2017")}();const wo="analytics",id="firebase_id",zs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cu="https://www.googletagmanager.com/gtag/js",Tn=new le.Yd("@firebase/analytics");function Du(I){return Promise.all(I.map(D=>D.catch(x=>x)))}function Tu(I,D){const x=document.createElement("script");x.src=`${Cu}?l=${I}&id=${D}`,x.async=!0,document.head.appendChild(x)}function Hh(I,D,x,F,Y,re){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,k.Z)(function*(I,D,x,F,Y,re){const we=F[Y];try{if(we)yield D[we];else{const Je=(yield Du(x)).find(ft=>ft.measurementId===Y);Je&&(yield D[Je.appId])}}catch(Re){Tn.error(Re)}I("config",Y,re)})).apply(this,arguments)}function Io(I,D,x,F,Y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,k.Z)(function*(I,D,x,F,Y){try{let re=[];if(Y&&Y.send_to){let we=Y.send_to;Array.isArray(we)||(we=[we]);const Re=yield Du(x);for(const Je of we){const ft=Re.find(ot=>ot.measurementId===Je),wt=ft&&D[ft.appId];if(!wt){re=[];break}re.push(wt)}}0===re.length&&(re=Object.values(D)),yield Promise.all(re),I("event",F,Y||{})}catch(re){Tn.error(re)}})).apply(this,arguments)}function od(){const I=window.document.getElementsByTagName("script");for(const D of Object.values(I))if(D.src&&D.src.includes(Cu))return D;return null}const nr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ga=new class Di{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ud(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ma(I){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,k.Z)(function*(I){var D;const{appId:x,apiKey:F}=I,Y={method:"GET",headers:ud(F)},re=zs.replace("{app-id}",x),we=yield fetch(re,Y);if(200!==we.status&&304!==we.status){let Re="";try{const Je=yield we.json();null!==(D=Je.error)&&void 0!==D&&D.message&&(Re=Je.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:we.status,responseMessage:Re})}return we.json()})).apply(this,arguments)}function Rn(I){return hi.apply(this,arguments)}function hi(){return(hi=(0,k.Z)(function*(I,D=ga,x){const{appId:F,apiKey:Y,measurementId:re}=I.options;if(!F)throw nr.create("no-app-id");if(!Y){if(re)return{measurementId:re,appId:F};throw nr.create("no-api-key")}const we=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Mu;return setTimeout((0,k.Z)(function*(){Re.abort()}),void 0!==x?x:6e4),Su({appId:F,apiKey:Y,measurementId:re},we,Re,D)})).apply(this,arguments)}function Su(I,D,x){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,k.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:x},F,Y=ga){var re,we;const{appId:Re,measurementId:Je}=I;try{yield ya(F,D)}catch(ft){if(Je)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${null===(re=ft)||void 0===re?void 0:re.message}]`),{appId:Re,measurementId:Je};throw ft}try{const ft=yield ma(I);return Y.deleteThrottleMetadata(Re),ft}catch(ft){const wt=ft;if(!xu(wt)){if(Y.deleteThrottleMetadata(Re),Je)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${wt?.message}]`),{appId:Re,measurementId:Je};throw ft}const ot=503===Number(null===(we=wt?.customData)||void 0===we?void 0:we.httpStatus)?(0,ie.$s)(x,Y.intervalMillis,30):(0,ie.$s)(x,Y.intervalMillis),vn={throttleEndTimeMillis:Date.now()+ot,backoffCount:x+1};return Y.setThrottleMetadata(Re,vn),Tn.debug(`Calling attemptFetch again in ${ot} millis`),Su(I,vn,F,Y)}})).apply(this,arguments)}function ya(I,D){return new Promise((x,F)=>{const Y=Math.max(D-Date.now(),0),re=setTimeout(x,Y);I.addEventListener(()=>{clearTimeout(re),F(nr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function xu(I){if(!(I instanceof ie.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Mu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let ws,va;function Es(){return(Es=(0,k.Z)(function*(I,D,x,F,Y){if(Y&&Y.global)I("event",x,F);else{const re=yield D;I("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Js(I){va=I}function Vl(I){ws=I}function Xi(){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,k.Z)(function*(){var I;if(!(0,ie.hl)())return Tn.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return Tn.warn(nr.create("indexeddb-unavailable",{errorInfo:null===(I=D)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function To(){return(To=(0,k.Z)(function*(I,D,x,F,Y,re,we){var Re;const Je=Rn(I);Je.then(ur=>{x[ur.measurementId]=ur.appId,I.options.measurementId&&ur.measurementId!==I.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>Tn.error(ur)),D.push(Je);const ft=Xi().then(ur=>{if(ur)return F.getId()}),[wt,ot]=yield Promise.all([Je,ft]);od()||Tu(re,wt.measurementId),va&&(Y("consent","default",va),Js(void 0)),Y("js",new Date);const vn=null!==(Re=we?.config)&&void 0!==Re?Re:{};return vn.origin="firebase",vn.update=!0,null!=ot&&(vn[id]=ot),Y("config",wt.measurementId,vn),ws&&(Y("set",ws),Vl(void 0)),wt.measurementId})).apply(this,arguments)}class Nu{constructor(D){this.app=D}_delete(){return delete Br[this.app.options.appId],Promise.resolve()}}let Br={},Is=[];const Ao={};let xo,Xs,So="dataLayer",ba=!1;function yy(I,D,x){!function Qp(){const I=[];if((0,ie.ru)()&&I.push("This is a browser extension environment."),(0,ie.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),x=nr.create("invalid-analytics-context",{errorInfo:D});Tn.warn(x.message)}}();const F=I.options.appId;if(!F)throw nr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw nr.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Br[F])throw nr.create("already-exists",{id:F});if(!ba){!function sd(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(So);const{wrappedGtag:re,gtagCore:we}=function ha(I,D,x,F,Y){let re=function(...we){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(re=window[Y]),window[Y]=function Au(I,D,x,F){function re(){return(re=(0,k.Z)(function*(we,Re,Je){try{"event"===we?yield Io(I,D,x,Re,Je):"config"===we?yield Hh(I,D,x,F,Re,Je):"consent"===we?I("consent","update",Je):I("set",Re)}catch(ft){Tn.error(ft)}})).apply(this,arguments)}return function Y(we,Re,Je){return re.apply(this,arguments)}}(re,I,D,x),{gtagCore:re,wrappedGtag:window[Y]}}(Br,Is,Ao,So,"gtag");Xs=re,xo=we,ba=!0}return Br[F]=function Do(I,D,x,F,Y,re,we){return To.apply(this,arguments)}(I,Is,Ao,D,xo,So,x),new Nu(I)}function vy(){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,k.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const nt="@firebase/analytics";!function _n(){(0,ue._registerComponent)(new he.wA(wo,(D,{options:x})=>yy(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ue._registerComponent)(new he.wA("analytics-internal",function I(D){try{const x=D.getProvider(wo).getImmediate();return{logEvent:(F,Y,re)=>function on(I,D,x,F){I=(0,ie.m9)(I),function ld(I,D,x,F,Y){return Es.apply(this,arguments)}(Xs,Br[I.app.options.appId],D,x,F).catch(Y=>Tn.error(Y))}(x,F,Y,re)}}catch(x){throw nr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ue.registerVersion)(nt,"0.8.0"),(0,ue.registerVersion)(nt,"0.8.0","esm2017")}();var pi=O(4408),Dr=O(7565);const Ou=new class Cs extends Dr.v{}(class wa extends pi.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,x,F):(D.flush(this),0)}});var Zl=O(4986),Ea=O(8505),Mo=O(9468),Ds=O(5363);const rt=new a.GfV("7.4.1"),Ia="__angularfire_symbol__analyticsIsSupportedValue",Ts="__angularfire_symbol__analyticsIsSupported",Ca="__angularfire_symbol__remoteConfigIsSupportedValue",Ro="__angularfire_symbol__remoteConfigIsSupported",Hn="__angularfire_symbol__messagingIsSupportedValue",jl="__angularfire_symbol__messagingIsSupported";function Da(I,D,x){if(D){if(1===D.length)return D[0];const re=D.filter(we=>we.app===x);if(1===re.length)return re[0]}return x.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ts]||(globalThis[Ts]=vy().then(I=>globalThis[Ia]=I).catch(()=>globalThis[Ia]=!1)),globalThis[jl]||(globalThis[jl]=td().then(I=>globalThis[Hn]=I).catch(()=>globalThis[Hn]=!1)),globalThis[Ro]||(globalThis[Ro]=ou().then(I=>globalThis[Ca]=I).catch(()=>globalThis[Ca]=!1));const As=(I,D)=>{const x=D?[D]:(0,X.C6)(),F=[];return x.forEach(Y=>{Y.container.getProvider(I).instances.forEach(we=>{F.includes(we)||F.push(we)})}),F};function Ss(){}class gi{constructor(D,x=Ou){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,F){const Y=this.zone;return this.delegate.schedule(function(we){Y.runGuarded(()=>{D.apply(this,[we])})},x,F)}}class $l{constructor(D){this.zone=D,this.task=null}call(D,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),x.pipe((0,Ea.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let No=(()=>{class I{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new gi(Zone.current)),this.insideAngular=x.run(()=>new gi(Zone.current,Zl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(x){return new(x||I)(a.LFG(a.R0b))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Zr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ts(I){return Zr(),function Un(I){return function(x){return(x=x.lift(new $l(I.ngZone))).pipe((0,Mo.R)(I.outsideAngular),(0,Ds.Q)(I.insideAngular))}}(Zr())(I)}},2090:(st,De,O)=>{O.d(De,{$s:()=>$i,BH:()=>Ue,G6:()=>Ze,L:()=>de,LL:()=>ke,Sg:()=>Se,UG:()=>me,US:()=>he,ZB:()=>B,ZR:()=>te,b$:()=>et,eu:()=>ge,hl:()=>U,jU:()=>pe,m9:()=>$t,ne:()=>fo,pd:()=>Fr,r3:()=>br,ru:()=>ze,tV:()=>fe,uI:()=>Ye,vZ:()=>kr,w1:()=>ve,xO:()=>hs,xb:()=>en,z$:()=>be,zI:()=>z,zd:()=>vi});const ue=function(G){const j=[];let L=0;for(let q=0;q<G.length;q++){let H=G.charCodeAt(q);H<128?j[L++]=H:H<2048?(j[L++]=H>>6|192,j[L++]=63&H|128):55296==(64512&H)&&q+1<G.length&&56320==(64512&G.charCodeAt(q+1))?(H=65536+((1023&H)<<10)+(1023&G.charCodeAt(++q)),j[L++]=H>>18|240,j[L++]=H>>12&63|128,j[L++]=H>>6&63|128,j[L++]=63&H|128):(j[L++]=H>>12|224,j[L++]=H>>6&63|128,j[L++]=63&H|128)}return j},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let H=0;H<G.length;H+=3){const Ie=G[H],Ve=H+1<G.length,tt=Ve?G[H+1]:0,ln=H+2<G.length,Kt=ln?G[H+2]:0;let Tt=(15&tt)<<2|Kt>>6,mn=63&Kt;ln||(mn=64,Ve||(Tt=64)),q.push(L[Ie>>2],L[(3&Ie)<<4|tt>>4],L[Tt],L[mn])}return q.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(ue(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let L=0,q=0;for(;L<G.length;){const H=G[L++];if(H<128)j[q++]=String.fromCharCode(H);else if(H>191&&H<224){const Ie=G[L++];j[q++]=String.fromCharCode((31&H)<<6|63&Ie)}else if(H>239&&H<365){const ln=((7&H)<<18|(63&G[L++])<<12|(63&G[L++])<<6|63&G[L++])-65536;j[q++]=String.fromCharCode(55296+(ln>>10)),j[q++]=String.fromCharCode(56320+(1023&ln))}else{const Ie=G[L++],Ve=G[L++];j[q++]=String.fromCharCode((15&H)<<12|(63&Ie)<<6|63&Ve)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const L=j?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let H=0;H<G.length;){const Ie=L[G.charAt(H++)],tt=H<G.length?L[G.charAt(H)]:0;++H;const Kt=H<G.length?L[G.charAt(H)]:64;++H;const Ot=H<G.length?L[G.charAt(H)]:64;if(++H,null==Ie||null==tt||null==Kt||null==Ot)throw Error();q.push(Ie<<2|tt>>4),64!==Kt&&(q.push(tt<<4&240|Kt>>2),64!==Ot&&q.push(Kt<<6&192|Ot))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},de=function(G){return function(G){const j=ue(G);return he.encodeByteArray(j,!0)}(G).replace(/\./g,"")},fe=function(G){try{return he.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function B(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const L in j)!j.hasOwnProperty(L)||!K(L)||(G[L]=B(G[L],j[L]));return G}function K(G){return"__proto__"!==G}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,L)=>{this.resolve=j,this.reject=L})}wrapCallback(j){return(L,q)=>{L?this.reject(L):this.resolve(q),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(L):j(L,q))}}}function Se(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=j||"demo-project",H=G.iat||0,Ie=G.sub||G.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:H,exp:H+3600,auth_time:H,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},G);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ve)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function ze(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const G=be();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ze(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function ge(){return new Promise((G,j)=>{try{let L=!0;const q="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(q);H.onsuccess=()=>{H.result.close(),L||self.indexedDB.deleteDatabase(q),G(!0)},H.onupgradeneeded=()=>{L=!1},H.onerror=()=>{var Ie;j((null===(Ie=H.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(L){j(L)}})}function z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class te extends Error{constructor(j,L,q){super(L),this.code=j,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(j,L,q){this.service=j,this.serviceName=L,this.errors=q}create(j,...L){const q=L[0]||{},H=`${this.service}/${j}`,Ie=this.errors[j],Ve=Ie?function Ne(G,j){return G.replace(ut,(L,q)=>{const H=j[q];return null!=H?String(H):`<${q}?>`})}(Ie,q):"Error";return new te(H,`${this.serviceName}: ${Ve} (${H}).`,q)}}const ut=/\{\$([^}]+)}/g;function br(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function en(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function kr(G,j){if(G===j)return!0;const L=Object.keys(G),q=Object.keys(j);for(const H of L){if(!q.includes(H))return!1;const Ie=G[H],Ve=j[H];if(hr(Ie)&&hr(Ve)){if(!kr(Ie,Ve))return!1}else if(Ie!==Ve)return!1}for(const H of q)if(!L.includes(H))return!1;return!0}function hr(G){return null!==G&&"object"==typeof G}function hs(G){const j=[];for(const[L,q]of Object.entries(G))Array.isArray(q)?q.forEach(H=>{j.push(encodeURIComponent(L)+"="+encodeURIComponent(H))}):j.push(encodeURIComponent(L)+"="+encodeURIComponent(q));return j.length?"&"+j.join("&"):""}function vi(G){const j={};return G.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[H,Ie]=q.split("=");j[decodeURIComponent(H)]=decodeURIComponent(Ie)}}),j}function Fr(G){const j=G.indexOf("?");if(!j)return"";const L=G.indexOf("#",j);return G.substring(j,L>0?L:void 0)}function fo(G,j){const L=new We(G,j);return L.subscribe.bind(L)}class We{constructor(j,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{j(this)}).catch(q=>{this.error(q)})}next(j){this.forEachObserver(L=>{L.next(j)})}error(j){this.forEachObserver(L=>{L.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,L,q){let H;if(void 0===j&&void 0===L&&void 0===q)throw new Error("Missing Observer.");H=function qi(G,j){if("object"!=typeof G||null===G)return!1;for(const L of j)if(L in G&&"function"==typeof G[L])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:L,complete:q},void 0===H.next&&(H.next=xn),void 0===H.error&&(H.error=xn),void 0===H.complete&&(H.complete=xn);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),Ie}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,j)}sendOne(j,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{L(this.observers[j])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function $i(G,j=1e3,L=2){const q=j*Math.pow(L,G),H=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+H)}function $t(G){return G&&G._delegate?G._delegate:G}},1235:(st,De,O)=>{var a=O(4650);let X=null;function k(){return X}const le=new a.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function fe(){return(0,a.LFG)(B)}()},providedIn:"platform"}),n})();const V=new a.OlP("Location Initialized");let B=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){K()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){K()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ue(){return new B((0,a.LFG)(le))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(ze)},providedIn:"root"}),n})();const pe=new a.OlP("appBaseHref");let ze=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ye(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+Ye(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+Ye(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de),a.LFG(pe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+Ye(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+Ye(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(de),a.LFG(pe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=be(Be(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ye(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=Se,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(a.LFG(me))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ve(){return new Ae((0,a.LFG)(me))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}var U=(()=>((U=U||{})[U.Decimal=0]="Decimal",U[U.Percent=1]="Percent",U[U.Currency=2]="Currency",U[U.Scientific=3]="Scientific",U))(),te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Group=1]="Group",te[te.List=2]="List",te[te.PercentSign=3]="PercentSign",te[te.PlusSign=4]="PlusSign",te[te.MinusSign=5]="MinusSign",te[te.Exponential=6]="Exponential",te[te.SuperscriptingExponent=7]="SuperscriptingExponent",te[te.PerMille=8]="PerMille",te[te.Infinity=9]="Infinity",te[te.NaN=10]="NaN",te[te.TimeSeparator=11]="TimeSeparator",te[te.CurrencyDecimal=12]="CurrencyDecimal",te[te.CurrencyGroup=13]="CurrencyGroup",te))();function Rt(n,e){const t=(0,a.cg1)(n),r=t[a.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===te.CurrencyDecimal)return t[a.wAp.NumberSymbols][te.Decimal];if(e===te.CurrencyGroup)return t[a.wAp.NumberSymbols][te.Group]}return r}const Er=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Fn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class na{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hi=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new na(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,h),ms(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ms(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ms(n,e){n.context.$implicit=e.item}let er=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ml,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ml{constructor(){this.$implicit=null,this.ngIf=null}}function tr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let Ii=(()=>{class n{constructor(t){this._locale=t}transform(t,r,o){if(!function ia(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale;try{return function At(n,e,t){return function hn(n,e,t,r,o,l,h=!1){let m="",b=!1;if(isFinite(n)){let C=function fl(n){let r,o,l,h,m,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(o<0&&(o=l),o+=+e.slice(l+1),e=e.substring(0,l)):o<0&&(o=e.length),l=0;"0"===e.charAt(l);l++);if(l===(m=e.length))r=[0],o=1;else{for(m--;"0"===e.charAt(m);)m--;for(o-=l,r=[],h=0;l<=m;l++,h++)r[h]=Number(e.charAt(l))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);h&&(C=function Zs(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(C));let S=e.minInt,R=e.minFrac,Z=e.maxFrac;if(l){const Dt=l.match(Er);if(null===Dt)throw new Error(`${l} is not a valid digit info`);const Ut=Dt[1],Mt=Dt[3],Nt=Dt[5];null!=Ut&&(S=Fn(Ut)),null!=Mt&&(R=Fn(Mt)),null!=Nt?Z=Fn(Nt):null!=Mt&&R>Z&&(Z=R)}!function wi(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const l=Math.min(Math.max(e,o),t);let h=l+n.integerLen,m=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let R=h;R<r.length;R++)r[R]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,h=l+1),r[0]=0;for(let R=1;R<h;R++)r[R]=0}if(m>=5)if(h-1<0){for(let R=0;R>h;R--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;o<Math.max(0,l);o++)r.push(0);let b=0!==l;const C=e+n.integerLen,S=r.reduceRight(function(R,Z,Q,oe){return oe[Q]=(Z+=R)<10?Z:Z-10,b&&(0===oe[Q]&&Q>=C?oe.pop():b=!1),Z>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(C,R,Z);let Q=C.digits,oe=C.integerLen;const Me=C.exponent;let Fe=[];for(b=Q.every(Dt=>!Dt);oe<S;oe++)Q.unshift(0);for(;oe<0;oe++)Q.unshift(0);oe>0?Fe=Q.splice(oe,Q.length):(Fe=Q,Q=[0]);const bt=[];for(Q.length>=e.lgSize&&bt.unshift(Q.splice(-e.lgSize,Q.length).join(""));Q.length>e.gSize;)bt.unshift(Q.splice(-e.gSize,Q.length).join(""));Q.length&&bt.unshift(Q.join("")),m=bt.join(Rt(t,r)),Fe.length&&(m+=Rt(t,o)+Fe.join("")),Me&&(m+=Rt(t,te.Exponential)+"+"+Me)}else m=Rt(t,te.Infinity);return m=n<0&&!b?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,function yn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],l=r[1],h=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=h[0],b=h[1]||"";t.posPre=m.substring(0,m.indexOf("#"));for(let S=0;S<b.length;S++){const R=b.charAt(S);"0"===R?t.minFrac=t.maxFrac=S+1:"#"===R?t.maxFrac=S+1:t.posSuf+=R}const C=m.split(",");if(t.gSize=C[1]?C[1].length:0,t.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,l){const S=o.length-t.posPre.length-t.posSuf.length,R=l.indexOf("#");t.negPre=l.substring(0,R).replace(/'/g,""),t.negSuf=l.slice(R+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function en(n,e){return(0,a.cg1)(n)[a.wAp.NumberFormats][e]}(e,U.Decimal),Rt(e,te.MinusSign)),e,te.Group,te.Decimal,t)}(function au(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,r)}catch(l){throw function qn(n,e){return new a.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function ar(n){return"server"===n}let uu=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new jh((0,a.LFG)(le),window)}),n})();class jh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gs extends class ed extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){X||(X=n)}(new Gs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Eu(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}();return null==t?null:function Vr(n){$n=$n||document.createElement("a"),$n.setAttribute("href",n);const e=$n.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function iu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let $n,Ws=null;const fn=new a.OlP("TRANSITION_ID"),Nl=[{provide:a.ip1,useFactory:function td(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=k(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[fn,le,a.zs3],multi:!0}];let kl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Iu=new a.OlP("EventManagerPlugins");let nd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Iu),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ol{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=k().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let vo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),bo=(()=>{class n extends vo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(rd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(rd))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function rd(n){k().remove(n)}const wo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},id=/%COMP%/g;function Tu(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Tu(n,o,t):(o=o.replace(id,n),t.push(o))}return t}function sd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Eo=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Io(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new od(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case a.ifc.ShadowDom:return new ad(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Tu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(nd),a.LFG(bo),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Io{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ha(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ha(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=wo[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=wo[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,o&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,sd(r)):this.eventManager.addEventListener(e,t,sd(r))}}function ha(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class od extends Io{constructor(e,t,r,o){super(e),this.component=r;const l=Tu(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Tn(n){return"_ngcontent-%COMP%".replace(id,n)}(o+"-"+r.id),this.hostAttr=function Du(n){return"_nghost-%COMP%".replace(id,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ad extends Io{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Tu(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nr=(()=>{class n extends Ol{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const fa=["alt","control","meta","shift"],pa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Di={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ga=(()=>{class n extends Ol{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),h="code."),fa.forEach(C=>{const S=r.indexOf(C);S>-1&&(r.splice(S,1),h+=C+".")}),h+=l,0!=r.length||0===l.length)return null;const b={};return b.domEventName=o,b.fullKey=h,b}static matchEventFullKeyCode(t,r){let o=pa[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(o=t.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),fa.forEach(h=>{h!==o&&(0,Di[h])(t)&&(l+=h+".")}),l+=o,l===r)}static eventCallback(t,r,o){return l=>{n.matchEventFullKeyCode(l,t)&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Mu=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Su(){Gs.makeCurrent()},multi:!0},{provide:le,useFactory:function ya(){return(0,a.RDi)(document),document},deps:[]}]),ws=new a.OlP(""),ld=[{provide:a.rWj,useClass:class $h{addToWindow(e){a.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const o=a.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Es=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Ys(){return new a.qLn},deps:[]},{provide:Iu,useClass:nr,multi:!0,deps:[le,a.R0b,a.Lbi]},{provide:Iu,useClass:ga,multi:!0,deps:[le]},{provide:Eo,useClass:Eo,deps:[nd,bo,a.AFp]},{provide:a.FYo,useExisting:Eo},{provide:vo,useExisting:bo},{provide:bo,useClass:bo,deps:[le]},{provide:nd,useClass:nd,deps:[Iu,a.R0b]},{provide:class yo{},useClass:kl,deps:[]},[]];let Ll=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:fn,useExisting:a.AFp},Nl]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ws,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Es,...ld],imports:[go,a.hGG]}),n})(),Ji=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Co(){return new Ji((0,a.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var on=O(8996),fi=O(7669);function nt(...n){const e=(0,fi.yG)(n);return(0,on.D)(n,e)}var Qr=O(7579);class _n extends Qr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const wa=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Dr=O(9751);const{isArray:Cs}=Array,{getPrototypeOf:Ou,prototype:Xp,keys:Zl}=Object;function Ea(n){if(1===n.length){const e=n[0];if(Cs(e))return{args:e,keys:null};if(function Mo(n){return n&&"object"==typeof n&&Ou(n)===Xp}(e)){const t=Zl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ds=O(4671),rt=O(4004);const{isArray:Ia}=Array;function Ca(n){return(0,rt.U)(e=>function Ts(n,e){return Ia(e)?n(...e):n(e)}(n,e))}function Ro(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Hn=O(5403),jl=O(9672);function Po(...n){const e=(0,fi.yG)(n),t=(0,fi.jO)(n),{args:r,keys:o}=Ea(n);if(0===r.length)return(0,on.D)([],e);const l=new Dr.y(function eg(n,e,t=Ds.y){return r=>{ql(e,()=>{const{length:o}=n,l=new Array(o);let h=o,m=o;for(let b=0;b<o;b++)ql(e,()=>{const C=(0,on.D)(n[b],e);let S=!1;C.subscribe((0,Hn.x)(r,R=>{l[b]=R,S||(S=!0,m--),m||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Ro(o,h):Ds.y));return t?l.pipe(Ca(t)):l}function ql(n,e,t){n?(0,jl.f)(t,n,e):e()}var Fu=O(8189);function As(...n){return function Da(){return(0,Fu.J)(1)}()((0,on.D)(n,(0,fi.yG)(n)))}var Ss=O(8421);function gi(n){return new Dr.y(e=>{(0,Ss.Xf)(n()).subscribe(e)})}var $l=O(9635),No=O(576);function Zr(n,e){const t=(0,No.m)(n)?n:()=>n,r=o=>o.error(t());return new Dr.y(e?o=>e.schedule(r,0,o):r)}var es=O(515),Ti=O(727),pr=O(4482);function xs(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Hn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ts extends Dr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ti.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Hn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ti.w0.EMPTY)}return e}refCount(){return xs()(this)}}function Un(n,e){return(0,pr.e)((t,r)=>{let o=null,l=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe((0,Hn.x)(r,b=>{o?.unsubscribe();let C=0;const S=l++;(0,Ss.Xf)(n(b,S)).subscribe(o=(0,Hn.x)(r,R=>r.next(e?e(b,R,S,C++):R),()=>{o=null,m()}))},()=>{h=!0,m()}))})}function pn(n){return n<=0?()=>es.E:(0,pr.e)((e,t)=>{let r=0;e.subscribe((0,Hn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Lu(...n){const e=(0,fi.yG)(n);return(0,pr.e)((t,r)=>{(e?As(n,t,e):As(n,t)).subscribe(r)})}function I(n,e){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,Hn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}var D=O(5577);function x(n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Hn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function F(n=Y){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Hn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Y(){return new wa}function re(n,e){const t=arguments.length>=2;return r=>r.pipe(n?I((o,l)=>n(o,l,r)):Ds.y,pn(1),t?x(e):F(()=>new wa))}function we(n,e){return(0,No.m)(e)?(0,D.z)(n,e,1):(0,D.z)(n,1)}var Re=O(8505);function Je(n){return(0,pr.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,Hn.x)(t,void 0,void 0,h=>{l=(0,Ss.Xf)(n(h,Je(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}function ft(n,e,t,r,o){return(l,h)=>{let m=t,b=e,C=0;l.subscribe((0,Hn.x)(h,S=>{const R=C++;b=m?n(b,S,R):(m=!0,S),r&&h.next(b)},o&&(()=>{m&&h.next(b),h.complete()})))}}function wt(n,e){return(0,pr.e)(ft(n,e,arguments.length>=2,!0))}function ot(n){return n<=0?()=>es.E:(0,pr.e)((e,t)=>{let r=[];e.subscribe((0,Hn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function vn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?I((o,l)=>n(o,l,r)):Ds.y,ot(1),t?x(e):F(()=>new wa))}function Ms(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Et="primary",Ai=Symbol("RouteTitle");class Rs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jr(n){return new Rs(n)}function Oo(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!Wh(n[o],e[o]))return!1;return!0}function Wh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function tg(n){return Array.prototype.concat.apply([],n)}function ng(n){return n.length>0?n[n.length-1]:null}function Gn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Si(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,on.D)(Promise.resolve(n)):nt(n)}const S0={exact:function ig(n,e,t){if(!no(n.segments,e.segments)||!to(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ig(n.children[r],e.children[r],t))return!1;return!0},subset:Ta},Kh={exact:function Yh(n,e){return mi(n,e)},subset:function sg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Wh(n[t],e[t]))},ignored:()=>!0};function Iy(n,e,t){return S0[t.paths](n.root,e.root,t.matrixParams)&&Kh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ta(n,e,t){return dd(n,e,e.segments,t)}function dd(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!no(o,t)||e.hasChildren()||!to(o,t,r))}if(n.segments.length===t.length){if(!no(n.segments,t)||!to(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Ta(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(no(n.segments,o)&&to(n.segments,o,r)&&n.children[Et])&&dd(n.children[Et],e,l,r)}}function to(n,e,t){return e.every((r,o)=>Kh[t](n[o].parameters,r.parameters))}class Aa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return pd.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gd(this)}}class hd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Jr(this.parameters)),this._parameterMap}toString(){return ug(this)}}function no(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Qh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new fd},providedIn:"root"}),n})();class fd{parse(e){const t=new Ay(e);return new Aa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Sa(e.root,!0)}`,r=function M0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Gl(t)}=${Gl(o)}`).join("&"):`${Gl(t)}=${Gl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Cy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const pd=new fd;function gd(n){return n.segments.map(e=>ug(e)).join("/")}function Sa(n,e){if(!n.hasChildren())return gd(n);if(e){const t=n.children[Et]?Sa(n.children[Et],!1):"",r=[];return Gn(n.children,(o,l)=>{l!==Et&&r.push(`${l}:${Sa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function og(n,e){let t=[];return Gn(n.children,(r,o)=>{o===Et&&(t=t.concat(e(r,o)))}),Gn(n.children,(r,o)=>{o!==Et&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Et?[Sa(n.children[Et],!1)]:[`${o}:${Sa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Et]?`${gd(n)}/${t[0]}`:`${gd(n)}/(${t.join("//")})`}}function ag(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gl(n){return ag(n).replace(/%3B/gi,";")}function xi(n){return ag(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fo(n){return decodeURIComponent(n)}function Jh(n){return Fo(n.replace(/\+/g,"%20"))}function ug(n){return`${xi(n.path)}${function x0(n){return Object.keys(n).map(e=>`;${xi(e)}=${xi(n[e])}`).join("")}(n.parameters)}`}const R0=/^[^\/()?;=#]+/;function lg(n){const e=n.match(R0);return e?e[0]:""}const Lo=/^[^=?&#]+/,Ty=/^[^&#]+/;class Ay{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Et]=new Lt(e,t)),r}parseSegment(){const e=lg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new hd(Fo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lg(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=lg(this.remaining);o&&(r=o,this.capture(r))}e[Fo(t)]=Fo(r)}parseQueryParam(e){const t=function Dy(n){const e=n.match(Lo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Xh(n){const e=n.match(Ty);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Jh(t),l=Jh(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new a.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Et);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Et]:new Lt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function xa(n){return n.segments.length>0?new Lt([],{[Et]:n}):n}function Mi(n){const e={};for(const r of Object.keys(n.children)){const l=Mi(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Wl(n){if(1===n.numberOfChildren&&n.children[Et]){const e=n.children[Et];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}function Ps(n){return n instanceof Aa}function N0(n,e,t,r,o){if(0===t.length)return zl(e.root,e.root,e.root,r,o);const l=function hg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kl(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Gn(l.outlets,(b,C)=>{m[C]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new Kl(t,e,r)}(t);return l.toRoot()?zl(e.root,e.root,new Lt([],{}),r,o):function h(b){const C=function tf(n,e,t,r){if(n.isAbsolute)return new Uu(e.root,!0,0);if(-1===r)return new Uu(t,t===e.root,0);return function nf(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new a.vHH(4005,!1);o=r.segments.length}return new Uu(r,!1,o-l)}(t,r+(Ma(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,b),S=C.processChildren?Pa(C.segmentGroup,C.index,l.commands):Vu(C.segmentGroup,C.index,l.commands);return zl(e.root,C.segmentGroup,S,r,o)}(n.snapshot?._lastPathIndex)}function Ma(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ra(n){return"object"==typeof n&&null!=n&&n.outlets}function zl(n,e,t,r,o){let h,l={};r&&Gn(r,(b,C)=>{l[C]=Array.isArray(b)?b.map(S=>`${S}`):`${b}`}),h=n===e?t:dg(n,e,t);const m=xa(Mi(h));return new Aa(m,l,o)}function dg(n,e,t){const r={};return Gn(n.children,(o,l)=>{r[l]=o===e?t:dg(o,e,t)}),new Lt(n.segments,r)}class Kl{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ma(r[0]))throw new a.vHH(4003,!1);const o=r.find(Ra);if(o&&o!==ng(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Vu(n,e,t){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return Pa(n,e,t);const r=function xy(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],m=t[r];if(Ra(m))break;const b=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!_d(b,C,h))return l;r+=2}else{if(!_d(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Lt(n.segments.slice(0,r.pathIndex),{});return l.children[Et]=new Lt(n.segments.slice(r.pathIndex),n.children),Pa(l,0,o)}return r.match&&0===o.length?new Lt(n.segments,{}):r.match&&!n.hasChildren()?Pn(n,e,t):r.match?Pa(n,0,o):Pn(n,e,t)}function Pa(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const r=function yd(n){return Ra(n[0])?n[0].outlets:{[Et]:n}}(t),o={};return Gn(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=Vu(n.children[h],e,l))}),Gn(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Lt(n.segments,o)}}function Pn(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Ra(l)){const b=fg(l.outlets);return new Lt(r,b)}if(0===o&&Ma(t[0])){r.push(new hd(n.segments[e].path,pg(t[0]))),o++;continue}const h=Ra(l)?l.outlets[Et]:`${l}`,m=o<t.length-1?t[o+1]:null;h&&m&&Ma(m)?(r.push(new hd(h,pg(m))),o+=2):(r.push(new hd(h,{})),o++)}return new Lt(r,{})}function fg(n){const e={};return Gn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Pn(new Lt([],{}),0,t))}),e}function pg(n){const e={};return Gn(n,(t,r)=>e[r]=`${t}`),e}function _d(n,e,t){return n==t.path&&mi(e,t.parameters)}class Ns{constructor(e,t){this.id=e,this.url=t}}class rf extends Ns{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ns extends Ns{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vd extends Ns{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sf extends Ns{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class My extends Ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k0 extends Ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O0 extends Ns{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yl extends Ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bd extends Ns{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ed{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class af{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ry{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Id{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ql(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ql(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Bu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Bu(e,this._root).map(t=>t.value)}}function Ql(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ql(n,t);if(r)return r}return null}function Bu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Bu(n,t);if(r.length)return r.unshift(e),r}return[]}class Ri{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class lf extends uf{constructor(e,t){super(e),this.snapshot=t,lr(this,e)}toString(){return this.snapshot.toString()}}function Dd(n,e){const t=function rs(n,e){const h=new ks([],{},{},"",{},Et,e,null,n.root,-1,{});return new Sd("",new Ri(h,[]))}(n,e),r=new _n([new hd("",{})]),o=new _n({}),l=new _n({}),h=new _n({}),m=new _n(""),b=new Uo(r,o,h,m,l,Et,e,t.root);return b.snapshot=t.root,new lf(new Ri(b,[]),t)}class Uo{constructor(e,t,r,o,l,h,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.title=this.data?.pipe((0,rt.U)(C=>C[Ai]))??nt(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(e=>Jr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(e=>Jr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Td(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function Ad(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ks{constructor(e,t,r,o,l,h,m,b,C,S,R,Z){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.title=this.data?.[Ai],this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=S,this._correctedLastPathIndex=Z??S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sd extends uf{constructor(e,t){super(t),this.url=e,lr(this,t)}toString(){return xd(this._root)}}function lr(n,e){e.value._routerState=n,e.children.forEach(t=>lr(n,t))}function xd(n){const e=n.children.length>0?` { ${n.children.map(xd).join(", ")} } `:"";return`${n.value}${e}`}function Jl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mi(e.params,t.params)||n.params.next(t.params),function eo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Md(n,e){const t=mi(n.params,e.params)&&function Hl(n,e){return no(n,e)&&n.every((t,r)=>mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Md(n.parent,e.parent))}function ro(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function mg(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ro(n,r,o);return ro(n,r)})}(n,e,t);return new Ri(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>ro(n,m)),h}}const r=function yg(n){return new Uo(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>ro(n,l));return new Ri(r,o)}}const cf="ngNavigationCancelingError";function Zu(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=_g(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function _g(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[cf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function df(n){return vg(n)&&Ps(n.url)}function vg(n){return n&&n[cf]}class bg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f=!1;let g=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.changeDetector=l,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=o||Et,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,f);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,f);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,f);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,f);this._activatedRoute=t;const o=this.location,h=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,b=new v(t,m,o.injector);if(r&&function A(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(h);this.activated=o.createComponent(C,o.length,b)}else this.activated=o.createComponent(h,{index:o.length,injector:b,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(y),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class v{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Uo?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[g],encapsulation:2}),n})();function W(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rd(n){const e=n.children&&n.children.map(Rd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Et&&(t.component=P),t}function ei(n){return n.outlet||Et}function Xl(n,e){const t=n.filter(r=>ei(r)===e);return t.push(...n.filter(r=>ei(r)!==e)),t}function ec(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Pd{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Pi(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Gn(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Pi(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=Pi(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Pi(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new gg(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Ry(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(Jl(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Jl(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=ec(o.snapshot),b=m?.get(a._Vd)??null;h.attachRef=null,h.route=o,h.resolver=b,h.injector=m,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Eg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tc{constructor(e,t){this.component=e,this.route=t}}function Py(n,e,t){const r=n._root;return nc(r,e?e._root:null,t,[r.value])}function Na(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function nc(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Pi(e);return n.children.forEach(h=>{(function L0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function Ny(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!no(n.url,e.url);case"pathParamsOrQueryParamsChange":return!no(n.url,e.url)||!mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Md(n,e)||!mi(n.queryParams,e.queryParams);default:return!Md(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Eg(r)):(l.data=h.data,l._resolvedData=h._resolvedData),nc(n,e,l.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new tc(m.outlet.component,h))}else h&&Nd(e,m,o),o.canActivateChecks.push(new Eg(r)),nc(n,null,l.component?m?m.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Gn(l,(h,m)=>Nd(h,t.getContext(m),o)),o}function Nd(n,e,t){const r=Pi(n),o=n.value;Gn(r,(l,h)=>{Nd(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new tc(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function kd(n){return"function"==typeof n}function Ig(n){return n instanceof wa||"EmptyError"===n?.name}const Cg=Symbol("INITIAL_VALUE");function Od(){return Un(n=>Po(n.map(e=>e.pipe(pn(1),Lu(Cg)))).pipe((0,rt.U)(e=>{for(const t of e)if(!0!==t){if(t===Cg)return Cg;if(!1===t||t instanceof Aa)return t}return!0}),I(e=>e!==Cg),pn(1)))}function ti(n){return(0,$l.z)((0,Re.b)(e=>{if(Ps(e))throw Zu(0,e)}),(0,rt.U)(e=>!0===e))}const Dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tg(n,e,t,r,o){const l=Ar(n,e,t);return l.matched?function Ly(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?nt(o.map(h=>{const m=Na(h,n);return Si(function xI(n){return n&&kd(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Od(),ti()):nt(!0)}(r=W(e,r),e,t).pipe((0,rt.U)(h=>!0===h?l:{...Dg})):nt(l)}function Ar(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Dg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Oo)(t,n,e);if(!o)return{...Dg};const l={};Gn(o.posParams,(m,b)=>{l[b]=m.path});const h=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function qu(n,e,t,r,o="corrected"){if(t.length>0&&function VI(n,e,t){return t.some(r=>Ag(n,e,r)&&ei(r)!==Et)}(n,t,r)){const h=new Lt(e,function UI(n,e,t,r){const o={};o[Et]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ei(l)!==Et){const h=new Lt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[ei(l)]=h}return o}(n,e,r,new Lt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function Z0(n,e,t){return t.some(r=>Ag(n,e,r))}(n,t,r)){const h=new Lt(n.segments,function B0(n,e,t,r,o,l){const h={};for(const m of r)if(Ag(n,t,m)&&!o[ei(m)]){const b=new Lt([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[ei(m)]=b}return{...o,...h}}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new Lt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Ag(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uy(n,e,t,r){return!!(ei(n)===r||r!==Et&&Ag(e,t,n))&&("**"===n.path||Ar(e,n,t).matched)}function j0(n,e,t){return 0===e.length&&!n.children[t]}const ff=!1;class Sg{constructor(e){this.segmentGroup=e||null}}class q0{constructor(e){this.urlTree=e}}function pf(n){return Zr(new Sg(n))}function $0(n){return Zr(new q0(n))}class ZI{constructor(e,t,r,o,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0}apply(){const e=qu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Et).pipe((0,rt.U)(l=>this.createUrlTree(Mi(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Je(l=>{if(l instanceof q0)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Sg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Et).pipe((0,rt.U)(o=>this.createUrlTree(Mi(o),e.queryParams,e.fragment))).pipe(Je(o=>{throw o instanceof Sg?this.noMatchError(o):o}))}noMatchError(e){return new a.vHH(4002,ff)}createUrlTree(e,t,r){const o=xa(e);return new Aa(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,rt.U)(l=>new Lt([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,on.D)(o).pipe(we(l=>{const h=r.children[l],m=Xl(t,l);return this.expandSegmentGroup(e,m,h,l).pipe((0,rt.U)(b=>({segment:b,outlet:l})))}),wt((l,h)=>(l[h.outlet]=h.segment,l),{}),vn())}expandSegment(e,t,r,o,l,h){return(0,on.D)(r).pipe(we(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,l,h).pipe(Je(C=>{if(C instanceof Sg)return nt(null);throw C}))),re(m=>!!m),Je((m,b)=>{if(Ig(m))return j0(t,o,l)?nt(new Lt([],{})):pf(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,l,h,m){return Uy(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):pf(t):pf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$0(l):this.lineralizeSegments(r,l).pipe((0,D.z)(h=>{const m=new Lt(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:m,consumedSegments:b,remainingSegments:C,positionalParamSegments:S}=Ar(t,o,l);if(!m)return pf(t);const R=this.applyRedirectCommands(b,o.redirectTo,S);return o.redirectTo.startsWith("/")?$0(R):this.lineralizeSegments(o,R).pipe((0,D.z)(Z=>this.expandSegment(e,t,r,Z.concat(C),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){return"**"===r.path?(e=W(r,e),r.loadChildren?(r._loadedRoutes?nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,rt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Lt(o,{})))):nt(new Lt(o,{}))):Tg(t,r,o,e).pipe(Un(({matched:h,consumedSegments:m,remainingSegments:b})=>h?this.getChildConfig(e=r._injector??e,r,o).pipe((0,D.z)(S=>{const R=S.injector??e,Z=S.routes,{segmentGroup:Q,slicedSegments:oe}=qu(t,m,b,Z),Me=new Lt(Q.segments,Q.children);if(0===oe.length&&Me.hasChildren())return this.expandChildren(R,Z,Me).pipe((0,rt.U)(Ut=>new Lt(m,Ut)));if(0===Z.length&&0===oe.length)return nt(new Lt(m,{}));const Fe=ei(r)===l;return this.expandSegment(R,Me,Z,oe,Fe?Et:l,!0).pipe((0,rt.U)(Dt=>new Lt(m.concat(Dt.segments),Dt.children)))})):pf(t)))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function LI(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?nt(!0):nt(o.map(h=>{const m=Na(h,n);return Si(function ky(n){return n&&kd(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Od(),ti())}(e,t,r).pipe((0,D.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Re.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function Fd(n){return Zr(_g(ff,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return nt(r);if(o.numberOfChildren>1||!o.children[Et])return Zr(new a.vHH(4e3,ff));o=o.children[Et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new Aa(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gn(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=t[m]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Gn(t.children,(m,b)=>{h[b]=this.createSegmentGroup(e,m,r,o)}),new Lt(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new a.vHH(4001,ff);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class EA{}class Vo{constructor(e,t,r,o,l,h,m,b){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m,this.urlSerializer=b}recognize(){const e=qu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Et).pipe((0,rt.U)(t=>{if(null===t)return null;const r=new ks([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ri(r,t),l=new Sd(this.url,o);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=Td(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,on.D)(Object.keys(r.children)).pipe(we(o=>{const l=r.children[o],h=Xl(t,o);return this.processSegmentGroup(e,h,l,o)}),wt((o,l)=>o&&l?(o.push(...l),o):null),function ur(n,e=!1){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,Hn.x)(r,l=>{const h=n(l,o++);(h||e)&&r.next(l),!h&&r.complete()}))})}(o=>null!==o),x(null),vn(),(0,rt.U)(o=>{if(null===o)return null;const l=jy(o);return function By(n){n.sort((e,t)=>e.value.outlet===Et?-1:t.value.outlet===Et?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,o,l){return(0,on.D)(t).pipe(we(h=>this.processSegmentAgainstRoute(h._injector??e,h,r,o,l)),re(h=>!!h),Je(h=>{if(Ig(h))return j0(r,o,l)?nt([]):nt(null);throw h}))}processSegmentAgainstRoute(e,t,r,o,l){if(t.redirectTo||!Uy(t,r,o,l))return nt(null);let h;if("**"===t.path){const m=o.length>0?ng(o).parameters:{},b=G0(r)+o.length;h=nt({snapshot:new ks(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xg(t),ei(t),t.component??t._loadedComponent??null,t,Ld(r),b,Mg(t),b),consumedSegments:[],remainingSegments:[]})}else h=Tg(r,t,o,e).pipe((0,rt.U)(({matched:m,consumedSegments:b,remainingSegments:C,parameters:S})=>{if(!m)return null;const R=G0(r)+b.length;return{snapshot:new ks(b,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xg(t),ei(t),t.component??t._loadedComponent??null,t,Ld(r),R,Mg(t),R),consumedSegments:b,remainingSegments:C}}));return h.pipe(Un(m=>{if(null===m)return nt(null);const{snapshot:b,consumedSegments:C,remainingSegments:S}=m;e=t._injector??e;const R=t._loadedInjector??e,Z=function Zy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Q,slicedSegments:oe}=qu(r,C,S,Z.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution);if(0===oe.length&&Q.hasChildren())return this.processChildren(R,Z,Q).pipe((0,rt.U)(Fe=>null===Fe?null:[new Ri(b,Fe)]));if(0===Z.length&&0===oe.length)return nt([new Ri(b,[])]);const Me=ei(t)===l;return this.processSegment(R,Z,Q,oe,Me?Et:l).pipe((0,rt.U)(Fe=>null===Fe?null:[new Ri(b,Fe)]))}))}}function qI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jy(n){const e=[],t=new Set;for(const r of n){if(!qI(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=jy(r.children);e.push(new Ri(r.value,o))}return e.filter(r=>!t.has(r))}function Ld(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function G0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function xg(n){return n.data||{}}function Mg(n){return n.resolve||{}}function Rg(n){return"string"==typeof n.title||null===n.title}function $y(n){return Un(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,rt.U)(()=>e)):nt(e)})}let Y0=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===Et);return r}getResolvedTitleForRoute(t){return t.data[Ai]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Q0)},providedIn:"root"}),n})(),Q0=(()=>{class n extends Y0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ji))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GI{}class J0 extends class WI{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const gf=new a.OlP("",{providedIn:"root",factory:()=>({})}),Gy=new a.OlP("ROUTES");let Wy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Si(t.loadComponent()).pipe((0,Re.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Ms(()=>{this.componentLoaders.delete(t)})),o=new ts(r,()=>new Qr.x).pipe(xs());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,rt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let b,C,S=!1;Array.isArray(m)?C=m:(b=m.create(t).injector,C=tg(b.get(Gy,[],a.XFs.Self|a.XFs.Optional)));return{routes:C.map(Rd),injector:b}}),Ms(()=>{this.childrenLoaders.delete(r)})),h=new ts(l,()=>new Qr.x).pipe(xs());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(t){return Si(t()).pipe((0,D.z)(r=>r instanceof a.YKP||Array.isArray(r)?nt(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class X0{}class eb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function tb(n){throw n}function nb(n,e,t){return e.parse("/")}const zI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function rb(){const n=(0,a.f3M)(Qh),e=(0,a.f3M)(y),t=(0,a.f3M)(Ae),r=(0,a.f3M)(a.zs3),o=(0,a.f3M)(a.Sil),l=(0,a.f3M)(Gy,{optional:!0})??[],h=(0,a.f3M)(gf,{optional:!0})??{},m=(0,a.f3M)(Q0),b=(0,a.f3M)(Y0,{optional:!0}),C=(0,a.f3M)(X0,{optional:!0}),S=(0,a.f3M)(GI,{optional:!0}),R=new gr(null,n,e,t,r,o,tg(l));return C&&(R.urlHandlingStrategy=C),S&&(R.routeReuseStrategy=S),R.titleStrategy=b??m,function Ng(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,R),R}let gr=(()=>{class n{constructor(t,r,o,l,h,m,b){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qr.x,this.errorHandler=tb,this.malformedUriErrorHandler=nb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new eb,this.routeReuseStrategy=new J0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(Wy),this.configLoader.onLoadEndListener=Z=>this.triggerEvent(new Ed(Z)),this.configLoader.onLoadStartListener=Z=>this.triggerEvent(new wd(Z)),this.ngModule=h.get(a.h0i),this.console=h.get(a.c2e);const R=h.get(a.R0b);this.isNgZoneEnabled=R instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function rg(){return new Aa(new Lt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dd(this.currentUrlTree,this.rootComponentType),this.transitions=new _n({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(I(o=>0!==o.id),(0,rt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Un(o=>{let l=!1,h=!1;return nt(o).pipe((0,Re.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Un(m=>{const b=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return zy(m.source)&&(this.browserUrlTree=m.extractedUrl),nt(m).pipe(Un(R=>{const Z=this.transitions.getValue();return r.next(new rf(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),Z!==this.transitions.getValue()?es.E:Promise.resolve(R)}),function jI(n,e,t,r){return Un(o=>function ka(n,e,t,r,o){return new ZI(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,rt.U)(l=>({...o,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Re.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},o.urlAfterRedirects=R.urlAfterRedirects}),function z0(n,e,t,r,o,l){return(0,D.z)(h=>function IA(n,e,t,r,o,l,h="emptyOnly",m="legacy"){return new Vo(n,e,t,r,o,h,m,l).recognize().pipe(Un(b=>null===b?function H0(n){return new Dr.y(e=>e.error(n))}(new EA):nt(b)))}(n,e,t,h.urlAfterRedirects,r.serialize(h.urlAfterRedirects),r,o,l).pipe((0,rt.U)(m=>({...h,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Re.b)(R=>{if(o.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(Q,R)}this.browserUrlTree=R.urlAfterRedirects}const Z=new My(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(Z)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Z,extractedUrl:Q,source:oe,restoredState:Me,extras:Fe}=m,bt=new rf(Z,this.serializeUrl(Q),oe,Me);r.next(bt);const Dt=Dd(Q,this.rootComponentType).snapshot;return nt(o={...m,targetSnapshot:Dt,urlAfterRedirects:Q,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),es.E}),(0,Re.b)(m=>{const b=new k0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,rt.U)(m=>o={...m,guards:Py(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function RI(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?nt({...t,guardsResult:!0}):function PI(n,e,t,r){return(0,on.D)(n).pipe((0,D.z)(o=>function FI(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?nt(l.map(m=>{const b=ec(e)??o,C=Na(m,b);return Si(function hf(n){return n&&kd(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):b.runInContext(()=>C(n,e,t,r))).pipe(re())})).pipe(Od()):nt(!0)}(o.component,o.route,t,e,r)),re(o=>!0!==o,!0))}(h,r,o,n).pipe((0,D.z)(m=>m&&function U0(n){return"boolean"==typeof n}(m)?function Fy(n,e,t,r){return(0,on.D)(e).pipe(we(o=>As(function kI(n,e){return null!==n&&e&&e(new af(n)),nt(!0)}(o.route.parent,r),function NI(n,e){return null!==n&&e&&e(new Id(n)),nt(!0)}(o.route,r),function V0(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function F0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>gi(()=>nt(h.guards.map(b=>{const C=ec(h.node)??t,S=Na(b,C);return Si(function Oy(n){return n&&kd(n.canActivateChild)}(S)?S.canActivateChild(r,n):C.runInContext(()=>S(r,n))).pipe(re())})).pipe(Od())));return nt(l).pipe(Od())}(n,o.path,t),function OI(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const o=r.map(l=>gi(()=>{const h=ec(e)??t,m=Na(l,h);return Si(function SI(n){return n&&kd(n.canActivate)}(m)?m.canActivate(e,n):h.runInContext(()=>m(e,n))).pipe(re())}));return nt(o).pipe(Od())}(n,o.route,t))),re(o=>!0!==o,!0))}(r,l,n,e):nt(m)),(0,rt.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Re.b)(m=>{if(o.guardsResult=m.guardsResult,Ps(m.guardsResult))throw Zu(0,m.guardsResult);const b=new O0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),I(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),$y(m=>{if(m.guards.canActivateChecks.length)return nt(m).pipe((0,Re.b)(b=>{const C=new Yl(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),Un(b=>{let C=!1;return nt(b).pipe(function CA(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return nt(t);let l=0;return(0,on.D)(o).pipe(we(h=>function Ud(n,e,t,r){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!Rg(o)&&(l[Ai]=o.title),function qy(n,e,t,r){const o=function K0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return nt({});const l={};return(0,on.D)(o).pipe((0,D.z)(h=>function HI(n,e,t,r){const o=ec(e)??r,l=Na(n,o);return Si(l.resolve?l.resolve(e,t):o.runInContext(()=>l(e,t)))}(n[h],e,t,r).pipe(re(),(0,Re.b)(m=>{l[h]=m}))),ot(1),function ko(n){return(0,rt.U)(()=>n)}(l),Je(h=>Ig(h)?es.E:Zr(h)))}(l,n,e,r).pipe((0,rt.U)(h=>(n._resolvedData=h,n.data=Td(n,t).resolve,o&&Rg(o)&&(n.data[Ai]=o.title),null)))}(h.route,r,n,e)),(0,Re.b)(()=>l++),ot(1),(0,D.z)(h=>l===o.length?nt(t):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Re.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"",2))}}))}),(0,Re.b)(b=>{const C=new bd(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),$y(m=>{const b=C=>{const S=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Re.b)(R=>{C.component=R}),(0,rt.U)(()=>{})));for(const R of C.children)S.push(...b(R));return S};return Po(b(m.targetSnapshot.root)).pipe(x(),pn(1))}),$y(()=>this.afterPreactivation()),(0,rt.U)(m=>{const b=function Xr(n,e,t){const r=ro(n,e._root,t?t._root:void 0);return new lf(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:b}}),(0,Re.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,rt.U)(r=>(new Pd(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Re.b)({next(){l=!0},complete(){l=!0}}),Ms(()=>{l||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Je(m=>{if(h=!0,vg(m)){df(m)||(this.navigated=!0,this.restoreHistory(o,!0));const b=new vd(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(b),df(m)){const C=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zy(o.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new sf(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(b);try{o.resolve(this.errorHandler(m))}catch(C){o.reject(C)}}return es.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},l=t.state?.navigationId?t.state:null;if(l){const m={...l};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,l,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Rd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,C=o||this.routerState.root,S=b?this.currentUrlTree.fragment:h;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...l};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}return null!==R&&(R=this.removeEmptyProps(R)),N0(C,this.currentUrlTree,t,R,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ps(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ib(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...zI}:!1===r?{...TA}:r,Ps(t))return Iy(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Iy(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ns(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){if(this.disposed)return Promise.resolve(!1);let m,b,C;h?(m=h.resolve,b=h.reject,C=h.promise):C=new Promise((Z,Q)=>{m=Z,b=Q});const S=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),R=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:S,targetPageId:R,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:m,reject:b,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(Z=>Promise.reject(Z))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const l=new vd(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(l),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return rb()},providedIn:"root"}),n})();function zy(n){return"imperative"!==n}let rc=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Qr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gr),a.Y36(Uo),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),Vd=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Qr.x,this.subscription=t.events.subscribe(l=>{l instanceof ns&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,l,h){return!!(0!==t||r||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gr),a.Y36(Uo),a.Y36(me))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),mf=(()=>{class n{constructor(t,r,o,l,h,m){this.router=t,this.element=r,this.renderer=o,this.cdr=l,this.link=h,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(b=>{b instanceof ns&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,Fu.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,on.D)(t).pipe((0,Fu.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function kg(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gr),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(rc,8),a.Y36(Vd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(a.Suo(o,rc,5),a.Suo(o,Vd,5)),2&t){let l;a.iGM(l=a.CRH())&&(r.links=l),a.iGM(l=a.CRH())&&(r.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),n})();class Ky{}let Yy=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(I(t=>t instanceof ns),we(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,a.MMx)(l.providers,t,`Route: ${l.path}`));const h=l._injector??t,m=l._loadedInjector??h;l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent?o.push(this.preloadConfig(h,l)):(l.children||l._loadedRoutes)&&o.push(this.processRoutes(m,l.children??l._loadedRoutes))}return(0,on.D)(o).pipe((0,Fu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const l=o.pipe((0,D.z)(h=>null===h?nt(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,on.D)([l,h]).pipe((0,Fu.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(gr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Ky),a.LFG(Wy))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ic=new a.OlP("");let ob=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ns&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Tr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function sc(n,e){return{\u0275kind:n,\u0275providers:e}}function _f(n){return[{provide:Gy,multi:!0,useValue:n}]}function QI(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(gr),o=n.get(Qy);1===n.get(Jy)&&r.initialNavigation(),n.get(Os,null,a.XFs.Optional)?.setUpPreloading(),n.get(ic,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const Qy=new a.OlP("",{factory:()=>new Qr.x}),Jy=new a.OlP("",{providedIn:"root",factory:()=>1});const Os=new a.OlP("");function eC(n){return sc(0,[{provide:Os,useExisting:Yy},{provide:Ky,useExisting:n}])}const lb=new a.OlP("ROUTER_FORROOT_GUARD"),nC=[Ae,{provide:Qh,useClass:fd},{provide:gr,useFactory:rb},y,{provide:Uo,useFactory:function ab(n){return n.routerState.root},deps:[gr]},Wy];function cb(){return new a.PXZ("Router",gr)}let db=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[nC,[],_f(t),{provide:lb,useFactory:hb,deps:[[gr,new a.FiY,new a.tp0]]},{provide:gf,useValue:r||{}},r?.useHash?{provide:me,useClass:et}:{provide:me,useClass:ze},{provide:ic,useFactory:()=>{const n=(0,a.f3M)(gr),e=(0,a.f3M)(uu),t=(0,a.f3M)(gf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new ob(n,e,t)}},r?.preloadingStrategy?eC(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:cb},r?.initialNavigation?fb(r):[],[{provide:Xy,useFactory:QI},{provide:a.tb,multi:!0,useExisting:Xy}]]}}static forChild(t){return{ngModule:n,providers:[_f(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(lb,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[P]}),n})();function hb(n){return"guarded"}function fb(n){return["disabled"===n.initialNavigation?sc(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(gr);return()=>{e.setUpLocationChangeListener()}}},{provide:Jy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sc(2,[{provide:Jy,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(V,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(l=>{const h=e.get(gr),m=e.get(Qy);(function o(l){e.get(gr).events.pipe(I(m=>m instanceof ns||m instanceof vd||m instanceof sf),(0,rt.U)(m=>m instanceof ns||m instanceof vd&&(0===m.code||1===m.code)&&null),I(m=>null!==m),pn(1)).subscribe(()=>{l()})})(()=>{l(!0),r=!0}),h.afterPreactivation=()=>(l(!0),r||m.closed?nt(void 0):m),h.initialNavigation()}))}}]).\u0275providers:[]]}const Xy=new a.OlP("");var pb=O(4986),Sr=O(5813);function Fg(){return(0,pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Hn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function aC(n,e){return n===e}var lt,Zo=O(2011),gb=(O(2476),O(3942)),ye=O(5861),oc=O(9681),Bd=O(4859),jo=O(1877),tn=O(2090),MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$u={},e_=e_||{},Ct=MA||self;function t_(){}function Lg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qo(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ug="closure_uid_"+(1e9*Math.random()>>>0),Vg=0;function cC(n,e,t){return n.call.apply(n.bind,arguments)}function mb(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ni(n,e,t){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cC:mb).apply(null,arguments)}function Bg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function Hu(){this.s=this.s,this.o=this.o}var yb={};Hu.prototype.s=!1,Hu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function lC(n){return Object.prototype.hasOwnProperty.call(n,Ug)&&n[Ug]||(n[Ug]=++Vg)}(this);delete yb[n]}},Hu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _b=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Zg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function n_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Lg(r)){const o=n.length||0,l=r.length||0;n.length=o+l;for(let h=0;h<l;h++)n[o+h]=r[h]}else n.push(r)}}function xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var RA=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",t_,e),Ct.removeEventListener("test",t_,e)}catch{}return n}();function Zd(n){return/^[\s\xa0]*$/.test(n)}var vb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bb(n,e){return n<e?-1:n>e?1:0}function Oa(){var n=Ct.navigator;return n&&(n=n.userAgent)?n:""}function io(n){return-1!=Oa().indexOf(n)}function jg(n){return jg[" "](n),n}jg[" "]=t_;var jd,n,so=io("Opera"),ac=io("Trident")||io("MSIE"),wb=io("Edge"),vf=wb||ac,$o=io("Gecko")&&!(-1!=Oa().toLowerCase().indexOf("webkit")&&!io("Edge"))&&!(io("Trident")||io("MSIE"))&&!io("Edge"),r_=-1!=Oa().toLowerCase().indexOf("webkit")&&!io("Edge");function i_(){var n=Ct.document;return n?n.documentMode:void 0}e:{var Eb="",$g=(n=Oa(),$o?/rv:([^\);]+)(\)|;)/.exec(n):wb?/Edge\/([\d\.]+)/.exec(n):ac?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):r_?/WebKit\/(\S+)/.exec(n):so?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if($g&&(Eb=$g?$g[1]:""),ac){var Ib=i_();if(null!=Ib&&Ib>parseFloat(Eb)){jd=String(Ib);break e}}jd=Eb}var Hg={};var s_=Ct.document&&ac&&(i_()||parseInt(jd,10))||void 0;function zg(n,e){if(xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($o){e:{try{jg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:hC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zg.X.h.call(this)}}jr(zg,xr);var hC={2:"touch",3:"pen",4:"mouse"};zg.prototype.h=function(){zg.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wf="closure_listenable_"+(1e6*Math.random()|0),fC=0;function pC(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++fC,this.ba=this.ea=!1}function Ef(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Cb(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Db(n){const e={};for(const t in n)e[t]=n[t];return e}const gC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function o_(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<gC.length;l++)t=gC[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function If(n){this.src=n,this.g={},this.h=0}function a_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=_b(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(Ef(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Cf(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return o}return-1}If.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Cf(n,e,r,o);return-1<h?(e=n[h],t||(e.ea=!1)):((e=new pC(e,this.src,l,!!r,o)).ea=t,n.push(e)),e};var Tb="closure_lm_"+(1e6*Math.random()|0),Ab={};function mC(n,e,t,r,o){if(r&&r.once)return _C(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)mC(n,e[l],t,r,o);return null}return t=u_(t),n&&n[wf]?n.N(e,t,qo(r)?!!r.capture:!!r,o):yC(n,e,t,!1,r,o)}function yC(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=qo(o)?!!o.capture:!!o,m=Ho(n);if(m||(n[Tb]=m=new If(n)),(t=m.add(e,t,r,h,l)).proxy)return t;if(r=function PA(){const e=NA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)RA||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(bC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _C(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)_C(n,e[l],t,r,o);return null}return t=u_(t),n&&n[wf]?n.O(e,t,qo(r)?!!r.capture:!!r,o):yC(n,e,t,!0,r,o)}function vC(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)vC(n,e[l],t,r,o);else r=qo(r)?!!r.capture:!!r,t=u_(t),n&&n[wf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Cf(l=n.g[e],t,r,o))&&(Ef(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Ho(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Cf(e,t,r,o)),(t=-1<n?e[n]:null)&&Sb(t))}function Sb(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[wf])a_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(bC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ho(e))?(a_(t,n),0==t.h&&(t.src=null,e[Tb]=null)):Ef(n)}}}function bC(n){return n in Ab?Ab[n]:Ab[n]="on"+n}function NA(n,e){if(n.ba)n=!0;else{e=new zg(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Sb(n),n=t.call(r,e)}return n}function Ho(n){return(n=n[Tb])instanceof If?n:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function u_(n){return"function"==typeof n?n:(n[Df]||(n[Df]=function(e){return n.handleEvent(e)}),n[Df])}function mr(){Hu.call(this),this.i=new If(this),this.P=this,this.I=null}function yr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new xr(e,n);else if(e instanceof xr)e.target=e.target||n;else{var o=e;o_(e=new xr(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=Tf(h,r,!0,e)&&o}if(o=Tf(h=e.g=n,r,!0,e)&&o,o=Tf(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Tf(h=e.g=t[l],r,!1,e)&&o}function Tf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ba&&h.capture==t){var m=h.listener,b=h.ha||h.src;h.ea&&a_(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}jr(mr,Hu),mr.prototype[wf]=!0,mr.prototype.removeEventListener=function(n,e,t,r){vC(this,n,e,t,r)},mr.prototype.M=function(){if(mr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ef(t[r]);delete n.g[e],n.h--}}this.I=null},mr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},mr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Af=Ct.JSON.stringify;function wC(){var n=uc;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var d_,l_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new EC,n=>n.reset());class EC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function IC(n){Ct.setTimeout(()=>{throw n},0)}function c_(n,e){d_||function CC(){var n=Ct.Promise.resolve(void 0);d_=function(){n.then(h_)}}(),qd||(d_(),qd=!0),uc.add(n,e)}var qd=!1,uc=new class Gu{constructor(){this.h=this.g=null}add(e,t){const r=l_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function h_(){for(var n;n=wC();){try{n.h.call(n.g)}catch(t){IC(t)}var e=l_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qd=!1}function Fa(n,e){mr.call(this),this.h=n||1,this.g=e||Ct,this.j=ni(this.kb,this),this.l=Date.now()}function Sf(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function $d(n,e,t){if("function"==typeof n)t&&(n=ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ct.setTimeout(n,e||0)}function f_(n){n.g=$d(()=>{n.g=null,n.i&&(n.i=!1,f_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jr(Fa,mr),(lt=Fa.prototype).ca=!1,lt.R=null,lt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yr(this,"tick"),this.ca&&(Sf(this),this.start()))}},lt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){Fa.X.M.call(this),Sf(this),delete this.g};class xb extends Hu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:f_(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lc(n){Hu.call(this),this.h=n,this.g={}}jr(lc,Hu);var Kg=[];function p_(n,e,t,r){Array.isArray(t)||(t&&(Kg[0]=t.toString()),t=Kg);for(var o=0;o<t.length;o++){var l=mC(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Yg(n){Cb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sb(e)},n),n.g={}}function Qg(){this.g=!0}function cc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Af(t)}catch{return e}}(n,t)+(r?" "+r:"")})}lc.prototype.M=function(){lc.X.M.call(this),Yg(this)},lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qg.prototype.Aa=function(){this.g=!1},Qg.prototype.info=function(){};var Wu={},Rb=null;function ri(){return Rb=Rb||new mr}function g_(n){xr.call(this,Wu.Oa,n)}function xf(n){const e=ri();yr(e,new g_(e,n))}function AC(n,e){xr.call(this,Wu.STAT_EVENT,n),this.stat=e}function yi(n){const e=ri();yr(e,new AC(e,n))}function Jg(n,e){xr.call(this,Wu.Pa,n),this.size=e}function Hd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},e)}Wu.Oa="serverreachability",jr(g_,xr),Wu.STAT_EVENT="statevent",jr(AC,xr),Wu.Pa="timingevent",jr(Jg,xr);var Xg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Pb={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function m_(){}function Nb(){}m_.prototype.h=null;var em,Gd={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function __(){xr.call(this,"d")}function v_(){xr.call(this,"c")}function Mf(){}function Rf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new lc(this),this.O=b_,this.T=new Fa(n=vf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}jr(__,xr),jr(v_,xr),jr(Mf,m_),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},em=new Mf;var b_=45e3,w_={},tm={};function kb(n,e,t){n.K=1,n.v=Yu(Go(e)),n.s=t,n.P=!0,E_(n,null)}function E_(n,e){n.F=Date.now(),dc(n),n.A=Go(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),qb(t.i,"t",r),n.C=0,t=n.l.H,n.h=new oo,n.g=N_(n.l,t?e:null,!n.s),0<n.N&&(n.L=new xb(ni(n.Ka,n,n.g),n.N)),p_(n.S,n.g,"readystatechange",n.hb),e=n.H?Db(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),xf(1),function kA(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var C=m[b].split("=");if(1<C.length){var S=C[0];C=C[1];var R=S.split("_");h=2<=R.length&&"type"==R[1]?h+(S+"=")+C+"&":h+(S+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Ob(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Fb(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=SC(n,t),o==tm){4==e&&(n.o=4,yi(14),r=!1),cc(n.j,n.m,null,"[Incomplete Response]");break}if(o==w_){n.o=4,yi(15),cc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}cc(n.j,n.m,o,null),Wd(n,o)}Ob(n)&&o!=tm&&o!=w_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Zf(e),e.K=!0,yi(11))):(cc(n.j,n.m,t,"[Invalid Chunked Response]"),La(n),zu(n))}function SC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?tm:(t=Number(e.substring(t,r)),isNaN(t)?w_:(r+=1)+t>e.length?tm:(e=e.substr(r,t),n.C=r+t,e))}function dc(n){n.V=Date.now()+n.O,Lb(n,n.O)}function Lb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hd(ni(n.fb,n),e)}function nm(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function zu(n){0==n.l.G||n.I||jf(n.l,n)}function La(n){nm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Sf(n.T),Yg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Wd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||T_(t.h,n)))if(!n.J&&T_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;bc(t),Uf(t)}Bf(t),yi(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Hd(ni(t.bb,t),6e3));if(1>=Hb(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else wc(t,11)}else if((n.J||t.g==n)&&bc(t),!Zd(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const S=C[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const R=C[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const Z=C[5];null!=Z&&"number"==typeof Z&&0<Z&&(t.J=r=1.5*Z,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const oe=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var l=r.h;l.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(A_(l,l.h),l.h=null))}if(r.D){const Me=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.za=Me,bn(r.F,r.D,Me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var h=n;if((r=t).sa=$f(r,r.H?r.ka:null,r.V),h.J){Gb(r.h,h);var m=h,b=r.J;b&&m.setTimeout(b),m.B&&(nm(m),dc(m)),r.g=h}else P_(r);0<t.i.length&&Vf(t)}else"stop"!=C[0]&&"close"!=C[0]||wc(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?wc(t,7):lm(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}xf(4)}catch{}}function xC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function I_(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Lg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function OA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Lg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}(lt=Rf.prototype).setTimeout=function(n){this.O=n},lt.hb=function(n){n=n.target;const e=this.L;e&&3==ki(n)?e.l():this.Ka(n)},lt.Ka=function(n){try{if(n==this.g)e:{const S=ki(this.g);var e=this.g.Ea();const R=this.g.aa();if(!(3>S)&&(3!=S||vf||this.g&&(this.h.h||this.g.fa()||S_(this.g)))){this.I||4!=S||7==e||xf(8==e||0>=R?3:2),nm(this);var t=this.g.aa();this.Y=t;t:if(Ob(this)){var r=S_(this.g);n="";var o=r.length,l=4==ki(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){La(this),zu(this);var h="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=200==t,function DC(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zd(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,yi(12),La(this),zu(this);break e}cc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wd(this,t)}this.P?(Fb(this,S,h),vf&&this.i&&3==S&&(p_(this.S,this.T,"tick",this.gb),this.T.start())):(cc(this.j,this.m,h,null),Wd(this,h)),4==S&&La(this),this.i&&!this.I&&(4==S?jf(this.l,this):(this.i=!1,dc(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),La(this),zu(this)}}}catch{}},lt.gb=function(){if(this.g){var n=ki(this.g),e=this.g.fa();this.C<e.length&&(nm(this),Fb(this,n,e),this.i&&4!=n&&dc(this))}},lt.cancel=function(){this.I=!0,La(this)},lt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function TC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(xf(3),yi(17)),La(this),this.o=2,zu(this)):Lb(this,this.V-n)};var C_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ku(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ku){this.h=void 0!==e?e:n.h,zd(this,n.j),this.s=n.s,this.g=n.g,Fs(this,n.m),this.l=n.l,e=n.i;var t=new Of;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Pf(this,t),this.o=n.o}else n&&(t=String(n).match(C_))?(this.h=!!e,zd(this,t[1]||"",!0),this.s=Nf(t[2]||""),this.g=Nf(t[3]||"",!0),Fs(this,t[4]),this.l=Nf(t[5]||"",!0),Pf(this,t[6]||"",!0),this.o=Nf(t[7]||"")):(this.h=!!e,this.i=new Of(null,this.h))}function Go(n){return new Ku(n)}function zd(n,e,t){n.j=t?Nf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fs(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Pf(n,e,t){e instanceof Of?(n.i=e,function D_(n,e){e&&!n.j&&(fc(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Zb(this,r),qb(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hc(e,RC)),n.i=new Of(e,n.h))}function bn(n,e,t){n.i.set(e,t)}function Yu(n){return bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Vb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Vb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ku.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hc(e,Bb,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hc(e,Bb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hc(t,"/"==t.charAt(0)?kf:MC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hc(t,FA)),n.join("")};var Bb=/[#\/\?@]/g,MC=/[#\?:]/g,kf=/[#\?]/g,RC=/[#\?@]/g,FA=/#/g;function Of(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fc(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ub(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zb(n,e){fc(n),e=pc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function jb(n,e){return fc(n),e=pc(n,e),n.g.has(e)}function qb(n,e,t){Zb(n,e),0<t.length&&(n.i=null,n.g.set(pc(n,e),Zg(t)),n.h+=t.length)}function pc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rm(n){this.l=n||NC,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ga&&Ct.g.Ga()&&Ct.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Of.prototype).add=function(n,e){fc(this),this.i=null,n=pc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){fc(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},lt.oa=function(){fc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let l=0;l<o.length;l++)t.push(e[r])}return t},lt.W=function(n){fc(this);let e=[];if("string"==typeof n)jb(this,n)&&(e=e.concat(this.g.get(pc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},lt.set=function(n,e){return fc(this),this.i=null,jb(this,n=pc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),h=this.W(r);for(r=0;r<h.length;r++){var o=l;""!==h[r]&&(o+="="+encodeURIComponent(String(h[r]))),n.push(o)}}return this.i=n.join("&")};var NC=10;function $b(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Hb(n){return n.h?1:n.g?n.g.size:0}function T_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function A_(n,e){n.g?n.g.add(e):n.h=e}function Gb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ff(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Zg(n.i)}function Ua(){}function LA(){this.g=new Ua}function Lf(n,e,t){const r=t||"";try{xC(n,function(o,l){let h=o;qo(o)&&(h=Af(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function im(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function gc(n){this.l=n.$b||null,this.j=n.ib||!1}function sm(n,e){mr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rm.prototype.cancel=function(){if(this.i=Ff(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Ua.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},Ua.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},jr(gc,m_),gc.prototype.g=function(){return new sm(this.l,this.j)},gc.prototype.i=function(n){return function(){return n}}({}),jr(sm,mr);var Ls=0;function Kd(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function cr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ao(n)}function ao(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=sm.prototype).open=function(n,e){if(this.readyState!=Ls)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ao(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cr(this)),this.readyState=Ls},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ao(this)),this.g&&(this.readyState=3,ao(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kd(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cr(this):ao(this),3==this.readyState&&Kd(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,cr(this))},lt.Ta=function(n){this.g&&(this.response=n,cr(this))},lt.ga=function(){this.g&&cr(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var om=Ct.JSON.parse;function an(n){mr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=am,this.K=this.L=!1}jr(an,mr);var am="",Yd=/^https?$/i,Qd=["POST","PUT"];function mc(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yc(n),Va(n)}function yc(n){n.D||(n.D=!0,yr(n,"complete"),yr(n,"error"))}function _c(n){if(n.h&&typeof e_<"u"&&(!n.C[1]||4!=ki(n)||2!=n.aa()))if(n.v&&4==ki(n))$d(n.Ha,0,n);else if(yr(n,"readystatechange"),4==ki(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(C_)[1]||null;if(!o&&Ct.self&&Ct.self.location){var l=Ct.self.location.protocol;o=l.substr(0,l.length-1)}r=!Yd.test(o?o.toLowerCase():"")}t=r}if(t)yr(n,"complete"),yr(n,"success");else{n.m=6;try{var h=2<ki(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.aa()+"]",yc(n)}}finally{Va(n)}}}function Va(n,e){if(n.g){vc(n);const t=n.g,r=n.C[0]?t_:null;n.g=null,n.C=null,e||yr(n,"ready");try{t.onreadystatechange=r}catch{}}}function vc(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function ki(n){return n.g?n.g.readyState:0}function S_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case am:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function x_(n){let e="";return Cb(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function um(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=x_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):bn(n,e,t))}function Xd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function M_(n){this.Ca=0,this.i=[],this.j=new Qg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Xd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Xd("baseRetryDelayMs",5e3,n),this.ab=Xd("retryDelaySeedMs",1e4,n),this.Za=Xd("forwardChannelMaxRetries",2,n),this.ta=Xd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new rm(n&&n.concurrentRequestLimit),this.Fa=new LA,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function lm(n){if(R_(n),3==n.G){var e=n.U++,t=Go(n.F);bn(t,"SID",n.I),bn(t,"RID",e),bn(t,"TYPE","terminate"),eh(n,t),(e=new Rf(n,n.j,e,void 0)).K=2,e.v=Yu(Go(t)),t=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(t=Ct.navigator.sendBeacon(e.v.toString(),"")),!t&&Ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=N_(e.l,null),e.g.da(e.v)),e.F=Date.now(),dc(e)}qf(n)}function Uf(n){n.g&&(Zf(n),n.g.cancel(),n.g=null)}function R_(n){Uf(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),bc(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function Vf(n){$b(n.h)||n.m||(n.m=!0,c_(n.Ja,n),n.C=0)}function Wb(n,e){var t;t=e?e.m:n.U++;const r=Go(n.F);bn(r,"SID",n.I),bn(r,"RID",t),bn(r,"AID",n.T),eh(n,r),n.o&&n.s&&um(r,n.o,n.s),t=new Rf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=zb(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),A_(n.h,t),kb(t,r,e)}function eh(n,e){n.ia&&Cb(n.ia,function(t,r){bn(e,r,t)}),n.l&&xC({},function(t,r){bn(e,r,t)})}function zb(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ni(n.l.Qa,n.l,n):null;e:{var o=n.i;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<t;b++){let C=o[b].h;const S=o[b].g;if(C-=l,0>C)l=Math.max(0,o[b].h-100),m=!1;else try{Lf(S,h,"req"+C+"_")}catch{r&&r(S)}}if(m){r=h.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function P_(n){n.g||n.u||(n.Z=1,c_(n.Ia,n),n.A=0)}function Bf(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Hd(ni(n.Ia,n),cm(n,n.A)),n.A++,0))}function Zf(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Kb(n){n.g=new Rf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Go(n.sa);bn(e,"RID","rpc"),bn(e,"SID",n.I),bn(e,"CI",n.L?"0":"1"),bn(e,"AID",n.T),bn(e,"TYPE","xmlhttp"),eh(n,e),n.o&&n.s&&um(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Yu(Go(e)),t.s=null,t.P=!0,E_(t,n)}function bc(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function jf(n,e){var t=null;if(n.g==e){bc(n),Zf(n),n.g=null;var r=2}else{if(!T_(n.h,e))return;t=e.D,Gb(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;yr(r=ri(),new Jg(r,t,e,o)),Vf(n)}else P_(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function OC(n,e){return!(Hb(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Hd(ni(n.Ja,n,e),cm(n,n.C)),n.C++,0)))}(n,e)||2==r&&Bf(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:wc(n,5);break;case 4:wc(n,10);break;case 3:wc(n,6);break;default:wc(n,2)}}function cm(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function wc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ni(n.jb,n);t||(t=new Ku("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||zd(t,"https"),Yu(t)),function kC(n,e){const t=new Qg;if(Ct.Image){const r=new Image;r.onload=Bg(im,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bg(im,t,r,"TestLoadImage: error",!1,e),r.onabort=Bg(im,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bg(im,t,r,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.G=0,n.l&&n.l.va(e),qf(n),R_(n)}function qf(n){if(n.G=0,n.la=[],n.l){const e=Ff(n.h);(0!=e.length||0!=n.i.length)&&(n_(n.la,e),n_(n.la,n.i),n.h.i.length=0,Zg(n.i),n.i.length=0),n.l.ua()}}function $f(n,e,t){var r=t instanceof Ku?Go(t):new Ku(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Fs(r,r.m);else{var o=Ct.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new Ku(null,void 0);r&&zd(l,r),e&&(l.g=e),o&&Fs(l,o),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&bn(r,t,e),bn(r,"VER",n.ma),eh(n,r),r}function N_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new an(t&&n.Da&&!n.ra?new gc({ib:!0}):n.ra)).L=n.H,e}function k_(){}function th(){if(ac&&!(10<=Number(s_)))throw Error("Environmental error: no available transport.")}function Oi(n,e){mr.call(this),this.g=new M_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!Zd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ec(this)}function O_(n){__.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function dm(){v_.call(this),this.status=1}function Ec(n){this.g=n}(lt=an.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():em.g(),this.C=function y_(n){return n.h||(n.h=n.i())}(this.u?this.u:em),this.g.onreadystatechange=ni(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void mc(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),o=Ct.FormData&&n instanceof Ct.FormData,!(0<=_b(Qd,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,h]of t)this.g.setRequestHeader(l,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vc(this),0<this.B&&((this.K=function Jd(n){return ac&&function Gg(){return function qg(n){var e=Hg;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=vb(String(jd)).split("."),t=vb("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=bb(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||bb(0==o[2].length,0==l[2].length)||bb(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.qa,this)):this.A=$d(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){mc(this,l)}},lt.qa=function(){typeof e_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yr(this,"complete"),yr(this,"abort"),Va(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Va(this,!0)),an.X.M.call(this)},lt.Ha=function(){this.s||(this.F||this.v||this.l?_c(this):this.eb())},lt.eb=function(){_c(this)},lt.aa=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},lt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},lt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),om(e)}},lt.Ea=function(){return this.m},lt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=M_.prototype).ma=8,lt.G=1,lt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Rf(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=Db(l),o_(l,this.S)):l=this.S),null!==this.o||this.N||(o.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zb(this,o,e),bn(t=Go(this.F),"RID",n),bn(t,"CVER",22),this.D&&bn(t,"X-HTTP-Session-Id",this.D),eh(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(x_(l)))+"&"+e:this.o&&um(t,this.o,l)),A_(this.h,o),this.Xa&&bn(t,"TYPE","init"),this.O?(bn(t,"$req",e),bn(t,"SID","null"),o.Z=!0,kb(o,t,null)):kb(o,t,e),this.G=2}}else 3==this.G&&(n?Wb(this,n):0==this.i.length||$b(this.h)||Wb(this))},lt.Ia=function(){if(this.u=null,Kb(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Hd(ni(this.cb,this),n)}},lt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yi(10),Uf(this),Kb(this))},lt.bb=function(){null!=this.v&&(this.v=null,Uf(this),Bf(this),yi(19))},lt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),yi(2)):(this.j.info("Failed to ping google.com"),yi(1))},(lt=k_.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Qa=function(){},th.prototype.g=function(n,e){return new Oi(n,e)},jr(Oi,mr),Oi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;yi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=$f(n,null,n.V),Vf(n)},Oi.prototype.close=function(){lm(this.g)},Oi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Af(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&Vf(e)},Oi.prototype.M=function(){this.g.l=null,delete this.j,lm(this.g),delete this.g,Oi.X.M.call(this)},jr(O_,__),jr(dm,v_),jr(Ec,k_),Ec.prototype.xa=function(){yr(this.g,"a")},Ec.prototype.wa=function(n){yr(this.g,new O_(n))},Ec.prototype.va=function(n){yr(this.g,new dm(n))},Ec.prototype.ua=function(){yr(this.g,"b")},th.prototype.createWebChannel=th.prototype.g,Oi.prototype.send=Oi.prototype.u,Oi.prototype.open=Oi.prototype.m,Oi.prototype.close=Oi.prototype.close,Xg.NO_ERROR=0,Xg.TIMEOUT=8,Xg.HTTP_ERROR=6,Pb.COMPLETE="complete",Nb.EventType=Gd,Gd.OPEN="a",Gd.CLOSE="b",Gd.ERROR="c",Gd.MESSAGE="d",mr.prototype.listen=mr.prototype.N,an.prototype.listenOnce=an.prototype.O,an.prototype.getLastError=an.prototype.Na,an.prototype.getLastErrorCode=an.prototype.Ea,an.prototype.getStatus=an.prototype.aa,an.prototype.getResponseJson=an.prototype.Ra,an.prototype.getResponseText=an.prototype.fa,an.prototype.send=an.prototype.da;var FC=$u.createWebChannelTransport=function(){return new th},Yb=$u.getStatEventTarget=function(){return ri()},hm=$u.ErrorCode=Xg,Qb=$u.EventType=Pb,Jb=$u.Event=Wu,Xb=$u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},LC=$u.FetchXmlHttpFactory=gc,fm=$u.WebChannel=Nb,F_=$u.XhrIo=an;const pm="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let Ic="9.10.0";const Ba=new jo.Yd("@firebase/firestore");function gm(){return Ba.logLevel}function Pe(n,...e){if(Ba.logLevel<=jo.in.DEBUG){const t=e.map(tw);Ba.debug(`Firestore (${Ic}): ${n}`,...t)}}function zn(n,...e){if(Ba.logLevel<=jo.in.ERROR){const t=e.map(tw);Ba.error(`Firestore (${Ic}): ${n}`,...t)}}function Qu(n,...e){if(Ba.logLevel<=jo.in.WARN){const t=e.map(tw);Ba.warn(`Firestore (${Ic}): ${n}`,...t)}}function tw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${Ic}) INTERNAL ASSERTION FAILED: `+n;throw zn(e),new Error(e)}function It(n,e){n||Xe()}function Ge(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class UC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sw{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Mr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=h;e.enqueueRetryable((0,ye.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},b=C=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Mr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new rw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new _r(e)}}class ow{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(It(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nh{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new ow(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.A;return this.A=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.T.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.T.getImmediate({optional:!0});l?o(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.A=t.token,new aw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ZC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class L_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=ZC(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function Cc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function mm(n){return n+"\0"}class Qt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Qt(0,0))}static max(){return new _t(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hf{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Hf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pt extends Hf{construct(e,t,r){return new Pt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const uo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Hf{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return uo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new xe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new xe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new xe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new xe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Pt.fromString(e))}static fromName(e){return new qe(Pt.fromString(e).popFirst(5))}static empty(){return new qe(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Pt(e.slice()))}}class Gf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function U_(n){return n.fields.find(e=>2===e.kind)}function Dc(n){return n.fields.filter(e=>2!==e.kind)}Gf.UNKNOWN_ID=-1;class ym{constructor(e,t){this.fieldPath=e,this.kind=t}}class Za{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Za(0,is.min())}}function uw(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(1e9===r?new Qt(t+1,0):new Qt(t,r));return new is(o,qe.empty(),e)}function B_(n){return new is(n.readTime,n.key,-1)}class is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new is(_t.min(),qe.empty(),-1)}static max(){return new is(_t.max(),qe.empty(),-1)}}function _m(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=qe.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const Z_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ju(n){return vm.apply(this,arguments)}function vm(){return vm=(0,ye.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Z_)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),vm.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},b=>r(b))}),h=!0,l===o&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(o=>o?ae.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,o)=>{const l=e.length,h=new Array(l);let m=0;for(let b=0;b<l;b++){const C=b;t(e[C]).next(S=>{h[C]=S,++m,m===l&&r(h)},S=>o(S))}})}static doWhile(e,t){return new ae((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class rh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Mr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ih(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=bm(r.target.error);this.P.reject(new ih(e,o))}}static open(e,t,r,o){try{return new rh(t,e.transaction(o,r))}catch(l){throw new ih(t,l)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lw(t)}}class Fi{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Fi.D((0,tn.z$)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Xu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,tn.hl)())return!1;if(Fi.N())return!0;const e=(0,tn.z$)(),t=Fi.D(e),r=0<t&&t<10,o=Fi.k(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new ih(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new xe(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new xe(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ih(e,m))},l.onupgradeneeded=h=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.S.$(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,ye.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.F(e);const b=rh.open(l.db,e,h?"readonly":"readwrite",r),C=o(b).next(S=>(b.V(),S)).catch(S=>(b.abort(S),ae.reject(S))).toPromise();return C.catch(()=>{}),yield b.v,C}catch(b){const C=b,S="FirebaseError"!==C.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),l.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class j_{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Xu(this.U.delete())}}class ih extends xe{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ja(n){return"IndexedDbTransactionError"===n.name}class lw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xu(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Xu(this.store.add(e))}get(e){return Xu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Xu(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Xu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.H(o,(h,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new ae((l,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(l,h,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ae((r,o)=>{t.onerror=l=>{const h=bm(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}H(e,t){const r=[];return new ae((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new j_(m),C=t(m.primaryKey,m.value,b);if(C instanceof ae){const S=C.catch(R=>(b.done(),ae.reject(R)));r.push(S)}b.isDone?o():null===b.G?m.continue():m.continue(b.G)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xu(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=bm(r.target.error);t(o)}})}let q_=!1;function bm(n){const e=Fi.D((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q_||(q_=!0,setTimeout(()=>{throw r},0)),r}}return n}class cw{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){ja(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ju(r)}yield t.nt(6e4)}))}}class qC{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,l=!0;return ae.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!r.has(h))return Pe("IndexBackiller",`Processing collection: ${h}`),this.rt(e,h,o).next(m=>{o-=m,r.add(h)});l=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const h=l.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.ot(o,l)).next(m=>(Pe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>h.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,l)=>{const h=B_(l);_m(h,r)>0&&(r=h)}),new is(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Li{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function dw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Li.at=-1;class Kn{constructor(e,t){this.comparator=e,this.root=t||qr.EMPTY}insert(e,t){return new Kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wm(this.root,e,this.comparator,!0)}}class wm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qr{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??qr.RED,this.left=o??qr.EMPTY,this.right=l??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new qr(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return qr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1,qr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sh(n){return n.hasNext()?n.getNext():void 0}class ss{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new ss([])}unionWith(e){let t=new gn(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const HC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function el(n){if(It(!!n),"string"==typeof n){let e=0;const t=HC.exec(n);if(It(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ac(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function Em(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $_(n){const e=n.mapValue.fields.__previous_value__;return Em(e)?$_(e):e}function oh(n){const e=el(n.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}class pw{constructor(e,t,r,o,l,h,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}function ah(n){return null==n}function uh(n){return 0===n&&1/n==-1/0}function H_(n){return"number"==typeof n&&Number.isInteger(n)&&!uh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const $a={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zf={nullValue:"NULL_VALUE"};function tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Em(n)?4:gw(n)?9007199254740991:10:Xe()}function ii(n,e){if(n===e)return!0;const t=tl(n);if(t!==tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oh(n).isEqual(oh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=el(r.timestampValue),h=el(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Ac(n.bytesValue).isEqual(Ac(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Yn(r.geoPointValue.latitude)===Yn(o.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yn(r.integerValue)===Yn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Yn(r.doubleValue),h=Yn(o.doubleValue);return l===h?uh(l)===uh(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return Cc(n.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(dw(l)!==dw(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!ii(l[m],h[m])))return!1;return!0}(n,e);default:return Xe()}var o}function Kf(n,e){return void 0!==(n.values||[]).find(t=>ii(t,e))}function nl(n,e){if(n===e)return 0;const t=tl(n),r=tl(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=Yn(o.integerValue||o.doubleValue),m=Yn(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Sc(n.timestampValue,e.timestampValue);case 4:return Sc(oh(n),oh(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(o,l){const h=Ac(o),m=Ac(l);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const C=xt(h[b],m[b]);if(0!==C)return C}return xt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=xt(Yn(o.latitude),Yn(l.latitude));return 0!==h?h:xt(Yn(o.longitude),Yn(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const C=nl(h[b],m[b]);if(C)return C}return xt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===$a.mapValue&&l===$a.mapValue)return 0;if(o===$a.mapValue)return 1;if(l===$a.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),b=l.fields||{},C=Object.keys(b);m.sort(),C.sort();for(let S=0;S<m.length&&S<C.length;++S){const R=xt(m[S],C[S]);if(0!==R)return R;const Z=nl(h[m[S]],b[C[S]]);if(0!==Z)return Z}return xt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function Sc(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=el(n),r=el(e),o=xt(t.seconds,r.seconds);return 0!==o?o:xt(t.nanos,r.nanos)}function Yf(n){return Qf(n)}function Qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=el(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ac(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=Qf(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${Qf(r.fields[m])}`;return l+"}"}(n.mapValue):Xe();var e}function lh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Im(n){return!!n&&"integerValue"in n}function ch(n){return!!n&&"arrayValue"in n}function GC(n){return!!n&&"nullValue"in n}function pt(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cm(n){return!!n&&"mapValue"in n}function Jf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Tc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gw(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dh(n){return"nullValue"in n?zf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lh(qa.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Xe()}function WC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lh(qa.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$a:Xe()}function Xf(n,e){const t=nl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ep(n,e){const t=nl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Cm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jf(t)}setAll(e){let t=nn.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Jf(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Cm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Tc(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Bt(Jf(this.value))}}function zC(n){const e=[];return Tc(n.fields,(t,r)=>{const o=new nn([t]);if(Cm(r)){const l=zC(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new ss(e)}class wn{constructor(e,t,r,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new wn(e,0,_t.min(),_t.min(),Bt.empty(),0)}static newFoundDocument(e,t,r){return new wn(e,1,t,_t.min(),r,0)}static newNoDocument(e,t){return new wn(e,2,t,_t.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,_t.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class mw{constructor(e,t=null,r=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.ht=null}}function yw(n,e=null,t=[],r=[],o=null,l=null,h=null){return new mw(n,e,t,r,o,l,h)}function rl(n){const e=Ge(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Yf(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yf(r)).join(",")),e.ht=t}return e.ht}function hh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!XC(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ii(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dw(n.startAt,e.startAt)&&Dw(n.endAt,e.endAt)}function tp(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dm(n,e){return n.filters.filter(t=>t instanceof ir&&t.field.isEqual(e))}function vw(n,e,t){let r=zf,o=!0;for(const l of Dm(n,e)){let h=zf,m=!0;switch(l.op){case"<":case"<=":h=dh(l.value);break;case"==":case"in":case">=":h=l.value;break;case">":h=l.value,m=!1;break;case"!=":case"not-in":h=zf}Xf({value:r,inclusive:o},{value:h,inclusive:m})<0&&(r=h,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const h=t.position[l];Xf({value:r,inclusive:o},{value:h,inclusive:t.inclusive})<0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function bw(n,e,t){let r=$a,o=!0;for(const l of Dm(n,e)){let h=$a,m=!0;switch(l.op){case">=":case">":h=WC(l.value),m=!1;break;case"==":case"in":case"<=":h=l.value;break;case"<":h=l.value,m=!1;break;case"!=":case"not-in":h=$a}ep({value:r,inclusive:o},{value:h,inclusive:m})>0&&(r=h,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const h=t.position[l];ep({value:r,inclusive:o},{value:h,inclusive:t.inclusive})>0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class ir extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new KC(e,t,r):"array-contains"===t?new ww(e,r):"in"===t?new Ew(e,r):"not-in"===t?new Iw(e,r):"array-contains-any"===t?new JC(e,r):new ir(e,t,r)}static lt(e,t,r){return"in"===t?new YC(e,r):new QC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(nl(t,this.value)):null!==t&&tl(this.value)===tl(t)&&this.ft(nl(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class KC extends ir{constructor(e,t,r){super(e,t,r),this.key=qe.fromName(r.referenceValue)}matches(e){const t=qe.comparator(e.key,this.key);return this.ft(t)}}class YC extends ir{constructor(e,t){super(e,"in",t),this.keys=np(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class QC extends ir{constructor(e,t){super(e,"not-in",t),this.keys=np(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function np(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>qe.fromName(r.referenceValue))}class ww extends ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ch(t)&&Kf(t.arrayValue,this.value)}}class Ew extends ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kf(this.value.arrayValue,t)}}class Iw extends ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kf(this.value.arrayValue,t)}}class JC extends ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ch(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kf(this.value.arrayValue,r))}}class Us{constructor(e,t){this.position=e,this.inclusive=t}}class Wo{constructor(e,t="asc"){this.field=e,this.dir=t}}function XC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Cw(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?qe.comparator(qe.fromName(h.referenceValue),t.key):nl(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Dw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ii(n.position[t],e.position[t]))return!1;return!0}class zo{constructor(e,t=null,r=[],o=[],l=null,h="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this._t=null,this.wt=null}}function G_(n,e,t,r,o,l,h,m){return new zo(n,e,t,r,o,l,h,m)}function xc(n){return new zo(n)}function Tw(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Tm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function W_(n){for(const e of n.filters)if(e.dt())return e.field;return null}function z_(n){return null!==n.collectionGroup}function rp(n){const e=Ge(n);if(null===e._t){e._t=[];const t=W_(e),r=Tm(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Wo(t)),e._t.push(new Wo(nn.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e._t.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Wo(nn.keyField(),l))}}}return e._t}function os(n){const e=Ge(n);if(!e.wt)if("F"===e.limitType)e.wt=yw(e.path,e.collectionGroup,rp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of rp(e))t.push(new Wo(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Us(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Us(e.startAt.position,e.startAt.inclusive):null;e.wt=yw(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function K_(n,e,t){return new zo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Am(n,e){return hh(os(n),os(e))&&n.limitType===e.limitType}function Y_(n){return`${rl(os(n))}|lt:${n.limitType}`}function fh(n){return`Query(target=${function _w(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Yf(r.value)}`;var r}).join(", ")}]`),ah(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Yf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Yf(t)).join(",")),`Target(${e})`}(os(n))}; limitType=${n.limitType})`}function Q_(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):qe.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,h){const m=Cw(o,l,h);return o.inclusive?m<=0:m<0}(t.startAt,rp(t),r)||t.endAt&&!function(o,l,h){const m=Cw(o,l,h);return o.inclusive?m>=0:m>0}(t.endAt,rp(t),r)));var t,r}function Aw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function J_(n){return(e,t)=>{let r=!1;for(const o of rp(n)){const l=ip(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function ip(n,e,t){const r=n.field.isKeyField()?qe.comparator(e.key,t.key):function(o,l,h){const m=l.data.field(o),b=h.data.field(o);return null!==m&&null!==b?nl(m,b):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function Sw(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function xw(n){return{integerValue:""+n}}function Mw(n,e){return H_(e)?xw(e):Sw(n,e)}class Sm{constructor(){this._=void 0}}function eD(n,e,t){return n instanceof ph?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof lo?Nw(n,e):n instanceof il?kw(n,e):function(r,o){const l=Pw(r,o),h=Ow(l)+Ow(r.yt);return Im(l)&&Im(r.yt)?xw(h):Sw(r.It,h)}(n,e)}function Rw(n,e,t){return n instanceof lo?Nw(n,e):n instanceof il?kw(n,e):t}function Pw(n,e){return n instanceof Mc?Im(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ph extends Sm{}class lo extends Sm{constructor(e){super(),this.elements=e}}function Nw(n,e){const t=X_(e);for(const r of n.elements)t.some(o=>ii(o,r))||t.push(r);return{arrayValue:{values:t}}}class il extends Sm{constructor(e){super(),this.elements=e}}function kw(n,e){let t=X_(e);for(const r of n.elements)t=t.filter(o=>!ii(o,r));return{arrayValue:{values:t}}}class Mc extends Sm{constructor(e,t){super(),this.It=e,this.yt=t}}function Ow(n){return Yn(n.integerValue||n.doubleValue)}function X_(n){return ch(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sp{constructor(e,t){this.field=e,this.transform=t}}class tD{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function op(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xm{}function Fw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new mh(n.key,An.none()):new gh(n.key,n.data,An.none());{const t=n.data,r=Bt.empty();let o=new gn(nn.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);null===h&&l.length>1&&(l=l.popLast(),h=t.field(l)),null===h?r.delete(l):r.set(l,h),o=o.add(l)}return new Ha(n.key,r,new ss(o.toArray()),An.none())}}function nD(n,e,t){n instanceof gh?function(r,o,l){const h=r.value.clone(),m=Uw(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ha?function(r,o,l){if(!op(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=Uw(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(Lw(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rc(n,e,t,r){return n instanceof gh?function(o,l,h,m){if(!op(o.precondition,l))return h;const b=o.value.clone(),C=Vw(o.fieldTransforms,m,l);return b.setAll(C),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ha?function(o,l,h,m){if(!op(o.precondition,l))return h;const b=Vw(o.fieldTransforms,m,l),C=l.data;return C.setAll(Lw(o)),C.setAll(b),l.convertToFoundDocument(l.version,C).setHasLocalMutations(),null===h?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(h=t,op(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h);var l,h}function rD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=Pw(r.transform,o||null);null!=l&&(null===t&&(t=Bt.empty()),t.set(r.field,l))}return t||null}function tv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Cc(t,r,(o,l)=>function ev(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof lo&&r instanceof lo||t instanceof il&&r instanceof il?Cc(t.elements,r.elements,ii):t instanceof Mc&&r instanceof Mc?ii(t.yt,r.yt):t instanceof ph&&r instanceof ph);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class gh extends xm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ha extends xm{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Lw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Uw(n,e,t){const r=new Map;It(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,m=e.data.field(l.field);r.set(l.field,Rw(h,m,t[o]))}return r}function Vw(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,eD(l,h,e))}return r}class mh extends xm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nv extends xm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iD{constructor(e){this.count=e}}var sr,Ht;function Bw(n){switch(n){default:return Xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function Zw(n){if(void 0===n)return zn("GRPC error has no .code"),ne.UNKNOWN;switch(n){case sr.OK:return ne.OK;case sr.CANCELLED:return ne.CANCELLED;case sr.UNKNOWN:return ne.UNKNOWN;case sr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case sr.INTERNAL:return ne.INTERNAL;case sr.UNAVAILABLE:return ne.UNAVAILABLE;case sr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case sr.NOT_FOUND:return ne.NOT_FOUND;case sr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case sr.ABORTED:return ne.ABORTED;case sr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case sr.DATA_LOSS:return ne.DATA_LOSS;default:return Xe()}}(Ht=sr||(sr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";class Ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tc(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return hw(this.inner)}size(){return this.innerSize}}const sD=new Kn(qe.comparator);function Ui(){return sD}const jw=new Kn(qe.comparator);function Pc(...n){let e=jw;for(const t of n)e=e.insert(t.key,t);return e}function Mm(n){let e=jw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function co(){return ap()}function Rm(){return ap()}function ap(){return new Ga(n=>n.toString(),(n,e)=>n.isEqual(e))}const oD=new Kn(qe.comparator),rv=new gn(qe.comparator);function kt(...n){let e=rv;for(const t of n)e=e.add(t);return e}const qw=new gn(xt);function Wa(){return qw}class yh{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,up.createSynthesizedTargetChangeForCurrentChange(e,t)),new yh(_t.min(),r,Wa(),Ui(),kt())}}class up{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new up(vr.EMPTY_BYTE_STRING,t,kt(),kt(),kt())}}class iv{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class sv{constructor(e,t){this.targetId=e,this.At=t}}class Pm{constructor(e,t,r=vr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class $w{constructor(){this.Rt=0,this.bt=av(),this.Pt=vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=kt(),t=kt(),r=kt();return this.bt.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new up(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=av()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class ov{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ui(),this.qt=Hw(),this.Kt=new gn(xt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const l=o.target;if(tp(l))if(0===r){const h=new qe(l.path);this.jt(t,h,wn.newNoDocument(h,_t.min()))}else It(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((l,h)=>{const m=this.Xt(h);if(m){if(l.current&&tp(m.target)){const b=new qe(m.target.path);null!==this.Ut.get(b)||this.ee(h,b)||this.jt(h,b,wn.newNoDocument(b,e))}l.Dt&&(t.set(h,l.xt()),l.Nt())}});let r=kt();this.qt.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const C=this.Xt(b);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.Ut.forEach((l,h)=>h.setReadTime(e));const o=new yh(e,t,this.Kt,this.Ut,r);return this.Ut=Ui(),this.qt=Hw(),this.Kt=new gn(xt),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new $w,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new gn(xt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new $w),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Hw(){return new Kn(qe.comparator)}function av(){return new Kn(qe.comparator)}const uv={asc:"ASCENDING",desc:"DESCENDING"},Gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Ww{constructor(e,t){this.databaseId=e,this.gt=t}}function _h(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lv(n,e){return n.gt?e.toBase64():e.toUint8Array()}function aD(n,e){return _h(n,e.toTimestamp())}function Rr(n){return It(!!n),_t.fromTimestamp(function(e){const t=el(e);return new Qt(t.seconds,t.nanos)}(n))}function cv(n,e){return(t=n,new Pt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zw(n){const e=Pt.fromString(n);return It(hv(e)),e}function vh(n,e){return cv(n.databaseId,e.path)}function za(n,e){const t=zw(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new qe(uD(t))}function Nm(n,e){return cv(n.databaseId,e)}function Kw(n){const e=zw(n);return 4===e.length?Pt.emptyPath():uD(e)}function lp(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uD(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lD(n,e,t){return{name:vh(n,e),fields:t.value.mapValue.fields}}function Yw(n,e,t){const r=za(n,e.name),o=Rr(e.updateTime),l=new Bt({mapValue:{fields:e.fields}}),h=wn.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function bh(n,e){let t;if(e instanceof gh)t={update:lD(n,e.key,e.value)};else if(e instanceof mh)t={delete:vh(n,e.key)};else if(e instanceof Ha)t={update:lD(n,e.key,e.data),updateMask:rE(e.fieldMask)};else{if(!(e instanceof nv))return Xe();t={verify:vh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof ph)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof lo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof il)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Mc)return{fieldPath:l.field.canonicalString(),increment:h.yt};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:aD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),t;var o}function dv(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?An.updateTime(Rr(o.updateTime)):void 0!==o.exists?An.exists(o.exists):An.none():An.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(It("REQUEST_TIME"===h.setToServerValue),m=new ph):"appendMissingElements"in h?m=new lo(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new il(h.removeAllFromArray.values||[]):"increment"in h?m=new Mc(l,h.increment):Xe();const b=nn.fromServerFormat(h.fieldPath);return new sp(b,m)}(n,o)):[];var o;if(e.update){const o=za(n,e.update.name),l=new Bt({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new ss((e.updateMask.fieldPaths||[]).map(C=>nn.fromServerFormat(C)));return new Ha(o,l,h,t,r)}return new gh(o,l,t,r)}if(e.delete){const o=za(n,e.delete);return new mh(o,t)}if(e.verify){const o=za(n,e.verify);return new nv(o,t)}return Xe()}function Qw(n,e){return{documents:[Nm(n,e.path)]}}function Jw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Nm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(b){if(0===b.length)return;const C=b.map(S=>function(R){if("=="===R.op){if(pt(R.value))return{unaryFilter:{field:Nc(R.field),op:"IS_NAN"}};if(GC(R.value))return{unaryFilter:{field:Nc(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(pt(R.value))return{unaryFilter:{field:Nc(R.field),op:"IS_NOT_NAN"}};if(GC(R.value))return{unaryFilter:{field:Nc(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nc(R.field),op:cp(R.op),value:R.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(b){if(0!==b.length)return b.map(C=>{return{field:Nc((S=C).field),direction:pD(S.dir)};var S})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(C=e.limit,n.gt||ah(C)?C:{value:C});var C,m,b;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function Xw(n){let e=Kw(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){It(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let l=[];t.where&&(l=eE(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(S=>{return new Wo(kc((R=S).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(S){let R;return R="object"==typeof S?S.value:S,ah(R)?null:R}(t.limit));let b=null;var S;t.startAt&&(b=new Us((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new Us(S.values||[],!S.before)}(t.endAt)),G_(e,o,h,l,m,"F",b,C)}function eE(n){return n?void 0!==n.unaryFilter?[nE(n)]:void 0!==n.fieldFilter?[tE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>eE(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function pD(n){return uv[n]}function cp(n){return Gw[n]}function Nc(n){return{fieldPath:n.canonicalString()}}function kc(n){return nn.fromServerFormat(n.fieldPath)}function tE(n){return ir.create(kc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function nE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=kc(n.unaryFilter.field);return ir.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=kc(n.unaryFilter.field);return ir.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kc(n.unaryFilter.field);return ir.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=kc(n.unaryFilter.field);return ir.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function rE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function _i(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iE(e)),e=UA(n.get(t),e);return iE(e)}function UA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function iE(n){return n+"\x01\x01"}function ho(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pt.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&Xe(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:Xe()}l=h+2}return new Pt(r)}const sE=["userId","batchId"];function km(n,e){return[n,_i(e)]}function oE(n,e,t){return[n,_i(e),t]}const dp={},gD=["prefixPath","collectionGroup","readTime","documentId"],fv=["prefixPath","collectionGroup","documentId"],Ko=["collectionGroup","readTime","prefixPath","documentId"],mD=["canonicalId","targetId"],pv=["targetId","path"],hp=["path","targetId"],yD=["collectionId","parent"],_D=["indexId","uid"],vD=["uid","sequenceNumber"],Om=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Fm=["indexId","uid","orderedDocumentKey"],bD=["userId","collectionPath","documentId"],wD=["userId","collectionPath","largestBatchId"],aE=["userId","collectionGroup","largestBatchId"],gv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mv=[...gv,"documentOverlays"],yv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uE=yv,ED=[...uE,"indexConfiguration","indexState","indexEntries"];class lE extends Wf{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function dr(n,e){const t=Ge(n);return Fi.O(t.ie,e)}class fp{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&nD(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Rm();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const b=Fw(h,m);null!==b&&r.set(o.key,b),h.isValidDocument()||h.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kt())}isEqual(e){return this.batchId===e.batchId&&Cc(this.mutations,e.mutations,(t,r)=>tv(t,r))&&Cc(this.baseMutations,e.baseMutations,(t,r)=>tv(t,r))}}class Lm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){It(e.mutations.length===r.length);let o=oD;const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new Lm(e,t,r,o)}}class pp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yo{constructor(e,t,r,o,l=_t.min(),h=_t.min(),m=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cE{constructor(e){this.re=e}}function dE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Um(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:vh(o=n.re,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:_h(o,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sl(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:t.path.toArray(),version:sl(e.version)}}var o,l;return r}function Um(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ka(n){const e=new Qt(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function ol(n,e){const t=(e.baseMutations||[]).map(l=>dv(n.re,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>dv(n.re,l)),o=Qt.fromMillis(e.localWriteTimeMs);return new fp(e.batchId,o,t,r)}function gp(n){const e=Ka(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ka(n.lastLimboFreeSnapshotVersion):_t.min();let r;var o;return void 0!==n.query.documents?(It(1===(o=n.query).documents.length),r=os(xc(Kw(o.documents[0])))):r=os(Xw(n.query)),new Yo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken))}function _v(n,e){const t=sl(e.snapshotVersion),r=sl(e.lastLimboFreeSnapshotVersion);let o;o=tp(e.target)?Qw(n.re,e.target):Jw(n.re,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rl(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Vm(n){const e=Xw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?K_(e,e.limit,"L"):e}function vv(n,e){return new pp(e.largestBatchId,dv(n.re,e.overlayMutation))}function bv(n,e){const t=e.path.lastSegment();return[n,_i(e.path.popLast()),t]}function wv(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sl(r.readTime),documentKey:_i(r.documentKey.path),largestBatchId:r.largestBatchId}}class CD{getBundleMetadata(e,t){return Ev(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ka(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Ev(e).put({bundleId:(r=t).id,createTime:sl(Rr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return hE(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Vm(o.bundledQuery),readTime:Ka(o.readTime)};var o})}saveNamedQuery(e,t){return hE(e).put({name:(r=t).name,readTime:sl(Rr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ev(n){return dr(n,"bundles")}function hE(n){return dr(n,"namedQueries")}class Pr{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Pr(e,t.uid||"")}getOverlay(e,t){return Qo(e).get(bv(this.userId,t)).next(r=>r?vv(this.It,r):null)}getOverlays(e,t){const r=co();return ae.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,h)=>{const m=new pp(t,h);o.push(this.ue(e,m))}),ae.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(_i(h.getCollectionPath())));const l=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);l.push(Qo(e).Y("collectionPathOverlayIndex",m))}),ae.waitFor(l)}getOverlaysForCollection(e,t,r){const o=co(),l=_i(t),h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Qo(e).W("collectionPathOverlayIndex",h).next(m=>{for(const b of m){const C=vv(this.It,b);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=co();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qo(e).Z({index:"collectionGroupOverlayIndex",range:m},(b,C,S)=>{const R=vv(this.It,C);l.size()<o||R.largestBatchId===h?(l.set(R.getKey(),R),h=R.largestBatchId):S.done()}).next(()=>l)}ue(e,t){return Qo(e).put(function(r,o,l){const[h,m,b]=bv(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:b,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:bh(r.re,l.mutation)}}(this.It,this.userId,t))}}function Qo(n){return dr(n,"documentOverlays")}class Oc{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),uh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ac(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?gw(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Xe()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),qe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function DD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function TD(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=DD(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Oc.Te=new Oc;class VA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=TD(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=TD(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class fE{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class pE{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Ya{constructor(){this.Be=new VA,this.Le=new fE(this.Be),this.Ue=new pE(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Fc{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fc(this.indexId,this.documentKey,this.arrayValue,r)}}function Qa(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=gE(n.arrayValue,e.arrayValue),0!==t?t:(t=gE(n.directionalValue,e.directionalValue),0!==t?t:qe.comparator(n.documentKey,e.documentKey)))}function gE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class mE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=U_(e);if(void 0!==t&&!this.ze(t))return!1;const r=Dc(e);let o=0,l=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const h=r[o];if(!this.He(this.je,h)||!this.Je(this.Ge[l++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(l>=this.Ge.length||!this.Je(this.Ge[l++],h))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class AD{constructor(){this.Ye=new Iv}addToCollectionParentIndex(e,t){return this.Ye.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(is.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Iv{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new gn(Pt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new gn(Pt.comparator)).toArray()}}const Bm=new Uint8Array(0);class Cv{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Iv,this.Ze=new Ga(r=>rl(r),(r,o)=>hh(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const l={collectionId:r,parent:_i(o)};return Dv(e).put(l)}return ae.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[mm(t),""],!1,!0);return Dv(e).W(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(ho(h.parent))}return r})}addFieldIndex(e,t){const r=Lc(e),o={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var h;delete o.indexId;const l=r.add(o);if(t.indexState){const h=Uc(e);return l.next(m=>{h.put(wv(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Lc(e),o=Uc(e),l=wh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=wh(e);let o=!0;const l=new Map;return ae.forEach(this.tn(t),h=>this.en(e,h).next(m=>{o&&(o=!!m),l.set(h,m)})).next(()=>{if(o){let h=kt();const m=[];return ae.forEach(l,(b,C)=>{var S;Pe("IndexedDbIndexManager",`Using index ${S=b,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Ut=>`${Ut.fieldPath}:${Ut.kind}`).join(",")}`} to execute ${rl(t)}`);const R=function(Ut,Mt){const Nt=U_(Mt);if(void 0===Nt)return null;for(const qt of Dm(Ut,Nt.fieldPath))switch(qt.op){case"array-contains-any":return qt.value.arrayValue.values||[];case"array-contains":return[qt.value]}return null}(C,b),Z=function(Ut,Mt){const Nt=new Map;for(const qt of Dc(Mt))for(const Hr of Dm(Ut,qt.fieldPath))switch(Hr.op){case"==":case"in":Nt.set(qt.fieldPath.canonicalString(),Hr.value);break;case"not-in":case"!=":return Nt.set(qt.fieldPath.canonicalString(),Hr.value),Array.from(Nt.values())}return null}(C,b),Q=function(Ut,Mt){const Nt=[];let qt=!0;for(const Hr of Dc(Mt)){const T0=0===Hr.kind?vw(Ut,Hr.fieldPath,Ut.startAt):bw(Ut,Hr.fieldPath,Ut.startAt);Nt.push(T0.value),qt&&(qt=T0.inclusive)}return new Us(Nt,qt)}(C,b),oe=function(Ut,Mt){const Nt=[];let qt=!0;for(const Hr of Dc(Mt)){const T0=0===Hr.kind?bw(Ut,Hr.fieldPath,Ut.endAt):vw(Ut,Hr.fieldPath,Ut.endAt);Nt.push(T0.value),qt&&(qt=T0.inclusive)}return new Us(Nt,qt)}(C,b),Me=this.nn(b,C,Q),Fe=this.nn(b,C,oe),bt=this.sn(b,C,Z),Dt=this.rn(b.indexId,R,Me,Q.inclusive,Fe,oe.inclusive,bt);return ae.forEach(Dt,Ut=>r.J(Ut,t.limit).next(Mt=>{Mt.forEach(Nt=>{const qt=qe.fromSegments(Nt.documentKey);h.has(qt)||(h=h.add(qt),m.push(qt))})}))}).next(()=>m)}return ae.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,l,h,m){const b=(null!=t?t.length:1)*Math.max(r.length,l.length),C=b/(null!=t?t.length:1),S=[];for(let R=0;R<b;++R){const Z=t?this.on(t[R/C]):Bm,Q=this.un(e,Z,r[R%C],o),oe=this.cn(e,Z,l[R%C],h),Me=m.map(Fe=>this.un(e,Z,Fe,!0));S.push(...this.createRange(Q,oe,Me))}return S}un(e,t,r,o){const l=new Fc(e,qe.empty(),t,r);return o?l:l.Ke()}cn(e,t,r,o){const l=new Fc(e,qe.empty(),t,r);return o?l.Ke():l}en(e,t){const r=new mE(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let h=null;for(const m of l)r.We(m)&&(!h||m.fields.length>h.fields.length)&&(h=m);return h})}getIndexType(e,t){let r=2;return ae.forEach(this.tn(t),o=>this.en(e,o).next(l=>{l?0!==r&&l.fields.length<function(h){let m=new gn(nn.comparator),b=!1;for(const C of h.filters){const S=C;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?b=!0:m=m.add(S.field))}for(const C of h.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(b?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Ya;for(const o of Dc(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const h=r.qe(o.kind);Oc.Te.ce(l,h)}return r.$e()}on(e){const t=new Ya;return Oc.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Ya;return Oc.Te.ce(lh(this.databaseId,t),r.qe(function(o){const l=Dc(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new Ya);let l=0;for(const h of Dc(e)){const m=r[l++];for(const b of o)if(this.ln(t,h.fieldPath)&&ch(m))o=this.fn(o,h,m);else{const C=b.qe(h.kind);Oc.Te.ce(m,C)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],l=[];for(const h of r.arrayValue.values||[])for(const m of o){const b=new Ya;b.seed(m.$e()),Oc.Te.ce(h,b.qe(t.kind)),l.push(b)}return l}ln(e,t){return!!e.filters.find(r=>r instanceof ir&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Lc(e),o=Uc(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(l=>{const h=[];return ae.forEach(l,m=>o.get([m.indexId,this.uid]).next(b=>{h.push(function(C,S){const R=S?new Za(S.sequenceNumber,new is(Ka(S.readTime),new qe(ho(S.documentKey)),S.largestBatchId)):Za.empty(),Z=C.fields.map(([Q,oe])=>new ym(nn.fromServerFormat(Q),oe));return new Gf(C.indexId,C.collectionGroup,Z,R)}(m,b))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:xt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Lc(e),l=Uc(e);return this._n(e).next(h=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ae.forEach(m,b=>l.put(wv(b.indexId,this.user,h,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(o,l)=>{const h=r.get(o.collectionGroup);return(h?ae.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ae.forEach(m,b=>this.wn(e,o,b).next(C=>{const S=this.mn(l,b);return C.isEqual(S)?ae.resolve():this.gn(e,l,b,C,S)}))))})}yn(e,t,r,o){return wh(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return wh(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=wh(e);let l=new gn(Qa);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(h,m)=>{l=l.add(new Fc(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}mn(e,t){let r=new gn(Qa);const o=this.an(t,e);if(null==o)return r;const l=U_(t);if(null!=l){const h=e.data.field(l.fieldPath);if(ch(h))for(const m of h.arrayValue.values||[])r=r.add(new Fc(t.indexId,e.key,this.on(m),o))}else r=r.add(new Fc(t.indexId,e.key,Bm,o));return r}gn(e,t,r,o,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(m,b,C,S,R){const Z=m.getIterator(),Q=b.getIterator();let oe=sh(Z),Me=sh(Q);for(;oe||Me;){let Fe=!1,bt=!1;if(oe&&Me){const Dt=C(oe,Me);Dt<0?bt=!0:Dt>0&&(Fe=!0)}else null!=oe?bt=!0:Fe=!0;Fe?(S(Me),Me=sh(Q)):bt?(R(oe),oe=sh(Z)):(oe=sh(Z),Me=sh(Q))}}(o,l,Qa,m=>{h.push(this.yn(e,t,r,m))},m=>{h.push(this.pn(e,t,r,m))}),ae.waitFor(h)}_n(e){let t=1;return Uc(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>Qa(h,m)).filter((h,m,b)=>!m||0!==Qa(h,b[m-1]));const o=[];o.push(e);for(const h of r){const m=Qa(h,e),b=Qa(h,t);if(0===m)o[0]=e.Ke();else if(m>0&&b<0)o.push(h),o.push(h.Ke());else if(b>0)break}o.push(t);const l=[];for(let h=0;h<o.length;h+=2)l.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,Bm,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,Bm,[]]));return l}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(SD)}getMinOffset(e,t){return ae.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||Xe())).next(SD)}}function Dv(n){return dr(n,"collectionParents")}function wh(n){return dr(n,"indexEntries")}function Lc(n){return dr(n,"indexConfiguration")}function Uc(n){return dr(n,"indexState")}function SD(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;_m(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new is(e.readTime,e.documentKey,t)}const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Vi(e,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Av(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],h=IDBKeyRange.only(t.batchId);let m=0;const b=r.Z({range:h},(S,R,Z)=>(m++,Z.delete()));l.push(b.next(()=>{It(1===m)}));const C=[];for(const S of t.mutations){const R=oE(e,S.key.path,t.batchId);l.push(o.delete(R)),C.push(S.key)}return ae.waitFor(l).next(()=>C)}function Ja(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}Vi.DEFAULT_COLLECTION_PERCENTILE=10,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vi.DEFAULT=new Vi(41943040,Vi.DEFAULT_COLLECTION_PERCENTILE,Vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vi.DISABLED=new Vi(-1,0,0);class Zm{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){It(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Zm(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).Z({index:"userMutationsIndex",range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=mp(e),h=Jo(e);return h.add({}).next(m=>{It("number"==typeof m);const b=new fp(m,t,r,o),C=function(Z,Q,oe){const Me=oe.baseMutations.map(bt=>bh(Z.re,bt)),Fe=oe.mutations.map(bt=>bh(Z.re,bt));return{userId:Q,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:Me,mutations:Fe}}(this.It,this.userId,b),S=[];let R=new gn((Z,Q)=>xt(Z.canonicalString(),Q.canonicalString()));for(const Z of o){const Q=oE(this.userId,Z.key.path,m);R=R.add(Z.key.path.popLast()),S.push(h.put(C)),S.push(l.put(Q,dp))}return R.forEach(Z=>{S.push(this.indexManager.addToCollectionParentIndex(e,Z))}),e.addOnCommittedListener(()=>{this.In[m]=b.keys()}),ae.waitFor(S).next(()=>b)})}lookupMutationBatch(e,t){return Jo(e).get(t).next(r=>r?(It(r.userId===this.userId),ol(this.It,r)):null)}Tn(e,t){return this.In[t]?ae.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Jo(e).Z({index:"userMutationsIndex",range:o},(h,m,b)=>{m.userId===this.userId&&(It(m.batchId>=r),l=ol(this.It,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Jo(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).W("userMutationsIndex",t).next(r=>r.map(o=>ol(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=km(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return mp(e).Z({range:o},(h,m,b)=>{const[C,S,R]=h,Z=ho(S);if(C===this.userId&&t.path.isEqual(Z))return Jo(e).get(R).next(Q=>{if(!Q)throw Xe();It(Q.userId===this.userId),l.push(ol(this.It,Q))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(xt);const o=[];return t.forEach(l=>{const h=km(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=mp(e).Z({range:m},(C,S,R)=>{const[Z,Q,oe]=C,Me=ho(Q);Z===this.userId&&l.path.isEqual(Me)?r=r.add(oe):R.done()});o.push(b)}),ae.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=km(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new gn(xt);return mp(e).Z({range:h},(b,C,S)=>{const[R,Z,Q]=b,oe=ho(Z);R===this.userId&&r.isPrefixOf(oe)?oe.length===o&&(m=m.add(Q)):S.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Jo(e).get(l).next(h=>{if(null===h)throw Xe();It(h.userId===this.userId),r.push(ol(this.It,h))}))}),ae.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Av(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return mp(e).Z({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=ho(l[1]);o.push(b)}else m.done()}).next(()=>{It(0===o.length)})})}containsKey(e,t){return Sv(e,this.userId,t)}Rn(e){return yE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Sv(n,e,t){const r=km(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return mp(n).Z({range:l,X:!0},(m,b,C)=>{const[S,R,Z]=m;S===e&&R===o&&(h=!0),C.done()}).next(()=>h)}function Jo(n){return dr(n,"mutations")}function mp(n){return dr(n,"documentMutations")}function yE(n){return dr(n,"mutationQueues")}class Eh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Eh(0)}static vn(){return new Eh(-1)}}class xD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Eh(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>_t.fromTimestamp(new Qt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ih(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Ih(e).Z((h,m)=>{const b=gp(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(e,b)))}).next(()=>ae.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Ih(e).Z((r,o)=>{const l=gp(o);t(l)})}Vn(e){return _E(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}Sn(e,t){return _E(e).put("targetGlobalKey",t)}Dn(e,t){return Ih(e).put(_v(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=rl(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Ih(e).Z({range:o,index:"queryTargetsIndex"},(h,m,b)=>{const C=gp(m);hh(t,C.target)&&(l=C,b.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Xa(e);return t.forEach(h=>{const m=_i(h.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),ae.waitFor(o)}removeMatchingKeys(e,t,r){const o=Xa(e);return ae.forEach(t,l=>{const h=_i(l.path);return ae.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Xa(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Xa(e);let l=kt();return o.Z({range:r,X:!0},(h,m,b)=>{const C=ho(h[1]),S=new qe(C);l=l.add(S)}).next(()=>l)}containsKey(e,t){const r=_i(t.path),o=IDBKeyRange.bound([r],[mm(r)],!1,!0);let l=0;return Xa(e).Z({index:"documentTargetsIndex",X:!0,range:o},([h,m],b,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}se(e,t){return Ih(e).get(t).next(r=>r?gp(r):null)}}function Ih(n){return dr(n,"targets")}function _E(n){return dr(n,"targetGlobal")}function Xa(n){return dr(n,"targetDocuments")}function xv([n,e],[t,r]){const o=xt(n,t);return 0===o?xt(e,r):o}class MD{constructor(e){this.xn=e,this.buffer=new gn(xv),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vE{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ja(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ju(r)}yield t.Fn(3e5)}))}}class bE{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Li.at);const r=new MD(t);return this.$n.forEachTarget(e,o=>r.Mn(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.Mn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Tv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,l,h,m,b,C;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,h=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(l=R,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),gm()<=jo.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-S}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${R} documents in `+(C-b)+`ms\nTotal Duration: ${C-S}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:R})))}}class RD{constructor(e,t){this.db=e,this.garbageCollector=new bE(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return jm(e,r)}removeReference(e,t,r){return jm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jm(e,t)}Gn(e,t){return function(r,o){let l=!1;return yE(r).tt(h=>Sv(r,h,o).next(m=>(m&&(l=!0),ae.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Kn(e,(h,m)=>{if(m<=t){const b=this.Gn(e,h).next(C=>{if(!C)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h,_t.min()),Xa(e).delete([0,_i(h.path)])))});o.push(b)}}).next(()=>ae.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jm(e,t)}Kn(e,t){const r=Xa(e);let o,l=Li.at;return r.Z({index:"documentTargetsIndex"},([h,m],{path:b,sequenceNumber:C})=>{0===h?(l!==Li.at&&t(new qe(ho(o)),l),l=C,o=b):l=Li.at}).next(()=>{l!==Li.at&&t(new qe(ho(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jm(n,e){return Xa(n).put((r=n.currentSequenceNumber,{targetId:0,path:_i(e.path),sequenceNumber:r}));var r}class Mv{constructor(){this.changes=new Ga(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PD{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return al(e).put(r)}removeEntry(e,t,r){return al(e).delete(function(o,l){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Um(l),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=wn.newInvalidDocument(t);return al(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yp(t))},(o,l)=>{r=this.jn(t,l)}).next(()=>r)}Wn(e,t){let r={size:0,document:wn.newInvalidDocument(t)};return al(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yp(t))},(o,l)=>{r={document:this.jn(t,l),size:Ja(l)}}).next(()=>r)}getEntries(e,t){let r=Ui();return this.zn(e,t,(o,l)=>{const h=this.jn(o,l);r=r.insert(o,h)}).next(()=>r)}Hn(e,t){let r=Ui(),o=new Kn(qe.comparator);return this.zn(e,t,(l,h)=>{const m=this.jn(l,h);r=r.insert(l,m),o=o.insert(l,Ja(h))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ae.resolve();let o=new gn(ND);t.forEach(b=>o=o.add(b));const l=IDBKeyRange.bound(yp(o.first()),yp(o.last())),h=o.getIterator();let m=h.getNext();return al(e).Z({index:"documentKeyIndex",range:l},(b,C,S)=>{const R=qe.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&ND(m,R)<0;)r(m,null),m=h.getNext();m&&m.isEqual(R)&&(r(m,C),m=h.hasNext()?h.getNext():null),m?S.j(yp(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Um(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return al(e).W(IDBKeyRange.bound(o,l,!0)).next(h=>{let m=Ui();for(const b of h){const C=this.jn(qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,o){let l=Ui();const h=EE(t,r),m=EE(t,is.max());return al(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(b,C,S)=>{const R=this.jn(qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(R.key,R),l.size===o&&S.done()}).next(()=>l)}newChangeBuffer(e){return new wE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Pv(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Qn(e,t){return Pv(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function ID(n,e){let t;if(e.document)t=Yw(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=qe.fromSegments(e.noDocument.path),o=Ka(e.noDocument.readTime);t=wn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=qe.fromSegments(e.unknownDocument.path),o=Ka(e.unknownDocument.version);t=wn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Qt(r[0],r[1]);return _t.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return wn.newInvalidDocument(e)}}function Rv(n){return new PD(n)}class wE extends Mv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ga(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new gn((l,h)=>xt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Xn.get(l);if(t.push(this.Yn.removeEntry(e,l,m.readTime)),h.isValidDocument()){const b=dE(this.Yn.It,h);o=o.add(l.path.popLast()),r+=Ja(b)-m.size,t.push(this.Yn.addEntry(e,l,b))}else if(r-=m.size,this.trackRemovals){const b=dE(this.Yn.It,h.convertToNoDocument(_t.min()));t.push(this.Yn.addEntry(e,l,b))}}),o.forEach(l=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Yn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((l,h)=>{this.Xn.set(l,{size:h,readTime:r.get(l).readTime})}),r))}}function Pv(n){return dr(n,"remoteDocumentGlobal")}function al(n){return dr(n,"remoteDocumentsV14")}function yp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function EE(n,e){const t=e.documentKey.path.toArray();return[n,Um(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ND(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=xt(t[l],r[l]),o)return o;return o=xt(t.length,r.length),o||(o=xt(t[t.length-2],r[r.length-2]),o||xt(t[t.length-1],r[r.length-1]))}class IE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&Rc(r.mutation,o,ss.empty(),Qt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=kt()){const o=co();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let h=Pc();return l.forEach((m,b)=>{h=h.insert(m,b.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=co();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,kt()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,r,o){let l=Ui();const h=ap(),m=ap();return t.forEach((b,C)=>{const S=r.get(C.key);o.has(C.key)&&(void 0===S||S.mutation instanceof Ha)?l=l.insert(C.key,C):void 0!==S&&(h.set(C.key,S.mutation.getFieldMask()),Rc(S.mutation,C,S.mutation.getFieldMask(),Qt.now()))}),this.recalculateAndSaveOverlays(e,l).next(b=>(b.forEach((C,S)=>h.set(C,S)),t.forEach((C,S)=>{var R;return m.set(C,new IE(S,null!==(R=h.get(C))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=ap();let o=new Kn((h,m)=>h-m),l=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(b=>{const C=t.get(b);if(null===C)return;let S=r.get(b)||ss.empty();S=m.applyToLocalView(C,S),r.set(b,S);const R=(o.get(m.batchId)||kt()).add(b);o=o.insert(m.batchId,R)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const b=m.getNext(),C=b.key,S=b.value,R=Rm();S.forEach(Z=>{if(!l.has(Z)){const Q=Fw(t.get(Z),r.get(Z));null!==Q&&R.set(Z,Q),l=l.add(Z)}}),h.push(this.documentOverlayCache.saveOverlays(e,C,R))}return ae.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return qe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):z_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):ae.resolve(co());let m=-1,b=l;return h.next(C=>ae.forEach(C,(S,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),l.get(S)?ae.resolve():this.getBaseDocument(e,S,R).next(Z=>{b=b.insert(S,Z)}))).next(()=>this.populateOverlays(e,C,l)).next(()=>this.computeViews(e,b,C,kt())).next(S=>({batchId:m,changes:Mm(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qe(t)).next(r=>{let o=Pc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=Pc();return this.indexManager.getCollectionParents(e,o).next(h=>ae.forEach(h,m=>{const b=(C=t,S=m.child(o),new zo(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,b,r).next(C=>{C.forEach((S,R)=>{l=l.insert(S,R)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(l=>(o=l,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(l=>{l.forEach((m,b)=>{const C=b.getKey();null===o.get(C)&&(o=o.insert(C,wn.newInvalidDocument(C)))});let h=Pc();return o.forEach((m,b)=>{const C=l.get(m);void 0!==C&&Rc(C.mutation,b,ss.empty(),Qt.now()),Q_(t,b)&&(h=h.insert(m,b))}),h})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(wn.newInvalidDocument(t))}}class BA{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Rr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Vm(r.bundledQuery),readTime:Rr(r.readTime)}),ae.resolve();var r}}class ZA{constructor(){this.overlays=new Kn(qe.comparator),this.es=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=co();return ae.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.ue(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.es.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const o=co(),l=t.length+1,h=new qe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const b=m.getNext().value,C=b.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&b.largestBatchId>r&&o.set(b.getKey(),b)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Kn((C,S)=>C-S);const h=this.overlays.getIterator();for(;h.hasNext();){const C=h.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=l.get(C.largestBatchId);null===S&&(S=co(),l=l.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const m=co(),b=l.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((C,S)=>m.set(C,S)),!(m.size()>=o)););return ae.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const h=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new pp(t,r));let l=this.es.get(t);void 0===l&&(l=kt(),this.es.set(t,l)),this.es.set(t,l.add(r.key))}}class CE{constructor(){this.ns=new gn($r.ss),this.rs=new gn($r.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new $r(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new $r(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new qe(new Pt([])),r=new $r(t,e),o=new $r(t,e+1),l=[];return this.rs.forEachInRange([r,o],h=>{this.cs(h),l.push(h.key)}),l}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new qe(new Pt([])),r=new $r(t,e),o=new $r(t,e+1);let l=kt();return this.rs.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new $r(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $r{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return qe.comparator(e.key,t.key)||xt(e._s,t._s)}static os(e,t){return xt(e._s,t._s)||qe.comparator(e.key,t.key)}}class jA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new gn($r.ss)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.ws;this.ws++;const h=new fp(l,t,r,o);this.mutationQueue.push(h);for(const m of o)this.gs=this.gs.add(new $r(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),l=o<0?0:o;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $r(t,0),o=new $r(t,Number.POSITIVE_INFINITY),l=[];return this.gs.forEachInRange([r,o],h=>{const m=this.ys(h._s);l.push(m)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(xt);return t.forEach(o=>{const l=new $r(o,0),h=new $r(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([l,h],m=>{r=r.add(m._s)})}),ae.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;qe.isDocumentKey(l)||(l=l.child(""));const h=new $r(new qe(l),0);let m=new gn(xt);return this.gs.forEachWhile(b=>{const C=b.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(b._s)),!0)},h),ae.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){It(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ae.forEach(t.mutations,o=>{const l=new $r(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new $r(t,0),o=this.gs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qA{constructor(e){this.Es=e,this.docs=new Kn(qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,h=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=Ui();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():wn.newInvalidDocument(o))}),ae.resolve(r)}getAllFromCollection(e,t,r){let o=Ui();const l=new qe(t.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||_m(B_(b),r)<=0||(o=o.insert(b.key,b.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Xe()}As(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $A(this)}getSize(e){return ae.resolve(this.size)}}class $A extends Mv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class qm{constructor(e){this.persistence=e,this.Rs=new Ga(t=>rl(t),hh),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.bs=0,this.Ps=new CE,this.targetCount=0,this.vs=Eh.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Eh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Dn(t),ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Rs.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(l).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Ps.containsKey(t))}}class OD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Li(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qm(this),this.indexManager=new AD,this.remoteDocumentCache=new qA(r=>this.referenceDelegate.xs(r)),this.It=new cE(t),this.Ns=new BA(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new jA(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new DE(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(l=>this.referenceDelegate.Ms(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Os(e,t){return ae.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class DE extends Wf{constructor(e){super(),this.currentSequenceNumber=e}}class Vc{constructor(e){this.persistence=e,this.Fs=new CE,this.$s=null}static Bs(e){return new Vc(e)}get Ls(){if(this.$s)return this.$s;throw Xe()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Ls.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,r=>{const o=qe.fromPath(r);return this.Us(e,o).next(l=>{l||t.removeEntry(o,_t.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ae.or([()=>ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class TE{constructor(e){this.It=e}$(e,t,r,o){const l=new rh("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sE,{unique:!0}),m.createObjectStore("documentMutations"),Nv(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Nv(e)),h=h.next(()=>function(m){const b=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",C)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store("mutations").W().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sE,{unique:!0});const S=b.store("mutations"),R=C.map(Z=>S.put(Z));return ae.waitFor(R)})}(e,l))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.qs(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(l)))),r<7&&o>=7&&(h=h.next(()=>this.Gs(l))),r<8&&o>=8&&(h=h.next(()=>this.Qs(e,l))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.js(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const b=m.createObjectStore("documentOverlays",{keyPath:bD});b.createIndex("collectionPathOverlayIndex",wD,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",aE,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const b=m.createObjectStore("remoteDocumentsV14",{keyPath:gD});b.createIndex("documentKeyIndex",fv),b.createIndex("collectionGroupIndex",Ko)}(e)).next(()=>this.Ws(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>this.zs(e,l))),r<15&&o>=15&&(h=h.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:_D}).createIndex("sequenceNumberIndex",vD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Om}).createIndex("documentKeyIndex",Fm,{unique:!1})}(e))),h}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=Ja(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ae.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",h).next(m=>ae.forEach(m,b=>{It(b.userId===l.userId);const C=ol(this.It,b);return Av(e,l.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.Z((h,m)=>{const b=new Pt(h),C=[0,_i(b)];l.push(t.get(C).next(S=>S?ae.resolve():t.put({targetId:0,path:_i(b),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ae.waitFor(l))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:yD});const r=t.store("collectionParents"),o=new Iv,l=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:_i(b)})}};return t.store("remoteDocuments").Z({X:!0},(h,m)=>{const b=new Pt(h);return l(b.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([h,m,b],C)=>{const S=ho(m);return l(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const l=gp(o),h=_v(this.It,l);return t.put(h)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((l,h)=>{const m=t.store("remoteDocumentsV14"),b=(C=h,C.document?new qe(Pt.fromString(C.document.name).popFirst(5)):C.noDocument?qe.fromSegments(C.noDocument.path):C.unknownDocument?qe.fromSegments(C.unknownDocument.path):Xe()).path.toArray();var C;const S={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(S))}).next(()=>ae.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=Rv(this.It),l=new OD(Vc.Bs,this.It.re);return r.W().next(h=>{const m=new Map;return h.forEach(b=>{var C;let S=null!==(C=m.get(b.userId))&&void 0!==C?C:kt();ol(this.It,b).keys().forEach(R=>S=S.add(R)),m.set(b.userId,S)}),ae.forEach(m,(b,C)=>{const S=new _r(C),R=Pr.oe(this.It,S),Z=l.getIndexManager(S),Q=Zm.oe(S,this.It,Z,l.referenceDelegate);return new kD(o,Q,R,Z).recalculateAndSaveOverlaysForDocumentKeys(new lE(t,Li.at),b).next()})})}}function Nv(n){n.createObjectStore("targetDocuments",{keyPath:pv}).createIndex("documentTargetsIndex",hp,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mD,{unique:!0}),n.createObjectStore("targetGlobal")}const AE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _p{constructor(e,t,r,o,l,h,m,b,C,S,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=l,this.window=h,this.document=m,this.Js=C,this.Ys=S,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=Z=>Promise.resolve(),!_p.C())throw new xe(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RD(this,o),this.ii=t+"main",this.It=new cE(b),this.ri=new Fi(this.ii,this.Xs,new TE(this.It)),this.Cs=new xD(this.referenceDelegate,this.It),this.remoteDocumentCache=Rv(this.It),this.Ns=new CD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ne.FAILED_PRECONDITION,AE);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Li(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$m(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ja(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ch(e).get("owner").next(t=>ae.resolve(this.mi(t)))}gi(e){return $m(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=dr(r,"clientMetadata");return o.W().next(l=>{const h=e.Ii(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return ae.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ae.resolve(!0):Ch(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(ne.FAILED_PRECONDITION,AE);return!1}}return!(!this.networkEnabled||!this.inForeground)||$m(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new lE(t,Li.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>$m(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Zm.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Cv(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Pr.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(h=this.Xs)?ED:14===h?uE:13===h?yv:12===h?mv:11===h?gv:void Xe();var h;let m;return this.ri.runTransaction(e,o,l,b=>(m=new lE(b,this.Ss?this.Ss.next():Li.at),"readwrite-primary"===t?this.fi(m).next(C=>!!C||this.di(m)).next(C=>{if(!C)throw zn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(ne.FAILED_PRECONDITION,Z_);return r(m)}).next(C=>this.wi(m).next(()=>C)):this.Vi(m).next(()=>r(m)))).then(b=>(m.raiseOnCommittedEvent(),b))}Vi(e){return Ch(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(ne.FAILED_PRECONDITION,AE)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ch(e).put("owner",t)}static C(){return Fi.C()}_i(e){const t=Ch(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(zn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,tn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){zn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ch(n){return dr(n,"owner")}function $m(n){return dr(n,"clientMetadata")}function Hm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class SE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=kt(),o=kt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new SE(e,t.fromCache,r,o)}}class FD{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(l=>l||this.Mi(e,t,o,r)).next(l=>l||this.Oi(e,t))}ki(e,t){if(Tw(t))return ae.resolve(null);let r=os(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=K_(t,null,"F"),r=os(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const h=kt(...l);return this.Ni.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,r).next(b=>{const C=this.Fi(t,m);return this.$i(t,C,h,b.readTime)?this.ki(e,K_(t,null,"F")):this.Bi(e,C,t,b)}))})))}Mi(e,t,r,o){return Tw(t)||o.isEqual(_t.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(l=>{const h=this.Fi(t,l);return this.$i(t,h,r,o)?this.Oi(e,t):(gm()<=jo.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fh(t)),this.Bi(e,h,t,uw(o,-1)))})}Fi(e,t){let r=new gn(J_(e));return t.forEach((o,l)=>{Q_(e,l)&&(r=r.add(l))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Oi(e,t){return gm()<=jo.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",fh(t)),this.Ni.getDocumentsMatchingQuery(e,t,is.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}class LD{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Kn(xt),this.qi=new Ga(l=>rl(l),hh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kD(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function xE(n,e,t,r){return new LD(n,e,t,r)}function vp(n,e){return kv.apply(this,arguments)}function kv(){return kv=(0,ye.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const h=[],m=[];let b=kt();for(const C of o){h.push(C.batchId);for(const S of C.mutations)b=b.add(S.key)}for(const C of l){m.push(C.batchId);for(const S of C.mutations)b=b.add(S.key)}return t.localDocuments.getDocuments(r,b).next(C=>({ji:C,removedBatchIds:h,addedBatchIds:m}))})})}),kv.apply(this,arguments)}function HA(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Gi.newChangeBuffer({trackRemovals:!0});return function(h,m,b,C){const S=b.batch,R=S.keys();let Z=ae.resolve();return R.forEach(Q=>{Z=Z.next(()=>C.getEntry(m,Q)).next(oe=>{const Me=b.docVersions.get(Q);It(null!==Me),oe.version.compareTo(Me)<0&&(S.applyToRemoteDocument(oe,b),oe.isValidDocument()&&(oe.setReadTime(b.commitVersion),C.addEntry(oe)))})}),Z.next(()=>h.mutationQueue.removeMutationBatch(m,S))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let m=kt();for(let b=0;b<h.mutationResults.length;++b)h.mutationResults[b].transformResults.length>0&&(m=m.add(h.batch.mutations[b].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function UD(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function GA(n,e){const t=Ge(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((S,R)=>{const Z=o.get(R);if(!Z)return;m.push(t.Cs.removeMatchingKeys(l,S.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(l,S.addedDocuments,R)));let Q=Z.withSequenceNumber(l.currentSequenceNumber);var oe,Me,Fe;e.targetMismatches.has(R)?Q=Q.withResumeToken(vr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(R,Q),Me=Q,Fe=S,(0===(oe=Z).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(l,Q))});let b=Ui(),C=kt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,S))}),m.push(ME(l,h,e.documentUpdates).next(S=>{b=S.Wi,C=S.zi})),!r.isEqual(_t.min())){const S=t.Cs.getLastRemoteSnapshotVersion(l).next(R=>t.Cs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(S)}return ae.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,b,C)).next(()=>b)}).then(l=>(t.Ui=o,l))}function ME(n,e,t){let r=kt(),o=kt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let h=Ui();return t.forEach((m,b)=>{const C=l.get(m);b.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),b.isNoDocument()&&b.version.isEqual(_t.min())?(e.removeEntry(m,b.readTime),h=h.insert(m,b)):!C.isValidDocument()||b.version.compareTo(C.version)>0||0===b.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(b),h=h.insert(m,b)):Pe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",b.version)}),{Wi:h,zi:o}})}function VD(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dh(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(l=>l?(o=l,ae.resolve(o)):t.Cs.allocateTargetId(r).next(h=>(o=new Yo(e,h,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function bp(n,e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,ye.Z)(function*(n,e,t){const r=Ge(n),o=r.Ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ja(h))throw h;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),Ov.apply(this,arguments)}function wp(n,e,t){const r=Ge(n);let o=_t.min(),l=kt();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,C){const S=Ge(m),R=S.qi.get(C);return void 0!==R?ae.resolve(S.Ui.get(R)):S.Cs.getTargetData(b,C)}(r,h,os(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Li.getDocumentsMatchingQuery(h,e,t?o:_t.min(),t?l:kt())).next(m=>(Vs(r,Aw(e),m),{documents:m,Hi:l})))}function Fv(n,e){const t=Ge(n),r=Ge(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.se(l,e).next(h=>h?h.target:null))}function BD(n,e){const t=Ge(n),r=t.Ki.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,uw(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Vs(t,e,o),o))}function Vs(n,e,t){let r=_t.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ki.set(e,r)}function Ep(){return Ep=(0,ye.Z)(function*(n,e,t,r){const o=Ge(n);let l=kt(),h=Ui();for(const C of t){const S=e.Ji(C.metadata.name);C.document&&(l=l.add(S));const R=e.Yi(C);R.setReadTime(e.Xi(C.metadata.readTime)),h=h.insert(S,R)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),b=yield Dh(o,(C=r,os(xc(Pt.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>ME(C,m,h).next(S=>(m.apply(C),S)).next(S=>o.Cs.removeMatchingKeysForTargetId(C,b.targetId).next(()=>o.Cs.addMatchingKeys(C,l,b.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,S.Wi,S.zi)).next(()=>S.Wi)))}),Ep.apply(this,arguments)}function jD(n,e){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,ye.Z)(function*(n,e,t=kt()){const r=yield Dh(n,os(Vm(e.bundledQuery))),o=Ge(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Rr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ns.saveNamedQuery(l,e);const m=r.withResumeToken(vr.EMPTY_BYTE_STRING,h);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(l,m).next(()=>o.Cs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Cs.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(l,e))})}),Bi.apply(this,arguments)}function RE(n,e){return`firestore_clients_${n}_${e}`}function Gm(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Lv(n,e){return`firestore_targets_${n}_${e}`}class Wm{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new xe(o.error.code,o.error.message))),h?new Wm(e,t,o.state,l):(zn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bc{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new xe(r.error.code,r.error.message))),l?new Bc(e,r.state,o):(zn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ip{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=Wa();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=H_(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new Ip(e,l):(zn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zm{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zm(t.clientId,t.onlineState):(zn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Uv{constructor(){this.activeTargetIds=Wa()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Km{constructor(e,t,r,o,l){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Kn(xt),this.started=!1,this.cr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ar=RE(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Uv),this.lr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const l=e.getItem(RE(e.persistenceKey,o));if(l){const h=Ip.Zi(o,l);h&&(e.ur=e.ur.insert(h.clientId,h))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Lv(this.persistenceKey,e));if(r){const o=Bc.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(l){let h=Li.at;if(null!=l)try{const m=JSON.parse(l);It("number"==typeof m),h=m}catch(m){zn("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Li.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Mr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Or(l)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new Wm(this.currentUser,e,t,r),l=Gm(this.persistenceKey,this.currentUser,e);this.setItem(l,o.tr())}Er(e){const t=Gm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=Lv(this.persistenceKey,e),l=new Bc(e,t,r);this.setItem(o,l.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Ip.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return Wm.Zi(new _r(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Bc.Zi(o,t)}yr(e){return zm.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),l=this.Ir(r),h=[],m=[];return l.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.Br(h,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Wa();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Vv{constructor(){this.Lr=new Uv,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Uv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qD{qr(e){}shutdown(){}}class Bv{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Zv{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ul extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,l){const h=this.ao(e,t);Pe("RestConnection","Sending: ",h,r);const m={};return this.ho(m,o,l),this.lo(e,h,m,r).then(b=>(Pe("RestConnection","Received: ",b),b),b=>{throw Qu("RestConnection",`${e} failed with error: `,b,"url: ",h,"request:",r),b})}fo(e,t,r,o,l,h){return this.co(e,t,r,o,l)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ic,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}ao(e,t){return`${this.oo}/v1/${t}:${$D[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){return new Promise((l,h)=>{const m=new F_;m.listenOnce(Qb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case hm.NO_ERROR:const C=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(C)),l(C);break;case hm.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),h(new xe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const S=m.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const R=m.getResponseJson().error;if(R&&R.status&&R.message){const Z=function(Q){const oe=Q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(oe)>=0?oe:ne.UNKNOWN}(R.status);h(new xe(Z,R.message))}else h(new xe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new xe(ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}_o(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=FC(),h=Yb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new LC({})),this.ho(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const b=o.join("");Pe("Connection","Creating WebChannel: "+b,m);const C=l.createWebChannel(b,m);let S=!1,R=!1;const Z=new Zv({Hr:oe=>{R?Pe("Connection","Not sending because WebChannel is closed:",oe):(S||(Pe("Connection","Opening WebChannel transport."),C.open(),S=!0),Pe("Connection","WebChannel sending:",oe),C.send(oe))},Jr:()=>C.close()}),Q=(oe,Me,Fe)=>{oe.listen(Me,bt=>{try{Fe(bt)}catch(Dt){setTimeout(()=>{throw Dt},0)}})};return Q(C,fm.EventType.OPEN,()=>{R||Pe("Connection","WebChannel transport opened.")}),Q(C,fm.EventType.CLOSE,()=>{R||(R=!0,Pe("Connection","WebChannel transport closed"),Z.io())}),Q(C,fm.EventType.ERROR,oe=>{R||(R=!0,Qu("Connection","WebChannel transport errored:",oe),Z.io(new xe(ne.UNAVAILABLE,"The operation could not be completed")))}),Q(C,fm.EventType.MESSAGE,oe=>{var Me;if(!R){const Fe=oe.data[0];It(!!Fe);const bt=Fe,Dt=bt.error||(null===(Me=bt[0])||void 0===Me?void 0:Me.error);if(Dt){Pe("Connection","WebChannel received error:",Dt);const Ut=Dt.status;let Mt=function(qt){const Hr=sr[qt];if(void 0!==Hr)return Zw(Hr)}(Ut),Nt=Dt.message;void 0===Mt&&(Mt=ne.INTERNAL,Nt="Unknown error status: "+Ut+" with message "+Dt.message),R=!0,Z.io(new xe(Mt,Nt)),C.close()}else Pe("Connection","WebChannel received:",Fe),Z.ro(Fe)}}),Q(h,Jb.STAT_EVENT,oe=>{oe.stat===Xb.PROXY?Pe("Connection","Detected buffering proxy"):oe.stat===Xb.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{Z.so()},0),Z}}function jv(){return typeof window<"u"?window:null}function Th(){return typeof document<"u"?document:null}function as(n){return new Ww(n,!0)}class qv{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=o,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class HD{constructor(e,t,r,o,l,h,m,b){this.Hs=e,this.Po=r,this.vo=o,this.Vo=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new qv(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(zn(t.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new xe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends HD{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.It=l}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function dD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:Xe(),o=e.targetChange.targetIds||[],l=function(b,C){return b.gt?(It(void 0===C||"string"==typeof C),vr.fromBase64String(C||"")):(It(void 0===C||C instanceof Uint8Array),vr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(b){const C=void 0===b.code?ne.UNKNOWN:Zw(b.code);return new xe(C,b.message||"")}(h);t=new Pm(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=za(n,r.document.name),l=Rr(r.document.updateTime),h=new Bt({mapValue:{fields:r.document.fields}}),m=wn.newFoundDocument(o,l,h);t=new iv(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=za(n,r.document),l=r.readTime?Rr(r.readTime):_t.min(),h=wn.newNoDocument(o,l);t=new iv([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=za(n,r.document);t=new iv([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,l=new iD(r.count||0);t=new sv(r.targetId,l)}}var b;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return _t.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?_t.min():l.readTime?Rr(l.readTime):_t.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=lp(this.It),t.addTarget=function(o,l){let h;const m=l.target;return h=tp(m)?{documents:Qw(o,m)}:{query:Jw(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=lv(o,l.resumeToken):l.snapshotVersion.compareTo(_t.min())>0&&(h.readTime=_h(o,l.snapshotVersion.toTimestamp())),h}(this.It,e);const r=function fD(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=lp(this.It),t.removeTarget=e,this.Bo(t)}}class WD extends HD{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.It=l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function hD(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,o){let l=Rr(r.updateTime?r.updateTime:o);return l.isEqual(_t.min())&&(l=Rr(o)),new tD(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.Zo(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=lp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>bh(this.It,r))};this.Bo(t)}}class zD extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=o,this.nu=!1}su(){if(this.nu)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.Vo.co(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ne.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.Vo.fo(e,t,r,l,h,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ne.UNKNOWN,l.toString())})}terminate(){this.nu=!0}}class KD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(zn(t),this.ou=!1):Pe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class PE{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=l,this.mu.qr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var b;eu(h)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,ye.Z)(function*(C){const S=Ge(C);S._u.add(4),yield Ah(S),S.gu.set("Unknown"),S._u.delete(4),yield Ym(S)}),function(C){return b.apply(this,arguments)})(h))}))}),this.gu=new KD(r,o)}}function Ym(n){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,ye.Z)(function*(n){if(eu(n))for(const e of n.wu)yield e(!0)}),Qm.apply(this,arguments)}function Ah(n){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Jm.apply(this,arguments)}function $v(n,e){const t=Ge(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ty(t)?ey(t):Sh(t).ko()&&Xm(t,e))}function Zc(n,e){const t=Ge(n),r=Sh(t);t.du.delete(e),r.ko()&&Hv(t,e),0===t.du.size&&(r.ko()?r.Fo():eu(t)&&t.gu.set("Unknown"))}function Xm(n,e){n.yu.Ot(e.targetId),Sh(n).zo(e)}function Hv(n,e){n.yu.Ot(e),Sh(n).Ho(e)}function ey(n){n.yu=new ov({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Sh(n).start(),n.gu.uu()}function ty(n){return eu(n)&&!Sh(n).No()&&n.du.size>0}function eu(n){return 0===Ge(n)._u.size}function Cp(n){n.yu=void 0}function ny(n){return ry.apply(this,arguments)}function ry(){return ry=(0,ye.Z)(function*(n){n.du.forEach((e,t)=>{Xm(n,e)})}),ry.apply(this,arguments)}function YD(n,e){return iy.apply(this,arguments)}function iy(){return iy=(0,ye.Z)(function*(n,e){Cp(n),ty(n)?(n.gu.hu(e),ey(n)):n.gu.set("Unknown")}),iy.apply(this,arguments)}function NE(n,e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,ye.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Pm&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.du.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.du.delete(m),o.yu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sy(n,r)}else if(e instanceof iv?n.yu.Gt(e):e instanceof sv?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(_t.min()))try{const r=yield UD(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.yu.te(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.du.get(b);C&&o.du.set(b,C.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=o.du.get(m);if(!b)return;o.du.set(m,b.withResumeToken(vr.EMPTY_BYTE_STRING,b.snapshotVersion)),Hv(o,m);const C=new Yo(b.target,m,1,b.sequenceNumber);Xm(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield sy(n,r)}var r}),Gv.apply(this,arguments)}function sy(n,e,t){return kE.apply(this,arguments)}function kE(){return kE=(0,ye.Z)(function*(n,e,t){if(!ja(e))throw e;n._u.add(1),yield Ah(n),n.gu.set("Offline"),t||(t=()=>UD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Ym(n)}))}),kE.apply(this,arguments)}function QD(n,e){return e().catch(t=>sy(n,t,e))}function jc(n){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,ye.Z)(function*(n){const e=Ge(n),t=Xo(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;JD(e);)try{const o=yield VD(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,XD(e,o)}catch(o){yield sy(e,o)}eT(e)&&tT(e)}),Wv.apply(this,arguments)}function JD(n){return eu(n)&&n.fu.length<10}function XD(n,e){n.fu.push(e);const t=Xo(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function eT(n){return eu(n)&&!Xo(n).No()&&n.fu.length>0}function tT(n){Xo(n).start()}function WA(n){return OE.apply(this,arguments)}function OE(){return OE=(0,ye.Z)(function*(n){Xo(n).eu()}),OE.apply(this,arguments)}function zA(n){return zv.apply(this,arguments)}function zv(){return zv=(0,ye.Z)(function*(n){const e=Xo(n);for(const t of n.fu)e.Xo(t.mutations)}),zv.apply(this,arguments)}function oy(n,e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,ye.Z)(function*(n,e,t){const r=n.fu.shift(),o=Lm.from(r,e,t);yield QD(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield jc(n)}),Kv.apply(this,arguments)}function nT(n,e){return ay.apply(this,arguments)}function ay(){return ay=(0,ye.Z)(function*(n,e){var t;e&&Xo(n).Yo&&(yield(t=(0,ye.Z)(function*(r,o){if(Bw(l=o.code)&&l!==ne.ABORTED){const h=r.fu.shift();Xo(r).Oo(),yield QD(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield jc(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),eT(n)&&tT(n)}),ay.apply(this,arguments)}function ll(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,ye.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=eu(t);t._u.add(3),yield Ah(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ym(t)}),uy.apply(this,arguments)}function Dp(n,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ye.Z)(function*(n,e){const t=Ge(n);e?(t._u.delete(2),yield Ym(t)):e||(t._u.add(2),yield Ah(t),t.gu.set("Unknown"))}),Tp.apply(this,arguments)}function Sh(n){return n.pu||(n.pu=function(e,t,r){const o=Ge(e);return o.su(),new GD(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:ny.bind(null,n),Zr:YD.bind(null,n),Wo:NE.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Oo(),ty(n)?ey(n):n.gu.set("Unknown")):(yield n.pu.stop(),Cp(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Xo(n){return n.Iu||(n.Iu=function(e,t,r){const o=Ge(e);return o.su(),new WD(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:WA.bind(null,n),Zr:nT.bind(null,n),tu:zA.bind(null,n),Zo:oy.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Oo(),yield jc(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Ap{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,m=new Ap(e,t,h,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tu(n,e){if(zn("AsyncQueue",`${e}: ${n}`),ja(n))return new xe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class Sp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||qe.comparator(t.key,r.key):(t,r)=>qe.comparator(t.key,r.key),this.keyedMap=Pc(),this.sortedSet=new Kn(this.comparator)}static emptySet(e){return new Sp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Sp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rT{constructor(){this.Tu=new Kn(qe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Xe():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class xp{constructor(e,t,r,o,l,h,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new xp(e,t,Sp.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class KA{constructor(){this.Au=void 0,this.listeners=[]}}class FE{constructor(){this.queries=new Ga(e=>Y_(e),Am),this.onlineState="Unknown",this.Ru=new Set}}function Yv(n,e){return Qv.apply(this,arguments)}function Qv(){return Qv=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new KA),o)try{l.Au=yield t.onListen(r)}catch(h){const m=tu(h,`Initialization of query '${fh(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.bu(t.onlineState),l.Au&&e.Pu(l.Au)&&ly(t)}),Qv.apply(this,arguments)}function Jv(n,e){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Xv.apply(this,arguments)}function LE(n,e){const t=Ge(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Pu(o)&&(r=!0);h.Au=o}}r&&ly(t)}function UE(n,e,t){const r=Ge(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function ly(n){n.Ru.forEach(e=>{e.next()})}class e0{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new xp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=xp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class iT{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class t0{constructor(e){this.It=e}Ji(e){return za(this.It,e)}Yi(e){return e.metadata.exists?Yw(this.It,e.document,!1):wn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Rr(e)}}class n0{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sT(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Pt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new t0(this.It);for(const o of e)if(o.metadata.queries){const l=r.Ji(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||kt()).add(l);t.set(h,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function ZD(n,e,t,r){return Ep.apply(this,arguments)}(e.localStore,new t0(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const o of e.queries)yield jD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function sT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class r0{constructor(e){this.key=e}}class cy{constructor(e){this.key=e}}class VE{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=kt(),this.mutatedKeys=kt(),this.Ku=J_(e),this.Gu=new Sp(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new rT,o=t?t.Gu:this.Gu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,R)=>{const Z=o.get(S),Q=Q_(this.query,R)?R:null,oe=!!Z&&this.mutatedKeys.has(Z.key),Me=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Fe=!1;Z&&Q?Z.data.isEqual(Q.data)?oe!==Me&&(r.track({type:3,doc:Q}),Fe=!0):this.zu(Z,Q)||(r.track({type:2,doc:Q}),Fe=!0,(b&&this.Ku(Q,b)>0||C&&this.Ku(Q,C)<0)&&(m=!0)):!Z&&Q?(r.track({type:0,doc:Q}),Fe=!0):Z&&!Q&&(r.track({type:1,doc:Z}),Fe=!0,(b||C)&&(m=!0)),Fe&&(Q?(h=h.add(Q),l=Me?l.add(S):l.delete(S)):(h=h.delete(S),l=l.delete(S)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const S="F"===this.query.limitType?h.last():h.first();h=h.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Gu:h,Wu:r,$i:m,mutatedKeys:l}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const l=e.Wu.Eu();l.sort((C,S)=>function(R,Z){const Q=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return Q(R)-Q(Z)}(C.type,S.type)||this.Ku(C.doc,S.doc)),this.Hu(r);const h=t?this.Ju():[],m=0===this.qu.size&&this.current?1:0,b=m!==this.Uu;return this.Uu=m,0!==l.length||b?{snapshot:new xp(this.query,e.Gu,o,l,e.mutatedKeys,0===m,b,!1),Yu:h}:{Yu:h}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new rT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=kt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new cy(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new r0(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=kt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return xp.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class oT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class YA{constructor(e){this.key=e,this.ec=!1}}class QA{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.nc={},this.sc=new Ga(m=>Y_(m),Am),this.ic=new Map,this.rc=new Set,this.oc=new Kn(qe.comparator),this.uc=new Map,this.cc=new CE,this.ac={},this.hc=new Map,this.lc=Eh.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function aT(n,e){return s0.apply(this,arguments)}function s0(){return s0=(0,ye.Z)(function*(n,e){const t=Np(n);let r,o;const l=t.sc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.tc();else{const h=yield Dh(t.localStore,os(e));t.isPrimaryClient&&$v(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield o0(t,e,r,"current"===m)}return o}),s0.apply(this,arguments)}function o0(n,e,t,r){return BE.apply(this,arguments)}function BE(){return BE=(0,ye.Z)(function*(n,e,t,r){n.dc=(S,R,Z)=>{return(Q=(0,ye.Z)(function*(oe,Me,Fe,bt){let Dt=Me.view.ju(Fe);Dt.$i&&(Dt=yield wp(oe.localStore,Me.query,!1).then(({documents:Nt})=>Me.view.ju(Nt,Dt)));const Ut=bt&&bt.targetChanges.get(Me.targetId),Mt=Me.view.applyChanges(Dt,oe.isPrimaryClient,Ut);return E(oe,Me.targetId,Mt.Yu),Mt.snapshot}),function(oe,Me,Fe,bt){return Q.apply(this,arguments)})(n,S,R,Z);var Q};const o=yield wp(n.localStore,e,!0),l=new VE(e,o.Hi),h=l.ju(o.documents),m=up.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);E(n,t,b.Yu);const C=new oT(e,t,l);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),b.snapshot}),BE.apply(this,arguments)}function JA(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,ye.Z)(function*(n,e){const t=Ge(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(l=>!Am(l,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield bp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zc(t.remoteStore,r.targetId),_(t,r.targetId)}).catch(Ju))):(_(t,r.targetId),yield bp(t.localStore,r.targetId,!0))}),ZE.apply(this,arguments)}function jE(){return jE=(0,ye.Z)(function*(n,e,t){const r=lT(n);try{const o=yield function(l,h){const m=Ge(l),b=Qt.now(),C=h.reduce((Z,Q)=>Z.add(Q.key),kt());let S,R;return m.persistence.runTransaction("Locally write mutations","readwrite",Z=>{let Q=Ui(),oe=kt();return m.Gi.getEntries(Z,C).next(Me=>{Q=Me,Q.forEach((Fe,bt)=>{bt.isValidDocument()||(oe=oe.add(Fe))})}).next(()=>m.localDocuments.getOverlayedDocuments(Z,Q)).next(Me=>{S=Me;const Fe=[];for(const bt of h){const Dt=rD(bt,S.get(bt.key).overlayedDocument);null!=Dt&&Fe.push(new Ha(bt.key,Dt,zC(Dt.value.mapValue),An.exists(!0)))}return m.mutationQueue.addMutationBatch(Z,b,Fe,h)}).next(Me=>{R=Me;const Fe=Me.applyToLocalDocumentSet(S,oe);return m.documentOverlayCache.saveOverlays(Z,Me.batchId,Fe)})}).then(()=>({batchId:R.batchId,changes:Mm(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let b=l.ac[l.currentUser.toKey()];b||(b=new Kn(xt)),b=b.insert(h,m),l.ac[l.currentUser.toKey()]=b}(r,o.batchId,t),yield N(r,o.changes),yield jc(r.remoteStore)}catch(o){const l=tu(o,"Failed to persist write");t.reject(l)}}),jE.apply(this,arguments)}function qE(n,e){return $E.apply(this,arguments)}function $E(){return $E=(0,ye.Z)(function*(n,e){const t=Ge(n);try{const r=yield GA(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.uc.get(l);h&&(It(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ec=!0:o.modifiedDocuments.size>0?It(h.ec):o.removedDocuments.size>0&&(It(h.ec),h.ec=!1))}),yield N(t,r,e)}catch(r){yield Ju(r)}}),$E.apply(this,arguments)}function uT(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((l,h)=>{const m=h.view.bu(e);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=Ge(l);m.onlineState=h;let b=!1;m.queries.forEach((C,S)=>{for(const R of S.listeners)R.bu(h)&&(b=!0)}),b&&ly(m)}(r.eventManager,e),o.length&&r.nc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e1(n,e,t){return HE.apply(this,arguments)}function HE(){return HE=(0,ye.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),l=o&&o.key;if(l){let h=new Kn(qe.comparator);h=h.insert(l,wn.newNoDocument(l,_t.min()));const m=kt().add(l),b=new yh(_t.min(),new Map,new gn(xt),h,m);yield qE(r,b),r.oc=r.oc.remove(l),r.uc.delete(e),M(r)}else yield bp(r.localStore,e,!1).then(()=>_(r,e,t)).catch(Ju)}),HE.apply(this,arguments)}function t1(n,e){return GE.apply(this,arguments)}function GE(){return GE=(0,ye.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const o=yield HA(t.localStore,e);p(t,r,null),d(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield N(t,o)}catch(o){yield Ju(o)}}),GE.apply(this,arguments)}function i(n,e,t){return s.apply(this,arguments)}function s(){return s=(0,ye.Z)(function*(n,e,t){const r=Ge(n);try{const o=yield function(l,h){const m=Ge(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return m.mutationQueue.lookupMutationBatch(b,h).next(S=>(It(null!==S),C=S.keys(),m.mutationQueue.removeMutationBatch(b,S))).next(()=>m.mutationQueue.performConsistencyCheck(b)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(b,C,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,C)).next(()=>m.localDocuments.getDocuments(b,C))})}(r.localStore,e);p(r,e,t),d(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield N(r,o)}catch(o){yield Ju(o)}}),s.apply(this,arguments)}function c(){return c=(0,ye.Z)(function*(n,e){const t=Ge(n);eu(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Ge(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.hc.get(r)||[];o.push(e),t.hc.set(r,o)}catch(r){const o=tu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),c.apply(this,arguments)}function d(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function p(n,e,t){const r=Ge(n);let o=r.ac[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function _(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||w(n,r)})}function w(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Zc(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),M(n))}function E(n,e,t){for(const r of t)r instanceof r0?(n.cc.addReference(r.key,e),T(n,r)):r instanceof cy?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||w(n,r.key)):Xe()}function T(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.rc.add(r),M(n))}function M(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new qe(Pt.fromString(e)),r=n.lc.next();n.uc.set(r,new YA(t)),n.oc=n.oc.insert(t,r),$v(n.remoteStore,new Yo(os(xc(t.path)),r,2,Li.at))}}function N(n,e,t){return $.apply(this,arguments)}function $(){return $=(0,ye.Z)(function*(n,e,t){const r=Ge(n),o=[],l=[],h=[];var m;r.sc.isEmpty()||(r.sc.forEach((m,b)=>{h.push(r.dc(b,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),o.push(C);const S=SE.Ci(b.targetId,C);l.push(S)}}))}),yield Promise.all(h),r.nc.Wo(o),yield(m=(0,ye.Z)(function*(b,C){const S=Ge(b);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ae.forEach(C,Z=>ae.forEach(Z.Si,Q=>S.persistence.referenceDelegate.addReference(R,Z.targetId,Q)).next(()=>ae.forEach(Z.Di,Q=>S.persistence.referenceDelegate.removeReference(R,Z.targetId,Q)))))}catch(R){if(!ja(R))throw R;Pe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const Z=R.targetId;if(!R.fromCache){const Q=S.Ui.get(Z),Me=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);S.Ui=S.Ui.insert(Z,Me)}}}),function(b,C){return m.apply(this,arguments)})(r.localStore,l))}),$.apply(this,arguments)}function ee(n,e){return _e.apply(this,arguments)}function _e(){return _e=(0,ye.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield vp(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(h=>{h.forEach(m=>{m.reject(new xe(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield N(t,r.ji)}var o}),_e.apply(this,arguments)}function Oe(n,e){const t=Ge(n),r=t.uc.get(e);if(r&&r.ec)return kt().add(r.key);{let o=kt();const l=t.ic.get(e);if(!l)return o;for(const h of l){const m=t.sc.get(h);o=o.unionWith(m.view.Qu)}return o}}function $e(n,e){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,ye.Z)(function*(n,e){const t=Ge(n),r=yield wp(t.localStore,e.query,!0),o=e.view.Zu(r);return t.isPrimaryClient&&E(t,e.targetId,o.Yu),o}),Qe.apply(this,arguments)}function dt(n,e){return Te.apply(this,arguments)}function Te(){return Te=(0,ye.Z)(function*(n,e){const t=Ge(n);return BD(t.localStore,e).then(r=>N(t,r))}),Te.apply(this,arguments)}function vt(n,e,t,r){return Jt.apply(this,arguments)}function Jt(){return Jt=(0,ye.Z)(function*(n,e,t,r){const o=Ge(n),l=yield function(h,m){const b=Ge(h),C=Ge(b.mutationQueue);return b.persistence.runTransaction("Lookup mutation documents","readonly",S=>C.Tn(S,m).next(R=>R?b.localDocuments.getDocuments(S,R):ae.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield jc(o.remoteStore):"acknowledged"===t||"rejected"===t?(p(o,e,r||null),d(o,e),m=e,Ge(Ge(o.localStore).mutationQueue).An(m)):Xe(),yield N(o,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jt.apply(this,arguments)}function nu(){return nu=(0,ye.Z)(function*(n,e){const t=Ge(n);if(Np(t),lT(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield dy(t,r.toArray());t.fc=!0,yield Dp(t.remoteStore,!0);for(const l of o)$v(t.remoteStore,l)}else if(!1===e&&!1!==t.fc){const r=[];let o=Promise.resolve();t.ic.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(_(t,h),bp(t.localStore,h,!0))),Zc(t.remoteStore,h)}),yield o,yield dy(t,r),function(l){const h=Ge(l);h.uc.forEach((m,b)=>{Zc(h.remoteStore,b)}),h.cc.fs(),h.uc=new Map,h.oc=new Kn(qe.comparator)}(t),t.fc=!1,yield Dp(t.remoteStore,!1)}}),nu.apply(this,arguments)}function dy(n,e,t){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ye.Z)(function*(n,e,t){const r=Ge(n),o=[],l=[];for(const h of e){let m;const b=r.ic.get(h);if(b&&0!==b.length){m=yield Dh(r.localStore,os(b[0]));for(const C of b){const S=r.sc.get(C),R=yield $e(r,S);R.snapshot&&l.push(R.snapshot)}}else{const C=yield Fv(r.localStore,h);m=yield Dh(r.localStore,C),yield o0(r,hy(C),h,!1)}o.push(m)}return r.nc.Wo(l),o}),Mp.apply(this,arguments)}function hy(n){return G_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function a0(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).vi()}function u0(n,e,t,r){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,ye.Z)(function*(n,e,t,r){const o=Ge(n);if(o.fc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=o.ic.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const h=yield BD(o.localStore,Aw(l[0])),m=yh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield N(o,h,m);break}case"rejected":yield bp(o.localStore,e,!0),_(o,e,r);break;default:Xe()}}),Rp.apply(this,arguments)}function l0(n,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,ye.Z)(function*(n,e,t){const r=Np(n);if(r.fc){for(const o of e){if(r.ic.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const l=yield Fv(r.localStore,o),h=yield Dh(r.localStore,l);yield o0(r,hy(l),h.targetId,!1),$v(r.remoteStore,h)}for(const o of t)r.ic.has(o)&&(yield bp(r.localStore,o,!1).then(()=>{Zc(r.remoteStore,o),_(r,o)}).catch(Ju))}}),Pp.apply(this,arguments)}function Np(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e1.bind(null,e),e.nc.Wo=LE.bind(null,e.eventManager),e.nc._c=UE.bind(null,e.eventManager),e}function lT(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i.bind(null,e),e}class n1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=as(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return xE(this.persistence,new FD,e.initialUser,this.It)}gc(e){return new OD(Vc.Bs,this.It)}mc(e){return new Vv}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class r1 extends n1{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield lT(r.Ec.syncEngine),yield jc(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return xE(this.persistence,new FD,e.initialUser,this.It)}Ic(e,t){return new vE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new qC(t,this.persistence);return new cw(e.asyncQueue,r)}gc(e){const t=Hm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Vi.withCacheSize(this.cacheSizeBytes):Vi.DEFAULT;return new _p(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,jv(),Th(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Vv}}class Jx extends r1{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.Ec.syncEngine;r.sharedClientState instanceof Km&&(r.sharedClientState.syncEngine={Fr:vt.bind(null,o),$r:u0.bind(null,o),Br:l0.bind(null,o),vi:a0.bind(null,o),Or:dt.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var l=(0,ye.Z)(function*(h){yield function Nn(n,e){return nu.apply(this,arguments)}(r.Ec.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start():h||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(h&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():h||r.indexBackfillerScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}mc(e){const t=jv();if(!Km.C(t))throw new xe(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Hm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Km(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cT{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>uT(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=ee.bind(null,r.syncEngine),yield Dp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FE}createDatastore(e){const t=as(e.databaseInfo.databaseId),r=new ul(e.databaseInfo);return new zD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>uT(this.syncEngine,m,0),h=Bv.C()?new Bv:new qD,new PE(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,m,b,C){const S=new QA(r,o,l,h,m,b);return C&&(S.fc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=Ge(t);Pe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ah(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function i1(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class WE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Xx{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Mr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),o=Number(r);isNaN(o)&&e.Sc(`length string (${r}) is not valid number`);const l=yield e.Dc(o);return new iT(JSON.parse(l),t.length+o)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ye.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class eM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(l,h){const m=Ge(l),b=lp(m.It)+"/documents",C={documents:h.map(Q=>vh(m.It,Q))},S=yield m.fo("BatchGetDocuments",b,C,h.length),R=new Map;S.forEach(Q=>{const oe=function cD(n,e){return"found"in e?function(t,r){It(!!r.found);const o=za(t,r.found.name),l=Rr(r.found.updateTime),h=new Bt({mapValue:{fields:r.found.fields}});return wn.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const o=za(t,r.missing),l=Rr(r.readTime);return wn.newNoDocument(o,l)}(n,e):Xe()}(m.It,Q);R.set(oe.key.toString(),oe)});const Z=[];return h.forEach(Q=>{const oe=R.get(Q.toString());It(!!oe),Z.push(oe)}),Z}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=qe.fromPath(o);e.mutations.push(new nv(l,e.precondition(l)))}),yield(r=(0,ye.Z)(function*(o,l){const h=Ge(o),m=lp(h.It)+"/documents",b={writes:l.map(C=>bh(h.It,C))};yield h.co("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?An.exists(!1):An.updateTime(t):An.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new xe(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(t)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class tM{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Nc=r.maxAttempts,this.xo=new qv(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ye.Z)(function*(){const t=new eM(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Oc(l)}))}).catch(o=>{e.Oc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!ah(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Bw(t)}return!1}}class nM{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=_r.UNAUTHENTICATED,this.clientId=L_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,ye.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Pe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=tu(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function s1(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(l){r.isEqual(l)||(yield vp(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),dT.apply(this,arguments)}function o1(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fT(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>ll(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>ll(e.remoteStore,l)),n.onlineComponents=e}),hT.apply(this,arguments)}function fT(n){return pT.apply(this,arguments)}function pT(){return pT=(0,ye.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield s1(n,new n1)),n.offlineComponents}),pT.apply(this,arguments)}function zE(n){return gT.apply(this,arguments)}function gT(){return gT=(0,ye.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield o1(n,new cT)),n.onlineComponents}),gT.apply(this,arguments)}function a1(n){return fT(n).then(e=>e.persistence)}function KE(n){return fT(n).then(e=>e.localStore)}function u1(n){return zE(n).then(e=>e.remoteStore)}function mT(n){return zE(n).then(e=>e.syncEngine)}function fy(n){return yT.apply(this,arguments)}function yT(){return yT=(0,ye.Z)(function*(n){const e=yield zE(n),t=e.eventManager;return t.onListen=aT.bind(null,e.syncEngine),t.onUnlisten=JA.bind(null,e.syncEngine),t}),yT.apply(this,arguments)}function l1(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,l,h,m,b){const C=new WE({next:R=>{l.enqueueAndForget(()=>Jv(o,S));const Z=R.docs.has(h);!Z&&R.fromCache?b.reject(new xe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&R.fromCache&&m&&"server"===m.source?b.reject(new xe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(R)},error:R=>b.reject(R)}),S=new e0(xc(h.path),C,{includeMetadataChanges:!0,Nu:!0});return Yv(o,S)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}function c1(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,l,h,m,b){const C=new WE({next:R=>{l.enqueueAndForget(()=>Jv(o,S)),R.fromCache&&"server"===m.source?b.reject(new xe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(R)},error:R=>b.reject(R)}),S=new e0(h,C,{includeMetadataChanges:!0,Nu:!0});return Yv(o,S)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}const d1=new Map;function _T(n,e,t){if(!t)throw new xe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h1(n,e,t,r){if(!0===e&&!0===r)throw new xe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function f1(n){if(!qe.isDocumentKey(n))throw new xe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p1(n){if(qe.isDocumentKey(n))throw new xe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function YE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=YE(n);throw new xe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function g1(n,e){if(e<=0)throw new xe(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class m1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,h1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class c0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new iw;switch(t.type){case"gapi":return new nh(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=d1.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),d1.delete(e),t.terminate())}(this),Promise.resolve()}}class Vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Zi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class cl extends Zi{constructor(e,t,r){super(e,t,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new qe(e))}withConverter(e){return new cl(this.firestore,e,this._path)}}function y1(n,e,...t){if(n=(0,tn.m9)(n),_T("collection","path",e),n instanceof c0){const r=Pt.fromString(e,...t);return p1(r),new cl(n,null,r)}{if(!(n instanceof Vn||n instanceof cl))throw new xe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pt.fromString(e,...t));return p1(r),new cl(n.firestore,null,r)}}function QE(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=L_.R()),_T("doc","path",e),n instanceof c0){const r=Pt.fromString(e,...t);return f1(r),new Vn(n,null,new qe(r))}{if(!(n instanceof Vn||n instanceof cl))throw new xe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pt.fromString(e,...t));return f1(r),new Vn(n.firestore,n instanceof cl?n.converter:null,new qe(r))}}function _1(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof Vn||n instanceof cl)&&(e instanceof Vn||e instanceof cl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function v1(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof Zi&&e instanceof Zi&&n.firestore===e.firestore&&Am(n._query,e._query)&&n.converter===e.converter}class fM{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new qv(this,"async_queue_retry"),this.jc=()=>{const t=Th();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Th();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Mr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ja(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,zn("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const o=Ap.createAndSchedule(this,e,t,r,l=>this.Jc(l));return this.Uc.push(o),o}Wc(){this.qc&&Xe()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function vT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class pM{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends c0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new fM,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||b1(this),this._firestoreClient.terminate()}}function Nr(n){return n._firestoreClient||b1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function b1(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pw(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new nM(n._authCredentials,n._appCheckCredentials,n._queue,r)}function w1(n,e,t){const r=new Mr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield s1(n,t),yield o1(n,e),r.resolve()}catch(o){const l=o;if(!("FirebaseError"===(h=l).name?h.code===ne.FAILED_PRECONDITION||h.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;Qu("Error enabling offline persistence. Falling back to persistence disabled: "+l),r.reject(l)}var h})).then(()=>r.promise)}function E1(n){if(n._initialized||n._terminated)throw new xe(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(vr.fromBase64String(e))}catch(t){throw new xe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dl(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kp{constructor(e){this._methodName=e}}class JE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const CM=/^__.*__$/;class DM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}class I1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ha(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function C1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class XE{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===l&&this.ea(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new XE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.oa(e),o}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.ea(),o}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return nI(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(C1(this.na)&&CM.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class TM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||as(e)}fa(e,t,r,o=!1){return new XE({na:e,methodName:t,la:r,path:nn.emptyPath(),ra:!1,ha:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Op(n){const e=n._freezeSettings(),t=as(n._databaseId);return new TM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eI(n,e,t,r,o,l={}){const h=n.fa(l.merge||l.mergeFields?2:0,e,t,o);IT("Data must be an object, but it was:",h,r);const m=A1(r,h);let b,C;if(l.merge)b=new ss(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const S=[];for(const R of l.mergeFields){const Z=CT(e,R,t);if(!h.contains(Z))throw new xe(ne.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);x1(S,Z)||S.push(Z)}b=new ss(S),C=h.fieldTransforms.filter(R=>b.covers(R.field))}else b=null,C=h.fieldTransforms;return new DM(new Bt(m),b,C)}class d0 extends kp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof d0}}function D1(n,e,t){return new XE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class bT extends kp{_toFieldTransform(e){return new sp(e.path,new ph)}isEqual(e){return e instanceof bT}}class AM extends kp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=D1(this,e,!0),r=this.da.map(l=>Fp(l,t)),o=new lo(r);return new sp(e.path,o)}isEqual(e){return this===e}}class SM extends kp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=D1(this,e,!0),r=this.da.map(l=>Fp(l,t)),o=new il(r);return new sp(e.path,o)}isEqual(e){return this===e}}class xM extends kp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Mc(e.It,Mw(e.It,this._a));return new sp(e.path,t)}isEqual(e){return this===e}}function wT(n,e,t,r){const o=n.fa(1,e,t);IT("Data must be an object, but it was:",o,r);const l=[],h=Bt.empty();Tc(r,(b,C)=>{const S=tI(e,b,t);C=(0,tn.m9)(C);const R=o.ua(S);if(C instanceof d0)l.push(S);else{const Z=Fp(C,R);null!=Z&&(l.push(S),h.set(S,Z))}});const m=new ss(l);return new I1(h,m,o.fieldTransforms)}function ET(n,e,t,r,o,l){const h=n.fa(1,e,t),m=[CT(e,r,t)],b=[o];if(l.length%2!=0)throw new xe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<l.length;Z+=2)m.push(CT(e,l[Z])),b.push(l[Z+1]);const C=[],S=Bt.empty();for(let Z=m.length-1;Z>=0;--Z)if(!x1(C,m[Z])){const Q=m[Z];let oe=b[Z];oe=(0,tn.m9)(oe);const Me=h.ua(Q);if(oe instanceof d0)C.push(Q);else{const Fe=Fp(oe,Me);null!=Fe&&(C.push(Q),S.set(Q,Fe))}}const R=new ss(C);return new I1(S,R,h.fieldTransforms)}function T1(n,e,t,r=!1){return Fp(t,n.fa(r?4:3,e))}function Fp(n,e){if(S1(n=(0,tn.m9)(n)))return IT("Unsupported field value:",e,n),A1(n,e);if(n instanceof kp)return function(t,r){if(!C1(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let m=Fp(h,r.ca(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,tn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mw(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Qt.fromDate(t);return{timestampValue:_h(r.It,o)}}if(t instanceof Qt){const o=new Qt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_h(r.It,o)}}if(t instanceof JE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dl)return{bytesValue:lv(r.It,t._byteString)};if(t instanceof Vn){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.aa(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${YE(t)}`)}(n,e)}function A1(n,e){const t={};return hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tc(n,(r,o)=>{const l=Fp(o,e.ia(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function S1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof JE||n instanceof dl||n instanceof Vn||n instanceof kp)}function IT(n,e,t){if(!S1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=YE(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function CT(n,e,t){if((e=(0,tn.m9)(e))instanceof qc)return e._internalPath;if("string"==typeof e)return tI(n,e);throw nI("Field path arguments must be of type string or ",n,!1,void 0,t)}const MM=new RegExp("[~\\*/\\[\\]]");function tI(n,e,t){if(e.search(MM)>=0)throw nI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qc(...e.split("."))._internalPath}catch{throw nI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nI(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new xe(ne.INVALID_ARGUMENT,m+n+b)}function x1(n,e){return n.some(t=>t.isEqual(e))}class h0{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RM extends h0{data(){return super.data()}}function rI(n,e){return"string"==typeof e?tI(n,e):e instanceof qc?e._internalPath:e._delegate._internalPath}class Lp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $c extends h0{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new f0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class f0 extends $c{data(e={}){return super.data(e)}}class xh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Lp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new f0(this._firestore,this._userDataWriter,r.key,r,new Lp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new f0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Lp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new f0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Lp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,C=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:PM(h.type),doc:m,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function M1(n,e){return n instanceof $c&&e instanceof $c?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xh&&e instanceof xh&&n._firestore===e._firestore&&v1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function R1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p0{}function Mh(n,...e){for(const t of e)n=t._apply(n);return n}class NM extends p0{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=Op(e.firestore),r=function(o,l,h,m,b,C,S){let R;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){L1(S,C);const Q=[];for(const oe of S)Q.push(F1(m,o,oe));R={arrayValue:{values:Q}}}else R=F1(m,o,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||L1(S,C),R=T1(h,"where",S,"in"===C||"not-in"===C);const Z=ir.create(b,C,R);return function(Q,oe){if(oe.dt()){const Fe=W_(Q);if(null!==Fe&&!Fe.isEqual(oe.field))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${oe.field.toString()}'`);const bt=Tm(Q);null!==bt&&U1(0,oe.field,bt)}const Me=function(Fe,bt){for(const Dt of Fe.filters)if(bt.indexOf(Dt.op)>=0)return Dt.op;return null}(Q,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(oe.op));if(null!==Me)throw new xe(ne.INVALID_ARGUMENT,Me===oe.op?`Invalid query. You cannot use more than one '${oe.op.toString()}' filter.`:`Invalid query. You cannot use '${oe.op.toString()}' filters with '${Me.toString()}' filters.`)}(o,Z),Z}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Zi(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new zo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class OM extends p0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Wo(o,l);return function(m,b){if(null===Tm(m)){const C=W_(m);null!==C&&U1(0,C,b.field)}}(r,h),h}(e._query,this.wa,this.ya);return new Zi(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new zo(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class P1 extends p0{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new Zi(e.firestore,e.converter,K_(e._query,this.pa,this.Ia))}}class N1 extends p0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=O1(e,this.type,this.Ta,this.Ea);return new Zi(e.firestore,e.converter,(o=t,new zo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class k1 extends p0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=O1(e,this.type,this.Ta,this.Ea);return new Zi(e.firestore,e.converter,(o=t,new zo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function O1(n,e,t,r){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof h0)return function(o,l,h,m,b){if(!m)throw new xe(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const S of rp(o))if(S.field.isKeyField())C.push(lh(l,m.key));else{const R=m.data.field(S.field);if(Em(R))throw new xe(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const Z=S.field.canonicalString();throw new xe(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}C.push(R)}return new Us(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Op(n.firestore);return function(l,h,m,b,C,S){const R=l.explicitOrderBy;if(C.length>R.length)throw new xe(ne.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let Q=0;Q<C.length;Q++){const oe=C[Q];if(R[Q].field.isKeyField()){if("string"!=typeof oe)throw new xe(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof oe}`);if(!z_(l)&&-1!==oe.indexOf("/"))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${oe}' contains a slash.`);const Me=l.path.child(Pt.fromString(oe));if(!qe.isDocumentKey(Me))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Fe=new qe(Me);Z.push(lh(h,Fe))}else{const Me=T1(m,b,oe);Z.push(Me)}}return new Us(Z,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function F1(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z_(e)&&-1!==t.indexOf("/"))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Pt.fromString(t));if(!qe.isDocumentKey(r))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lh(n,new qe(r))}if(t instanceof Vn)return lh(n,t._key);throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YE(t)}.`)}function L1(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function U1(n,e,t){if(!t.isEqual(e))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const qM={maxAttempts:5};class DT{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return Tc(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new JE(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const t=el(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Pt.fromString(e);It(hv(r));const o=new qa(r.get(1),r.get(3)),l=new qe(r.popFirst(5));return o.isEqual(t)||zn(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function iI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $M extends DT{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}class V1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Op(e)}set(e,t,r){this._verifyNotCommitted();const o=Rh(e,this._firestore),l=iI(o.converter,t,r),h=eI(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,An.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Rh(e,this._firestore);let h;return h="string"==typeof(t=(0,tn.m9)(t))||t instanceof qc?ET(this._dataReader,"WriteBatch.update",l._key,t,r,o):wT(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rh(e,this._firestore);return this._mutations=this._mutations.concat(new mh(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rh(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new xe(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Up extends DT{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function B1(n,e,t){n=Xt(n,Vn);const r=Xt(n.firestore,Qn),o=iI(n.converter,e,t);return py(r,[eI(Op(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,An.none())])}function Z1(n,e,t,...r){n=Xt(n,Vn);const o=Xt(n.firestore,Qn),l=Op(o);let h;return h="string"==typeof(e=(0,tn.m9)(e))||e instanceof qc?ET(l,"updateDoc",n._key,e,t,r):wT(l,"updateDoc",n._key,e),py(o,[h.toMutation(n._key,An.exists(!0))])}function j1(n,...e){var t,r,o;n=(0,tn.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||vT(e[h])||(l=e[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(vT(e[h])){const R=e[h];e[h]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[h+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[h+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let b,C,S;if(n instanceof Vn)C=Xt(n.firestore,Qn),S=xc(n._key.path),b={next:R=>{e[h]&&e[h](TT(C,n,R))},error:e[h+1],complete:e[h+2]};else{const R=Xt(n,Zi);C=Xt(R.firestore,Qn),S=R._query;const Z=new Up(C);b={next:Q=>{e[h]&&e[h](new xh(C,Z,R,Q))},error:e[h+1],complete:e[h+2]},R1(n._query)}return function(R,Z,Q,oe){const Me=new WE(oe),Fe=new e0(Z,Me,Q);return R.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Yv(yield fy(R),Fe)})),()=>{Me.Rc(),R.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Jv(yield fy(R),Fe)}))}}(Nr(C),S,m,b)}function py(n,e){return function(t,r){const o=new Mr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function XA(n,e,t){return jE.apply(this,arguments)}(yield mT(t),r,o)})),o.promise}(Nr(n),e)}function TT(n,e,t){const r=t.docs.get(e._key),o=new Up(n);return new $c(n,o,e._key,r,new Lp(t.hasPendingWrites,t.fromCache),e.converter)}class eR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Op(e)}get(e){const t=Rh(e,this._firestore),r=new $M(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Xe();const l=o[0];if(l.isFoundDocument())return new h0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new h0(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const o=Rh(e,this._firestore),l=iI(o.converter,t,r),h=eI(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Rh(e,this._firestore);let h;return h="string"==typeof(t=(0,tn.m9)(t))||t instanceof qc?ET(this._dataReader,"Transaction.update",l._key,t,r,o):wT(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rh(e,this._firestore),r=new Up(this._firestore);return super.get(e).then(o=>new $c(this._firestore,r,t._key,o._document,new Lp(!1,!1),t.converter))}}function AT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function $1(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function H1(){if(!function $C(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ic=oc.SDK_VERSION,(0,oc._registerComponent)(new Bd.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const l=t.getProvider("app").getImmediate(),h=new Qn(new sw(t.getProvider("auth-internal")),new VC(t.getProvider("app-check-internal")),function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(m.options.projectId,b)}(l,r),l);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),(0,oc.registerVersion)(pm,"3.5.0",n),(0,oc.registerVersion)(pm,"3.5.0","esm2017")}();class g0{constructor(e){this._delegate=e}static fromBase64String(e){return H1(),new g0(dl.fromBase64String(e))}static fromUint8Array(e){return $1(),new g0(dl.fromUint8Array(e))}toBase64(){return H1(),this._delegate.toBase64()}toUint8Array(){return $1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ST(n){return function lR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class cR{enableIndexedDbPersistence(e,t){return function mM(n,e){E1(n=Xt(n,Qn));const t=Nr(n),r=n._freezeSettings(),o=new cT;return w1(t,o,new r1(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function yM(n){E1(n=Xt(n,Qn));const e=Nr(n),t=n._freezeSettings(),r=new cT;return w1(e,r,new Jx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _M(n){if(n._initialized&&!n._terminated)throw new xe(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Fi.C())return Promise.resolve();const o=r+"main";yield Fi.delete(o)}),function(r){return t.apply(this,arguments)})(Hm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class G1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function dM(n,e,t,r={}){var o;const l=(n=Xt(n,c0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Qu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=_r.MOCK_USER;else{h=(0,tn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new xe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new _r(b)}n._authCredentials=new UC(new rw(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function bM(n){return function rM(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield a1(n),t=yield u1(n);return e.setNetworkEnabled(!0),function(r){const o=Ge(r);return o._u.delete(0),Ym(o)}(t)}))}(Nr(n=Xt(n,Qn)))}(this._delegate)}disableNetwork(){return function wM(n){return function iM(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield a1(n),t=yield u1(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const l=Ge(o);l._u.add(0),yield Ah(l),l.gu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Nr(n=Xt(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,h1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vM(n){return function(e){const t=new Mr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function u(n,e){return c.apply(this,arguments)}(yield mT(e),t)})),t.promise}(Nr(n=Xt(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function XM(n,e){return function aM(n,e){const t=new WE(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield fy(n),o=t,Ge(r).Ru.add(o),void o.next();var r,o})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield fy(n),o=t,void Ge(r).Ru.delete(o);var r,o}))}}(Nr(n=Xt(n,Qn)),vT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gy(this,y1(this._delegate,e))}catch(t){throw us(t,"collection()","Firestore.collection()")}}doc(e){try{return new ea(this,QE(this._delegate,e))}catch(t){throw us(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ls(this,function hM(n,e){if(n=Xt(n,c0),_T("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(n,null,(t=e,new zo(Pt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw us(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tR(n,e,t){n=Xt(n,Qn);const r=Object.assign(Object.assign({},qM),t);return function(o){if(o.maxAttempts<1)throw new xe(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function uM(n,e,t){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const o=yield(l=n,zE(l).then(h=>h.datastore));var l;new tM(n.asyncQueue,o,t,e,r).run()})),r.promise}(Nr(n),o=>e(new eR(n,o)),r)}(this._delegate,t=>e(new W1(this,t)))}batch(){return Nr(this._delegate),new z1(new V1(this._delegate,e=>py(this._delegate,e)))}loadBundle(e){return function EM(n,e){const t=Nr(n=Xt(n,Qn)),r=new pM;return function lM(n,e,t,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,C){if(b instanceof Uint8Array)return i1(b,C);if(b instanceof ArrayBuffer)return i1(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Xx(b,h);var b}(t,as(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function Qx(n,e,t){const r=Ge(n);var o;(o=(0,ye.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(Z,Q){const oe=Ge(Z),Me=Rr(Q.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Fe=>oe.Ns.getBundleMetadata(Fe,Q.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Me)>=0)}(l.localStore,b))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(Z=b).totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}),Promise.resolve(new Set);m._updateProgress(sT(b));const C=new n0(b,l.localStore,h.It);let S=yield h.wc();for(;S;){const Z=yield C.Ou(S);Z&&m._updateProgress(Z),S=yield h.wc()}const R=yield C.complete();return yield N(l,R.Bu,void 0),yield function(Z,Q){const oe=Ge(Z);return oe.persistence.runTransaction("Save bundle","readwrite",Me=>oe.Ns.saveBundleMetadata(Me,Q))}(l.localStore,b),m._completeWith(R.progress),Promise.resolve(R.$u)}catch(b){return Qu("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b),Promise.resolve(new Set)}var Z}),function(l,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield mT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IM(n,e){return function cM(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=Ge(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ns.getNamedQuery(l,r))}(yield KE(n),e)}))}(Nr(n=Xt(n,Qn)),e).then(t=>t?new Zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ls(this,t):null)}}class sI extends DT{constructor(e){super(),this.firestore=e}convertBytes(e){return new g0(new dl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ea.forKey(t,this.firestore,null)}}class W1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sI(e)}get(e){const t=Bp(e);return this._delegate.get(t).then(r=>new m0(this._firestore,new $c(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Bp(e);return r?(AT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Bp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}}class z1{constructor(e){this._delegate=e}set(e,t,r){const o=Bp(e);return r?(AT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Bp(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new f0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new y0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Vp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new Vp(e,new sI(e),t),o.set(t,l)),l}}Vp.INSTANCES=new WeakMap;class ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ea(t,new Vn(t._delegate,r,new qe(e)))}static forKey(e,t,r){return new ea(t,new Vn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gy(this.firestore,y1(this._delegate,e))}catch(t){throw us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof Vn&&_1(this._delegate,e)}set(e,t){t=AT("DocumentReference.set",t);try{return t?B1(this._delegate,e,t):B1(this._delegate,e)}catch(r){throw us(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Z1(this._delegate,e):Z1(this._delegate,e,t,...r)}catch(o){throw us(o,"updateDoc()","DocumentReference.update()")}}delete(){return function QM(n){return py(Xt(n.firestore,Qn),[new mh(n._key,An.none())])}(this._delegate)}onSnapshot(...e){const t=K1(e),r=Y1(e,o=>new m0(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return j1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function GM(n){n=Xt(n,Vn);const e=Xt(n.firestore,Qn),t=Nr(e),r=new Up(e);return function sM(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,l,h){try{const m=yield function(b,C){const S=Ge(b);return S.persistence.runTransaction("read document","readonly",R=>S.localDocuments.getDocument(R,C))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new xe(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=tu(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield KE(n),e,t);var r})),t.promise}(t,n._key).then(o=>new $c(e,r,n._key,o,new Lp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function WM(n){n=Xt(n,Vn);const e=Xt(n.firestore,Qn);return l1(Nr(e),n._key,{source:"server"}).then(t=>TT(e,n,t))}(this._delegate):function HM(n){n=Xt(n,Vn);const e=Xt(n.firestore,Qn);return l1(Nr(e),n._key).then(t=>TT(e,n,t))}(this._delegate),t.then(r=>new m0(this.firestore,new $c(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ea(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function us(n,e,t){return n.message=n.message.replace(e,t),n}function K1(n){for(const e of n)if("object"==typeof e&&!ST(e))return e;return{}}function Y1(n,e){var t,r;let o;return o=ST(n[0])?n[0]:ST(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class m0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return M1(this._delegate,e._delegate)}}class y0 extends m0{data(e){const t=this._delegate.data(e);return function nw(n,e){n||Xe()}(void 0!==t),t}}class ls{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sI(e)}where(e,t,r){try{return new ls(this.firestore,Mh(this._delegate,function kM(n,e,t){const r=e,o=rI("where",n);return new NM(o,r,t)}(e,t,r)))}catch(o){throw us(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ls(this.firestore,Mh(this._delegate,function FM(n,e="asc"){const t=e,r=rI("orderBy",n);return new OM(r,t)}(e,t)))}catch(r){throw us(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ls(this.firestore,Mh(this._delegate,function LM(n){return g1("limit",n),new P1("limit",n,"F")}(e)))}catch(t){throw us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ls(this.firestore,Mh(this._delegate,function UM(n){return g1("limitToLast",n),new P1("limitToLast",n,"L")}(e)))}catch(t){throw us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ls(this.firestore,Mh(this._delegate,function VM(...n){return new N1("startAt",n,!0)}(...e)))}catch(t){throw us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ls(this.firestore,Mh(this._delegate,function BM(...n){return new N1("startAfter",n,!1)}(...e)))}catch(t){throw us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ls(this.firestore,Mh(this._delegate,function ZM(...n){return new k1("endBefore",n,!1)}(...e)))}catch(t){throw us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ls(this.firestore,Mh(this._delegate,function jM(...n){return new k1("endAt",n,!0)}(...e)))}catch(t){throw us(t,"endAt()","Query.endAt()")}}isEqual(e){return v1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function KM(n){n=Xt(n,Zi);const e=Xt(n.firestore,Qn),t=Nr(e),r=new Up(e);return function oM(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,l,h){try{const m=yield wp(o,l,!0),b=new VE(l,m.Hi),C=b.ju(m.documents),S=b.applyChanges(C,!1);h.resolve(S.snapshot)}catch(m){const b=tu(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield KE(n),e,t);var r})),t.promise}(t,n._query).then(o=>new xh(e,r,n,o))}(this._delegate):"server"===e?.source?function YM(n){n=Xt(n,Zi);const e=Xt(n.firestore,Qn),t=Nr(e),r=new Up(e);return c1(t,n._query,{source:"server"}).then(o=>new xh(e,r,n,o))}(this._delegate):function zM(n){n=Xt(n,Zi);const e=Xt(n.firestore,Qn),t=Nr(e),r=new Up(e);return R1(n._query),c1(t,n._query).then(o=>new xh(e,r,n,o))}(this._delegate),t.then(r=>new xT(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=K1(e),r=Y1(e,o=>new xT(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return j1(this._delegate,t,r)}withConverter(e){return new ls(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class hR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new y0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ls(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new y0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new y0(this._firestore,r))})}isEqual(e){return M1(this._delegate,e._delegate)}}class gy extends ls{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ea(this.firestore,e):null}doc(e){try{return new ea(this.firestore,void 0===e?QE(this._delegate):QE(this._delegate,e))}catch(t){throw us(t,"doc()","CollectionReference.doc()")}}add(e){return function JM(n,e){const t=Xt(n.firestore,Qn),r=QE(n),o=iI(n.converter,e);return py(t,[eI(Op(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ea(this.firestore,t))}isEqual(e){return _1(this._delegate,e._delegate)}withConverter(e){return new gy(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Bp(n){return Xt(n,Vn)}class MT{constructor(...e){this._delegate=new qc(...e)}static documentId(){return new MT(nn.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof qc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function rR(){return new bT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Zp(e)}static delete(){const e=function nR(){return new d0("deleteField")}();return e._methodName="FieldValue.delete",new Zp(e)}static arrayUnion(...e){const t=function iR(...n){return new AM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Zp(t)}static arrayRemove(...e){const t=function sR(...n){return new SM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Zp(t)}static increment(e){const t=function oR(n){return new xM("increment",n)}(e);return t._methodName="FieldValue.increment",new Zp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fR={Firestore:G1,GeoPoint:JE,Timestamp:Qt,Blob:g0,Transaction:W1,WriteBatch:z1,DocumentReference:ea,DocumentSnapshot:m0,Query:ls,QueryDocumentSnapshot:y0,QuerySnapshot:xT,CollectionReference:gy,FieldPath:MT,FieldValue:Zp,setLogLevel:function dR(n){!function ew(n){Ba.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function gR(n){(function pR(n,e){n.INTERNAL.registerComponent(new Bd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},fR)))})(n,(e,t)=>new G1(e,t,new cR)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(gb.Z);var mR=O(6451),oI=O(5363),yR=O(6063);class _R extends Qr.x{constructor(e=1/0,t=1/0,r=yR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;t||(r.push(e),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!e.closed;h+=r?1:2)e.next(l[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=t.now();let m=0;for(let b=1;b<r.length&&r[b]<=h;b+=2)m=b;m&&r.splice(0,m+1)}}}var vR=O(3099);function Q1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,vR.B)({connector:()=>new _R(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function J1(n,e){return(0,No.m)(e)?Un(()=>n,e):Un(()=>n)}var RT=O(9468);O(5867);const eS=new Map,CR={activated:!1,tokenObservers:[]},DR={initialized:!1,enabled:!1};function si(n){return eS.get(n)||CR}function ru(n,e){eS.set(n,e)}function uI(){return DR}class MR{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new tn.BH,yield function RR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new tn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const cs=new tn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nS(n){if(!si(n).activated)throw cs.create("use-before-activation",{appName:n.name})}function OT(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,ye.Z)(function*({url:n,body:e},t){var r,o;const l={"Content-Type":"application/json"},h=t.getImmediate({optional:!0});if(h){const Q=yield h.getHeartbeatsHeader();Q&&(l["X-Firebase-Client"]=Q)}const m={method:"POST",body:JSON.stringify(e),headers:l};let b,C;try{b=yield fetch(n,m)}catch(Q){throw cs.create("fetch-network-error",{originalErrorMessage:null===(r=Q)||void 0===r?void 0:r.message})}if(200!==b.status)throw cs.create("fetch-status-error",{httpStatus:b.status});try{C=yield b.json()}catch(Q){throw cs.create("fetch-parse-error",{originalErrorMessage:null===(o=Q)||void 0===o?void 0:o.message})}const S=C.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const R=1e3*Number(S[1]),Z=Date.now();return{token:C.token,expireTimeMillis:Z+R,issuedAtTimeMillis:Z}}),FT.apply(this,arguments)}function OR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const _0="firebase-app-check-store";let dI=null;function iS(){return dI||(dI=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var l;e(cs.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(_0,{keyPath:"compositeKey"})}}catch(r){e(cs.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),dI)}function LT(){return LT=(0,ye.Z)(function*(n,e){const r=(yield iS()).transaction(_0,"readwrite"),l=r.objectStore(_0).put({compositeKey:n,value:e});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var C;m(cs.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})}),LT.apply(this,arguments)}const v0=new jo.Yd("@firebase/app-check");function uS(n,e){return(0,tn.hl)()?function VR(n,e){return function sS(n,e){return LT.apply(this,arguments)}(function aS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{v0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function lS(){return uI().enabled}function cS(){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,ye.Z)(function*(){const n=uI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ZT.apply(this,arguments)}const HR={error:"UNKNOWN_ERROR"};function GR(n){return tn.US.encodeString(JSON.stringify(n),!1)}function hI(n){return jT.apply(this,arguments)}function jT(){return jT=(0,ye.Z)(function*(n,e=!1){const t=n.app;nS(t);const r=si(t);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&fI(b)&&(o=b)}if(!e&&o&&fI(o))return{token:o.token};let m,h=!1;if(lS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=OT(OR(t,yield cS()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),h=!0);const b=yield r.exchangeTokenPromise;return yield uS(t,b),ru(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?v0.warn(b.message):v0.error(b),l=b}return o?(m={token:o.token},ru(t,Object.assign(Object.assign({},r),{token:o})),yield uS(t,o)):m=zR(l),h&&hS(t,m),m}),jT.apply(this,arguments)}function $T(n,e){const t=si(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ru(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function dS(n){const{app:e}=n,t=si(e);let r=t.tokenRefresher;r||(r=function WR(n){const{app:e}=n;return new MR((0,ye.Z)(function*(){let r;if(r=si(e).token?yield hI(n,!0):yield hI(n),r.error)throw r.error}),()=>!0,()=>{const t=si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ru(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hS(n,e){const t=si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function fI(n){return n.expireTimeMillis-Date.now()>0}function zR(n){return{token:GR(HR),error:n}}class KR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)$T(this.app,t.next);return Promise.resolve()}}const bS="app-check-internal";!function lP(){(0,oc._registerComponent)(new Bd.wA("app-check",n=>function YR(n,e){return new KR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bS).initialize()})),(0,oc._registerComponent)(new Bd.wA(bS,n=>function QR(n){return{getToken:e=>hI(n,e),addTokenListener:e=>function qT(n,e,t,r){const{app:o}=n,l=si(o),h={next:t,error:r,type:e};if(ru(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&fI(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),dS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>dS(n))}(n,"INTERNAL",e),removeTokenListener:e=>$T(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,oc.registerVersion)("@firebase/app-check","0.5.12")}();class zT{constructor(){return(0,Sr.vb)("app-check")}}typeof window<"u"&&window;var ES=O(127);const IS=new a.OlP("angularfire2.auth.use-emulator"),CS=new a.OlP("angularfire2.auth.settings"),DS=new a.OlP("angularfire2.auth.tenant-id"),TS=new a.OlP("angularfire2.auth.langugage-code"),AS=new a.OlP("angularfire2.auth.use-device-language"),SS=new a.OlP("angularfire.auth.persistence"),xS=(n,e,t,r,o,l,h,m)=>(0,Zo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[C,S]of Object.entries(h))b.settings[C]=S;return m&&b.setPersistence(m),b},[t,r,o,l,h,m]);let YT=(()=>{class n{constructor(t,r,o,l,h,m,b,C,S,R,Z,Q){const oe=new Qr.x,Me=nt(void 0).pipe((0,oI.Q)(h.outsideAngular),Un(()=>l.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2476)))),(0,rt.U)(()=>(0,Zo.on)(t,l,r)),(0,rt.U)(Fe=>xS(Fe,l,m,C,S,R,b,Z)),Q1({bufferSize:1,refCount:!1}));if(ar(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{Me.pipe(re()).subscribe();const bt=Me.pipe(Un(Mt=>Mt.getRedirectResult().then(Nt=>Nt,()=>null)),Sr.iC,Q1({bufferSize:1,refCount:!1})),Dt=Me.pipe(Un(Mt=>new Dr.y(Nt=>({unsubscribe:l.runOutsideAngular(()=>Mt.onAuthStateChanged(qt=>Nt.next(qt),qt=>Nt.error(qt),()=>Nt.complete()))})))),Ut=Me.pipe(Un(Mt=>new Dr.y(Nt=>({unsubscribe:l.runOutsideAngular(()=>Mt.onIdTokenChanged(qt=>Nt.next(qt),qt=>Nt.error(qt),()=>Nt.complete()))}))));this.authState=bt.pipe(J1(Dt),(0,RT.R)(h.outsideAngular),(0,oI.Q)(h.insideAngular)),this.user=bt.pipe(J1(Ut),(0,RT.R)(h.outsideAngular),(0,oI.Q)(h.insideAngular)),this.idToken=this.user.pipe(Un(Mt=>Mt?(0,on.D)(Mt.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(Un(Mt=>Mt?(0,on.D)(Mt.getIdTokenResult()):nt(null))),this.credential=(0,mR.T)(bt,oe,this.authState.pipe(I(Mt=>!Mt))).pipe((0,rt.U)(Mt=>Mt?.user?Mt:null),(0,RT.R)(h.outsideAngular),(0,oI.Q)(h.insideAngular))}return(0,Zo.pX)(this,Me,l,{spy:{apply:(Fe,bt,Dt)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&Dt.then(Ut=>oe.next(Ut))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Zo.Dh),a.LFG(Zo.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Sr.HU),a.LFG(IS,8),a.LFG(CS,8),a.LFG(DS,8),a.LFG(TS,8),a.LFG(AS,8),a.LFG(SS,8),a.LFG(zT,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gP=(()=>{class n{constructor(){ES.Z.registerVersion("angularfire",Sr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[YT]}),n})();function MS(n,e){return function mP(n,e=pb.z){return new Dr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function QT(n,e){return MS(n,e).pipe((0,rt.U)(t=>({payload:t,type:"query"})))}function gI(n,e){return QT(n,e).pipe(Lu(void 0),Fg(),(0,rt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(S=>S.doc.ref.isEqual(h.ref)),C=t?.payload.docs.find(S=>S.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function RS(n,e,t){return gI(n,t).pipe(wt((r,o)=>function _P(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function vP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return JT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return JT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return JT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),function oC(n,e=Ds.y){return n=n??aC,(0,pr.e)((t,r)=>{let o,l=!0;t.subscribe((0,Hn.x)(r,h=>{const m=e(h);(l||!n(o,m))&&(l=!1,o=m,r.next(h))}))})}(),(0,rt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function JT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function PS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class NS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=gI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Lu(void 0),Fg(),I(([r,o])=>o.length>0||!r),(0,rt.U)(([r,o])=>o),Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(wt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=PS(e);return RS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return QT(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sr.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Sr.iC)}add(e){return this.ref.add(e)}doc(e){return new kS(this.ref.doc(e),this.afs)}}class kS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=LS(r,t);return new NS(o,l,this.afs)}snapshotChanges(){return function yP(n,e){return MS(n,e).pipe(Lu(void 0),Fg(),(0,rt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(Sr.iC)}}class bP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?gI(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),I(t=>t.length>0),Sr.iC):gI(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(wt((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=PS(e);return RS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return QT(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Sr.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Sr.iC)}}const OS=new a.OlP("angularfire2.enableFirestorePersistence"),FS=new a.OlP("angularfire2.firestore.persistenceSettings"),wP=new a.OlP("angularfire2.firestore.settings"),EP=new a.OlP("angularfire2.firestore.use-emulator");function LS(n,e=(t=>t)){return{query:e(n),ref:n}}let US=(()=>{class n{constructor(t,r,o,l,h,m,b,C,S,R,Z,Q,oe,Me,Fe,bt,Dt){this.schedulers=b;const Ut=(0,Zo.on)(t,m,r),Mt=S;R&&xS(Ut,m,Z,oe,Me,Fe,Q,bt),[this.firestore,this.persistenceEnabled$]=(0,Zo.cc)(`${Ut.name}.firestore`,"AngularFirestore",Ut.name,()=>{const Nt=m.runOutsideAngular(()=>Ut.firestore());if(l&&Nt.settings(l),Mt&&Nt.useEmulator(...Mt),o&&!ar(h)){const qt=()=>{try{return(0,on.D)(Nt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Hr){return typeof console<"u"&&console.warn(Hr),nt(!1)}};return[Nt,m.runOutsideAngular(qt)]}return[Nt,nt(!1)]},[l,Mt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=LS(o,r),m=this.schedulers.ngZone.run(()=>l);return new NS(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new bP(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new kS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Zo.Dh),a.LFG(Zo.xv,8),a.LFG(OS,8),a.LFG(wP,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Sr.HU),a.LFG(FS,8),a.LFG(EP,8),a.LFG(YT,8),a.LFG(IS,8),a.LFG(CS,8),a.LFG(DS,8),a.LFG(TS,8),a.LFG(AS,8),a.LFG(SS,8),a.LFG(zT,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IP=(()=>{class n{constructor(){ES.Z.registerVersion("angularfire",Sr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:OS,useValue:!0},{provide:FS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[US]}),n})(),XT=(()=>{class n{constructor(t){this.angularFirestore=t}getPosts(){return this.angularFirestore.collection("Coches").snapshotChanges()}getPostById(t){return this.angularFirestore.collection("Coches").doc(t).valueChanges()}createPost(t){return new Promise((r,o)=>{this.angularFirestore.collection("Coches").add(t).then(l=>{console.log(l)},l=>{o(l)})})}updatePost(t,r){return this.angularFirestore.collection("Coches").doc(r).update({imagen:t.imagen,marca:t.marca,modelo:t.modelo,motor:t.motor,anyo:t.anyo,categoria:t.categoria})}deletePost(t){return this.angularFirestore.collection("Coches").doc(t.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(US))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",12),a.NdJ("keyup.enter",function(){a.CHM(t),a.oxw(3);const o=a.MAs(1);return a.KtG(o.previous())})("click",function(){a.CHM(t),a.oxw(3);const o=a.MAs(1);return a.KtG(o.previous())}),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()}if(2&n){const t=a.oxw(3);a.xp6(1),a.hij(" ",t.previousLabel," "),a.xp6(2),a.Oqu(t.screenReaderPageLabel)}}function DP(n,e){if(1&n&&(a.TgZ(0,"span",14),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(1),a.hij(" ",t.previousLabel," "),a.xp6(2),a.Oqu(t.screenReaderPageLabel)}}function TP(n,e){if(1&n&&(a.TgZ(0,"li",9),a.YNc(1,CP,4,2,"a",10),a.YNc(2,DP,4,2,"span",11),a.qZA()),2&n){a.oxw(2);const t=a.MAs(1);a.ekj("disabled",t.isFirstPage()),a.xp6(1),a.Q6J("ngIf",1<t.getCurrent()),a.xp6(1),a.Q6J("ngIf",t.isFirstPage())}}function AP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",12),a.NdJ("keyup.enter",function(){a.CHM(t);const o=a.oxw().$implicit;a.oxw(2);const l=a.MAs(1);return a.KtG(l.setCurrent(o.value))})("click",function(){a.CHM(t);const o=a.oxw().$implicit;a.oxw(2);const l=a.MAs(1);return a.KtG(l.setCurrent(o.value))}),a.TgZ(1,"span",13),a._uU(2),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.ALo(5,"number"),a.qZA()()}if(2&n){const t=a.oxw().$implicit,r=a.oxw(2);a.xp6(2),a.hij("",r.screenReaderPageLabel," "),a.xp6(2),a.Oqu("..."===t.label?t.label:a.xi3(5,2,t.label,""))}}function SP(n,e){if(1&n&&(a.ynx(0),a.TgZ(1,"span",16)(2,"span",13),a._uU(3),a.qZA(),a.TgZ(4,"span"),a._uU(5),a.ALo(6,"number"),a.qZA()(),a.BQk()),2&n){const t=a.oxw().$implicit,r=a.oxw(2);a.xp6(3),a.hij("",r.screenReaderCurrentLabel," "),a.xp6(2),a.Oqu("..."===t.label?t.label:a.xi3(6,2,t.label,""))}}function xP(n,e){if(1&n&&(a.TgZ(0,"li"),a.YNc(1,AP,6,5,"a",10),a.YNc(2,SP,7,5,"ng-container",15),a.qZA()),2&n){const t=e.$implicit;a.oxw(2);const r=a.MAs(1);a.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),a.xp6(1),a.Q6J("ngIf",r.getCurrent()!==t.value),a.xp6(1),a.Q6J("ngIf",r.getCurrent()===t.value)}}function MP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",12),a.NdJ("keyup.enter",function(){a.CHM(t),a.oxw(3);const o=a.MAs(1);return a.KtG(o.next())})("click",function(){a.CHM(t),a.oxw(3);const o=a.MAs(1);return a.KtG(o.next())}),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()}if(2&n){const t=a.oxw(3);a.xp6(1),a.hij(" ",t.nextLabel," "),a.xp6(2),a.Oqu(t.screenReaderPageLabel)}}function RP(n,e){if(1&n&&(a.TgZ(0,"span",14),a._uU(1),a.TgZ(2,"span",13),a._uU(3),a.qZA()()),2&n){const t=a.oxw(3);a.xp6(1),a.hij(" ",t.nextLabel," "),a.xp6(2),a.Oqu(t.screenReaderPageLabel)}}function PP(n,e){if(1&n&&(a.TgZ(0,"li",17),a.YNc(1,MP,4,2,"a",10),a.YNc(2,RP,4,2,"span",11),a.qZA()),2&n){a.oxw(2);const t=a.MAs(1);a.ekj("disabled",t.isLastPage()),a.xp6(1),a.Q6J("ngIf",!t.isLastPage()),a.xp6(1),a.Q6J("ngIf",t.isLastPage())}}function NP(n,e){if(1&n&&(a.TgZ(0,"ul",4),a.YNc(1,TP,3,4,"li",5),a.TgZ(2,"li",6),a._uU(3),a.qZA(),a.YNc(4,xP,3,6,"li",7),a.YNc(5,PP,3,4,"li",8),a.qZA()),2&n){const t=a.oxw(),r=a.MAs(1);a.ekj("responsive",t.responsive),a.xp6(1),a.Q6J("ngIf",t.directionLinks),a.xp6(2),a.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),a.xp6(1),a.Q6J("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),a.xp6(1),a.Q6J("ngIf",t.directionLinks)}}class eA{constructor(){this.change=new a.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}}const kP=Number.MAX_SAFE_INTEGER;let OP=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,r){if(!(t instanceof Array)){let R=r.id||this.service.defaultId();return this.state[R]?this.state[R].slice:t}let m,b,o=r.totalItems&&r.totalItems!==t.length,l=this.createInstance(t,r),h=l.id,C=l.itemsPerPage,S=this.service.register(l);if(!o&&t instanceof Array){if(C=+C||kP,m=(l.currentPage-1)*C,b=m+C,this.stateIsIdentical(h,t,m,b))return this.state[h].slice;{let Z=t.slice(m,b);return this.saveState(h,t,Z,m,b),this.service.change.emit(h),Z}}return S&&this.service.change.emit(h),this.saveState(h,t,t,m,b),t}createInstance(t,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||t.length}}checkConfig(t){const o=["itemsPerPage","currentPage"].filter(l=>!(l in t));if(0<o.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${o.join(", ")}`)}saveState(t,r,o,l,h){this.state[t]={collection:r,size:r.length,slice:o,start:l,end:h}}stateIsIdentical(t,r,o,l){let h=this.state[t];return!(!h||h.size!==r.length||h.start!==o||h.end!==l)&&h.slice.every((b,C)=>b===r[o+C])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eA,16))},n.\u0275pipe=a.Yjl({name:"paginate",type:n,pure:!1}),n})(),FP=(()=>{class n{constructor(t,r){this.service=t,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new a.vpe,this.pageBoundsCorrection=new a.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(o=>{this.id===o&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const r=Math.ceil(t.totalItems/t.itemsPerPage);return r<t.currentPage&&0<r?r:t.currentPage<1?1:t.currentPage}createPageArray(t,r,o,l){l=+l;let h=[];const m=Math.max(Math.ceil(o/r),1),b=Math.ceil(l/2),C=t<=b,S=m-b<t,R=!C&&!S;let Z=l<m,Q=1;for(;Q<=m&&Q<=l;){let oe,Me=this.calculatePageNumber(Q,t,l,m),Fe=2===Q&&(R||S),bt=Q===l-1&&(R||C);oe=Z&&(Fe||bt)?"...":Me,h.push({label:oe,value:Me}),Q++}return h}calculatePageNumber(t,r,o,l){let h=Math.ceil(o/2);return t===o?l:1===t?t:o<l?l-h<r?l-o+t:h<r?r-h+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eA),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[a.TTD]}),n})();function tA(n){return!!n&&"false"!==n}let LP=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new a.vpe,this.pageBoundsCorrection=new a.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=tA(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=tA(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=tA(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(a.TgZ(0,"pagination-template",0,1),a.NdJ("pageChange",function(l){return r.pageChange.emit(l)})("pageBoundsCorrection",function(l){return r.pageBoundsCorrection.emit(l)}),a.TgZ(2,"nav",2),a.YNc(3,NP,6,8,"ul",3),a.qZA()()),2&t){const o=a.MAs(1);a.Q6J("id",r.id)("maxSize",r.maxSize),a.xp6(2),a.uIk("aria-label",r.screenReaderPaginationLabel),a.xp6(1),a.Q6J("ngIf",!(r.autoHide&&o.pages.length<=1))}},dependencies:[FP,er,Hi,Ii],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[eA],imports:[[go]]}),n})(),Ph=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-footer"]],decls:19,vars:0,consts:[[1,"container-fluid"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3","my-4","border-top"],[1,"col-md-4","mb-0",2,"color","#ea1538"],["href","/",1,"col-md-4","d-flex","align-items-center","justify-content-center","mb-3","mb-md-0","me-md-auto","link-dark","text-decoration-none"],["src","",2,"width","200px","padding","10px"],[1,"nav","col-md-4","justify-content-end"],[1,"nav-item"],["routerLink","/home",1,"nav-link","px-2",2,"color","#ea1538"],["routerLink","/create",1,"nav-link","px-2",2,"color","#ea1538"],["routerLink","/concesionario",1,"nav-link","px-2",2,"color","#ea1538"],["routerLink","/RuXx",1,"nav-link","px-2",2,"color","#ea1538"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"footer",1)(2,"p",2),a._uU(3,"\xa9 2022 RuXxDeSiGn.Site"),a.qZA(),a.TgZ(4,"a",3),a._UZ(5,"img",4),a.qZA(),a.TgZ(6,"ul",5)(7,"li",6)(8,"a",7),a._uU(9,"Home"),a.qZA()(),a.TgZ(10,"li",6)(11,"a",8),a._uU(12,"Garage"),a.qZA()(),a.TgZ(13,"li",6)(14,"a",9),a._uU(15,"Concesionario"),a.qZA()(),a.TgZ(16,"li",6)(17,"a",10),a._uU(18,"Quien Soy"),a.qZA()()()()())},dependencies:[Vd],styles:[".container-fluid[_ngcontent-%COMP%]{background:#232526;background:linear-gradient(to right,#414345,#232526)}"]}),n})();function VP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr",6)(1,"td",6),a._uU(2),a.qZA(),a.TgZ(3,"td",6),a._uU(4),a.qZA(),a.TgZ(5,"td",6),a._uU(6),a.qZA(),a.TgZ(7,"td",6),a._uU(8),a.qZA(),a.TgZ(9,"td",6),a._uU(10),a.qZA(),a.TgZ(11,"td")(12,"button",50),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.deleteCar)}),a._UZ(13,"i",51),a.qZA()()()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.anyo),a.xp6(2),a.Oqu(t.marca),a.xp6(2),a.Oqu(t.modelo),a.xp6(2),a.Oqu(t.motor),a.xp6(2),a.Oqu(t.categoria)}}const BP=function(n){return{itemsPerPage:10,currentPage:n}};let ZP=(()=>{class n{constructor(t){this.postService=t,this.deleteCar=r=>this.postService.deletePost(r)}ngOnInit(){this.postService.getPosts().subscribe(t=>{this.Coches=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(XT))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home"]],decls:119,vars:6,consts:[["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["cz-shortcut-listen","true","sytle","width:100%; height:100%;"],[1,"container-fluid","mt-5",2,"padding","0"],["width","100%","height","100%","src","/assets/WikiKar (1).jpg","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false"],[1,"container"],[2,"margin-top","100px","text-align","center"],[2,"color","aliceblue"],[1,"linea2"],[1,"row","featurette","mt-4",2,"margin-bottom","150px"],[1,"col-md-7",2,"text-align","center","margin-top","150px"],[1,"featurette-heading","fw-normal","lh-2"],[2,"color","red"],[2,"color","rgb(136, 139, 139)"],[1,"lead"],[1,"col-md-5",2,"margin-top","50px"],["width","500","height","500","src","https://www.raspberrypi.com/app/uploads/2018/12/2017_2018_EMC_Sec_heure-de-code_Tom-A.jpg","role","img","aria-label","Placeholder: 500x500","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","bd-placeholder-img-lg","featurette-image","img-fluid","mx-auto"],[1,"linea3"],[1,"table-responsive","mt-5"],[1,"table","table-striped","table-sm"],["scope","col",2,"color","aliceblue"],["style","color:aliceblue",4,"ngFor","ngForOf"],["previousLabel","Previous","nextLabel","Next",2,"color","aliceblue",3,"pageChange"],[1,"d-flex","justify-content-center"],["routerLink","/create","sstyle","background-color: #25AEB6;",1,"btn","btn-secondary","btn-lg"],[1,"container-galery"],[1,"linea"],[1,"image-container"],[1,"image"],[2,"text-align","center","color","rgb(238, 241, 241)"],["src","https://noticias.coches.com/wp-content/uploads/2021/09/Ferrari-F40-Valeo-3.jpeg","alt",""],["src","https://wallpapercrafter.com/desktop/162433-car-vehicle-Toyota-Toyota-Supra-Khyzyl-Saleem-colored-wheels.jpg","alt",""],["src","https://www.tuningblog.eu/wp-content/uploads/2018/12/Work-Meister-S1-Airride-Skyline-Nissan-GT-R-Tuning-2.jpg","alt",""],["src","https://media.revistagq.com/photos/5e398a687c484c00080a225e/4:3/w_1039,h_779,c_limit/https___hypebeast.com_image_2020_01_2015-lamborghini-veneno-roadster-rm-sothebys-auction-info-01.jpg","alt",""],["src","https://www.diariomotor.com/imagenes/2022/06/bmw-m3-csl-v8-0622-06-62a7341089f81.jpg","alt",""],["src","https://www.km77.com/images/medium/2/2/6/5/porsche-911-gt3-rs-2022-lateral-frontal.362265.jpg","alt",""],["src","https://wallpaperaccess.com/full/155140.jpg","alt",""],["src","https://www.wallpaperup.com/uploads/wallpapers/2015/08/01/768700/d2769c67f043e04e257a9498e95c0849-700.jpg","alt",""],["src","https://www.tuningblog.eu/wp-content/uploads/2021/09/BiTurbo-Lamborghini-Aventador-SVJ-Underground-Performance-Tuning-12.jpg","alt",""],["src","https://i.pinimg.com/originals/02/47/df/0247df7aba5d48dea03f729b70cd3b6e.jpg","alt",""],["src","https://robbreport.com/wp-content/uploads/2022/03/2-4.jpg?w=1000","alt",""],["src","https://i.pinimg.com/originals/61/4a/10/614a107b35fb83988d2e1533bbb99023.jpg","alt",""],[1,"py-5"],[1,"row","align-items-center"],[1,"col-md-3","col-sm-6","my-3"],["href","#!"],["src","https://seeklogo.com/images/F/ferrari-logo-7935CF173C-seeklogo.com.png","alt","...","aria-label","Microsoft Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","100px"],["src","/assets/bmw-1596080_1920.png","alt","...","aria-label","Google Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","100px"],["src","https://cdn.worldvectorlogo.com/logos/lamborghini-logo-1.svg","alt","...","aria-label","Facebook Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","200px"],["src","https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/2cdd71aa-95d3-40ab-ae3b-d904eed9f559/d2f4rpg-d77974ef-82d1-47b8-95ec-8174c070332a.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzJjZGQ3MWFhLTk1ZDMtNDBhYi1hZTNiLWQ5MDRlZWQ5ZjU1OVwvZDJmNHJwZy1kNzc5NzRlZi04MmQxLTQ3YjgtOTVlYy04MTc0YzA3MDMzMmEucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.zbm4MnjTBvkFp3953B31gOntX8L1rnhMz7VpDjm_7TM","alt","...","aria-label","IBM Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","200px"],[2,"position","static !important"],[3,"click"],[1,"fa-solid","fa-bug",2,"color","#25AEB6"]],template:function(t,r){1&t&&(a.TgZ(0,"head"),a._UZ(1,"meta",0),a.qZA(),a.TgZ(2,"body",1)(3,"main")(4,"div",2),a._UZ(5,"div")(6,"img",3),a.qZA(),a.TgZ(7,"div",4)(8,"div",5)(9,"h1",6),a._uU(10,"Wiki Car"),a.qZA()(),a._UZ(11,"div",7),a.TgZ(12,"div",8)(13,"div",9)(14,"h2",10)(15,"span",11),a._uU(16,"Hi, Im Antonio DelaRua "),a.qZA(),a.TgZ(17,"span",12),a._uU(18,"Front Developer"),a.qZA()(),a.TgZ(19,"p",13),a._uU(20,"Wikikar es parte de mi entrenamiento, para avanzar en mis conocimientos "),a.qZA()(),a.TgZ(21,"div",14),a._UZ(22,"img",15),a.qZA()(),a._UZ(23,"div",16),a.TgZ(24,"div",17)(25,"table",18)(26,"thead")(27,"tr")(28,"th",19),a._uU(29,"A\xf1o"),a.qZA(),a.TgZ(30,"th",19),a._uU(31,"Marca"),a.qZA(),a.TgZ(32,"th",19),a._uU(33,"Modelo"),a.qZA(),a.TgZ(34,"th",19),a._uU(35,"Motor"),a.qZA(),a.TgZ(36,"th",19),a._uU(37,"Categoria"),a.qZA(),a._UZ(38,"th",19),a.qZA()(),a.TgZ(39,"tbody",6),a.YNc(40,VP,14,5,"tr",20),a.ALo(41,"paginate"),a.qZA(),a._UZ(42,"br")(43,"br"),a.TgZ(44,"pagination-controls",21),a.NdJ("pageChange",function(l){return r.page=l}),a.qZA()(),a.TgZ(45,"div",22)(46,"button",23),a._uU(47,"Crear Coche"),a.qZA()()()(),a.TgZ(48,"div",24)(49,"h1",6),a._uU(50,"Coches Favoritos"),a.qZA(),a._UZ(51,"div",25),a.TgZ(52,"div",26)(53,"div",27)(54,"h3",28),a._uU(55,"Ferrari F40"),a.qZA(),a._UZ(56,"img",29),a.qZA(),a.TgZ(57,"div",27)(58,"h3",28),a._uU(59,"Toyota Supra"),a.qZA(),a._UZ(60,"img",30),a.qZA(),a.TgZ(61,"div",27)(62,"h3",28),a._uU(63,"Nissan Skyline R34 GTR"),a.qZA(),a._UZ(64,"img",31),a.qZA(),a.TgZ(65,"div",27)(66,"h3",28),a._uU(67,"Lamborghini Veneno"),a.qZA(),a._UZ(68,"img",32),a.qZA(),a.TgZ(69,"div",27)(70,"h3",28),a._uU(71,"BMW M3 cls e46"),a.qZA(),a._UZ(72,"img",33),a.qZA(),a.TgZ(73,"div",27)(74,"h3",28),a._uU(75,"Porsche GT3 RS"),a.qZA(),a._UZ(76,"img",34),a.qZA(),a.TgZ(77,"div",27)(78,"h3",28),a._uU(79,"Mclaren P1"),a.qZA(),a._UZ(80,"img",35),a.qZA(),a.TgZ(81,"div",27)(82,"h3",28),a._uU(83,"ferrari 458 Liberty walk"),a.qZA(),a._UZ(84,"img",36),a.qZA(),a.TgZ(85,"div",27)(86,"h3",28),a._uU(87,"Lamborghini Aventador sv"),a.qZA(),a._UZ(88,"img",37),a.qZA(),a.TgZ(89,"div",27)(90,"h3",28),a._uU(91,"Lancer Evolution IX"),a.qZA(),a._UZ(92,"img",38),a.qZA(),a.TgZ(93,"div",27)(94,"h3",28),a._uU(95,"Mercedes GTR Amg"),a.qZA(),a._UZ(96,"img",39),a.qZA(),a.TgZ(97,"div",27)(98,"h3",28),a._uU(99,"Posche Carrera Gt"),a.qZA(),a._UZ(100,"img",40),a.qZA()()()(),a.TgZ(101,"div",41)(102,"div",4)(103,"div",42)(104,"div",43)(105,"a",44),a._UZ(106,"img",45),a.qZA()(),a.TgZ(107,"div",43)(108,"a",44),a._UZ(109,"img",46),a.qZA()(),a.TgZ(110,"div",43)(111,"a",44),a._UZ(112,"img",47),a.qZA()(),a.TgZ(113,"div",43)(114,"a",44),a._UZ(115,"img",48),a.qZA()()()()(),a._UZ(116,"div",49),a.TgZ(117,"div"),a._UZ(118,"app-footer"),a.qZA()()),2&t&&(a.xp6(40),a.Q6J("ngForOf",a.xi3(41,1,r.Coches,a.VKq(4,BP,r.page))))},dependencies:[Hi,rc,LP,Ph,OP],styles:[".linea[_ngcontent-%COMP%], .linea2[_ngcontent-%COMP%], .linea3[_ngcontent-%COMP%]{border-top:5px solid #d8e0e0;margin:50px}.container-galery[_ngcontent-%COMP%]{padding-top:100px}.container-galery[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{margin:10px 10px 5px;width:30%;position:relative;height:180px;box-shadow:0 0 3px #000000bf}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3)}.container-galery[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px;font-family:Verdana,Geneva,Tahoma,sans-serif;font-weight:400;padding:15px;color:#333;text-align:center;text-transform:capitalize}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;padding:20px}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:350px;width:450px;border:2 px solid aqua;box-shadow:0 5px 15px #000;overflow:hidden;cursor:pointer;border-radius:8px}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;transition:.5s linear}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;background:rgba(214,218,4,.329);width:100%;height:0;overflow:hidden;transition:.5s ease}.overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:30px;position:absolute;top:50%;left:50%;text-align:center;transform:translate(-50%,-50%)}.imagen[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{height:100%;cursor:pointer}@media screen and (max-width:1000px){.container-galery[_ngcontent-%COMP%]{width:95%}}@media screen and (max-width:700px){.container-galery[_ngcontent-%COMP%]{width:90%}.container-galery[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{width:48%}}@media screen and (max-width:450px){h1[_ngcontent-%COMP%]{font-size:22px}.container-galery[_ngcontent-%COMP%]{width:98%}.container-galery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:80%}}@media (max-width:768px){.container-galery[_ngcontent-%COMP%]   .popup-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95%}}"]}),n})(),VS=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),jp=(()=>{class n extends VS{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const hl=new a.OlP("NgValueAccessor"),$P={provide:hl,useExisting:(0,a.Gpc)(()=>mI),multi:!0},GP=new a.OlP("CompositionEventMode");let mI=(()=>{class n extends VS{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function HP(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(GP,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([$P]),a.qOj]}),n})();const ji=new a.OlP("NgValidators"),kh=new a.OlP("NgAsyncValidators");function YS(n){return null!=n}function QS(n){return(0,a.QGY)(n)?(0,on.D)(n):n}function JS(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function XS(n,e){return e.map(t=>t(n))}function ex(n){return n.map(e=>function KP(n){return!n.validate}(e)?e:t=>e.validate(t))}function nA(n){return null!=n?function tx(n){if(!n)return null;const e=n.filter(YS);return 0==e.length?null:function(t){return JS(XS(t,e))}}(ex(n)):null}function rA(n){return null!=n?function nx(n){if(!n)return null;const e=n.filter(YS);return 0==e.length?null:function(t){return function jP(...n){const e=(0,fi.jO)(n),{args:t,keys:r}=Ea(n),o=new Dr.y(l=>{const{length:h}=t;if(!h)return void l.complete();const m=new Array(h);let b=h,C=h;for(let S=0;S<h;S++){let R=!1;(0,Ss.Xf)(t[S]).subscribe((0,Hn.x)(l,Z=>{R||(R=!0,C--),m[S]=Z},()=>b--,void 0,()=>{(!b||!R)&&(C||l.next(r?Ro(r,m):m),l.complete())}))}});return e?o.pipe(Ca(e)):o}(XS(t,e).map(QS)).pipe((0,rt.U)(JS))}}(ex(n)):null}function rx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ix(n){return n._rawValidators}function sx(n){return n._rawAsyncValidators}function iA(n){return n?Array.isArray(n)?n:[n]:[]}function _I(n,e){return Array.isArray(n)?n.includes(e):n===e}function ox(n,e){const t=iA(e);return iA(n).forEach(o=>{_I(t,o)||t.push(o)}),t}function ax(n,e){return iA(e).filter(t=>!_I(n,t))}class ux{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ds extends ux{get formDirective(){return null}get path(){return null}}class Oh extends ux{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lx{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cx=(()=>{class n extends lx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Oh,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),dx=(()=>{class n extends lx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ds,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();const b0="VALID",bI="INVALID",my="PENDING",w0="DISABLED";function uA(n){return(wI(n)?n.validators:n)||null}function fx(n){return Array.isArray(n)?nA(n):n||null}function lA(n,e){return(wI(e)?e.asyncValidators:n)||null}function px(n){return Array.isArray(n)?rA(n):n||null}function wI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function gx(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[t])throw new a.vHH(1001,"")}function mx(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new a.vHH(1002,"")})}class EI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fx(this._rawValidators),this._composedAsyncValidatorFn=px(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===b0}get invalid(){return this.status===bI}get pending(){return this.status==my}get disabled(){return this.status===w0}get enabled(){return this.status!==w0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fx(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=px(e)}addValidators(e){this.setValidators(ox(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ox(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ax(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ax(e,this._rawAsyncValidators))}hasValidator(e){return _I(this._rawValidators,e)}hasAsyncValidator(e){return _I(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=my,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=w0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=b0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b0||this.status===my)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?w0:b0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=my,this._hasOwnPendingAsyncValidator=!0;const t=QS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?w0:this.errors?bI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(my)?my:this._anyControlsHaveStatus(bI)?bI:b0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class E0 extends EI{constructor(e,t,r){super(uA(t),lA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mx(this,0,e),Object.keys(e).forEach(r=>{gx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class yx extends E0{}function I0(n,e){cA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function rN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_x(n,e)})}(n,e),function sN(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_x(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function CI(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),TI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function DI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cA(n,e){const t=ix(n);null!==e.validator?n.setValidators(rx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=sx(n);null!==e.asyncValidator?n.setAsyncValidators(rx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();DI(e._rawValidators,o),DI(e._rawAsyncValidators,o)}function TI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=ix(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.validator);l.length!==o.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const o=sx(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==e.asyncValidator);l.length!==o.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return DI(e._rawValidators,r),DI(e._rawAsyncValidators,r),t}function _x(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ex(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ix(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const D0=class extends EI{constructor(e=null,t,r){super(uA(t),lA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ix(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ex(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ex(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ix(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Mx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const pA=new a.OlP("NgModelWithFormControlWarning"),vN={provide:ds,useExisting:(0,a.Gpc)(()=>AI)};let AI=(()=>{class n extends ds{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(TI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return I0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){CI(t.control||null,t,!1),function lN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function wx(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(CI(r||null,t),(n=>n instanceof D0)(o)&&(I0(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function vx(n,e){cA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function oN(n,e){return TI(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cA(this.form,this),this._oldForm&&TI(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ji,10),a.Y36(kh,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([vN]),a.qOj,a.TTD]}),n})();const EN={provide:Oh,useExisting:(0,a.Gpc)(()=>yA)};let yA=(()=>{class n extends Oh{constructor(t,r,o,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function hA(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===mI?t=l:function uN(n){return Object.getPrototypeOf(n.constructor)===jp}(l)?r=l:o=l}),o||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function dA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function II(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(ds,13),a.Y36(ji,10),a.Y36(kh,10),a.Y36(hl,10),a.Y36(pA,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([EN]),a.qOj,a.TTD]}),n})(),Gx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Mx]}),n})(),LN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Gx]}),n})(),Wx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Gx]}),n})();class zx extends EI{constructor(e,t,r){super(uA(t),lA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){mx(this,0,e),e.forEach((r,o)=>{gx(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Kx(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let UN=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let l={};return Kx(r)?l=r:null!==r&&(l.validators=r.validator,l.asyncValidators=r.asyncValidator),new E0(o,l)}record(t,r=null){const o=this._reduceControls(t);return new yx(o,r)}control(t,r,o){let l={};return this.useNonNullable?(Kx(r)?l=r:(l.validators=r,l.asyncValidators=o),new D0(t,{...l,nonNullable:!0})):new D0(t,r,o)}array(t,r,o){const l=t.map(h=>this._createControl(h));return new zx(l,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof D0||t instanceof EI?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:Wx}),n})(),VN=(()=>{class n{constructor(t,r,o){this.postService=t,this.formBuilder=r,this.router=o,this.cocheForm=r.group({imagen:[""],marca:[""],modelo:[""],motor:[""],anyo:[""],categoria:[""]})}ngOnInit(){}onSubmit(){this.postService.createPost(this.cocheForm.value),this.router.navigate(["/home"])}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(XT),a.Y36(UN),a.Y36(gr))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-create-car"]],decls:130,vars:1,consts:[[1,"wrapper",2,"height","100%","background-image","url('https://fotografias.lasexta.com/clipping/cmsimages01/2020/05/15/5818DFDC-51C2-48FE-BB24-3614F6DAF93E/98.jpg?crop=947,533,x167,y0&width=1900&height=1069&optimize=high&format=webply')","background-repeat","no-repeat"],[1,"body"],[1,"card-body"],[2,"color","rgb(174, 209, 18)"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"row"],["type","text","formControlName","imagen","placeholder","Imagen",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","marca","placeholder","Marca",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","modelo","placeholder","Modelo",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","motor","placeholder","Motor",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","anyo","placeholder","A\xf1o",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","categoria","placeholder","Categoria",1,"form-control","form-control-lg","mt-4"],[1,"mt-3"],["type","text","routerLink","/home",1,"btn","btn-warning","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],[1,"p-5","mb-4","bg-light","rounded-3",2,"background-image","url('/assets/road-7148369.jpg')"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[2,"color","#3cc4ce"],[2,"color","beige"],["src","/assets/car-4721367.svg",1,"float-sm-left",2,"width","500px","margin-left","780px","margin-top","20px"],[2,"color","yellow"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-bg-dark","rounded-3",2,"background-image","url('https://pbs.twimg.com/media/FGag_E7WQAIEdQ_?format=jpg&name=medium')"],[2,"color","rgb(12, 7, 7)"],[2,"color","black"],[2,"color","rgb(19, 6, 194)","font-size","larger"],[1,"tabla","h-100","p-5","bg-light","border","rounded-3"],[2,"text-align","center"],[1,"table","mt-4"],[1,"pt-3","mt-4","text-muted","border-top"]],template:function(t,r){1&t&&(a.TgZ(0,"html")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h3",3),a._uU(5,"Agregar Coche "),a.qZA(),a.TgZ(6,"form",4),a.NdJ("ngSubmit",function(){return r.onSubmit()}),a.TgZ(7,"div",5)(8,"div"),a._UZ(9,"input",6),a.qZA(),a.TgZ(10,"div"),a._UZ(11,"input",7),a.qZA()(),a._UZ(12,"input",8)(13,"input",9)(14,"input",10)(15,"input",11)(16,"br"),a.TgZ(17,"div",12)(18,"button",13),a._uU(19,"Volver"),a.qZA(),a._uU(20," - "),a.TgZ(21,"button",14),a._uU(22,"Crear"),a.qZA()(),a._UZ(23,"br"),a.qZA()()()(),a.TgZ(24,"main")(25,"div",15)(26,"header",16),a._UZ(27,"a",17),a.qZA(),a.TgZ(28,"div",18)(29,"div",19)(30,"h1",20)(31,"span",21),a._uU(32,"Instrucciones"),a.qZA(),a._uU(33," de creacion"),a.qZA(),a._UZ(34,"br")(35,"br"),a.TgZ(36,"ul")(37,"li")(38,"span",21),a._uU(39,"imagen :"),a.qZA(),a.TgZ(40,"span",22),a._uU(41," Poner enlace de la imagen Ej: https://lamborghini.3434.jpg"),a.qZA()(),a._UZ(42,"br"),a.TgZ(43,"li")(44,"span",21),a._uU(45,"Marca :"),a.qZA(),a.TgZ(46,"span",22),a._uU(47," Poner la marca del Automovil Ej: Bmw"),a.qZA()(),a._UZ(48,"br"),a.TgZ(49,"li")(50,"span",21),a._uU(51,"Modelo :"),a.qZA(),a.TgZ(52,"span",22),a._uU(53," Poner el Modelo completo y exacto Ej: e46 M3 cls"),a.qZA()(),a._UZ(54,"br"),a.TgZ(55,"li")(56,"span",21),a._uU(57,"Motor :"),a.qZA(),a.TgZ(58,"span",22),a._uU(59," Poner La cilindrada, caballaje y turbos Ej: V8 4.5cc biturbo 740 cv"),a.qZA()(),a._UZ(60,"br"),a.TgZ(61,"li")(62,"span",21),a._uU(63,"A\xf1o :"),a.qZA(),a.TgZ(64,"span",22),a._uU(65," Poner A\xf1o de fabricacion y duracion de est\xe1 misma Ej: 2002-2008"),a.qZA()(),a._UZ(66,"br"),a.TgZ(67,"li")(68,"span",21),a._uU(69,"Categoria :"),a.qZA(),a.TgZ(70,"span",22),a._uU(71," Hay 4 Categorias: SuperDeportivos - Deportivos - Clasicos - Tuning"),a.qZA()(),a._UZ(72,"img",23),a.TgZ(73,"p",24),a._uU(74,"por favor Cree coches con coherencia no fakes"),a.qZA()()()(),a.TgZ(75,"div",25)(76,"div",26)(77,"div",27)(78,"h2",28),a._uU(79,"Max Verstappen"),a.qZA(),a.TgZ(80,"p",29),a._uU(81,"Actual "),a.TgZ(82,"span",30),a._uU(83,"Campe\xf3n"),a.qZA(),a._uU(84," de la Formula 1"),a.qZA()()(),a.TgZ(85,"div",26)(86,"div",31)(87,"h2",32),a._uU(88,"Coches registrados"),a.qZA(),a.TgZ(89,"table",33)(90,"thead")(91,"tr")(92,"th"),a._uU(93,"Categoria"),a.qZA(),a.TgZ(94,"th"),a._uU(95,"Ult-Mes"),a.qZA(),a.TgZ(96,"th"),a._uU(97,"Total"),a.qZA()()(),a.TgZ(98,"tbody")(99,"tr")(100,"td"),a._uU(101,"Alta-Gama"),a.qZA(),a.TgZ(102,"td"),a._uU(103,"10"),a.qZA(),a.TgZ(104,"td"),a._uU(105,"11"),a.qZA()(),a.TgZ(106,"tr")(107,"td"),a._uU(108,"Clasicos"),a.qZA(),a.TgZ(109,"td"),a._uU(110,"4"),a.qZA(),a.TgZ(111,"td"),a._uU(112,"3"),a.qZA()(),a.TgZ(113,"tr")(114,"td"),a._uU(115,"Deportivos"),a.qZA(),a.TgZ(116,"td"),a._uU(117,"7"),a.qZA(),a.TgZ(118,"td"),a._uU(119,"9"),a.qZA()()(),a.TgZ(120,"tfoot")(121,"tr")(122,"td"),a._uU(123,"Tuning"),a.qZA(),a.TgZ(124,"td"),a._uU(125,"21"),a.qZA(),a.TgZ(126,"td"),a._uU(127,"23"),a.qZA()()()()()()(),a._UZ(128,"footer",34),a.qZA()(),a._UZ(129,"app-footer"),a.qZA()),2&t&&(a.xp6(6),a.Q6J("formGroup",r.cocheForm))},dependencies:[rc,Sx,mI,cx,dx,AI,yA,Ph],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#bdc3c7;background:linear-gradient(to right,#2c3e50,#bdc3c7)}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:15px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:20px;text-align:center}.form-floating[_ngcontent-%COMP%]{text-align:start}.errorLabel[_ngcontent-%COMP%]{margin-left:5px}.errorLabel2[_ngcontent-%COMP%]{margin-top:5px}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.tabla[_ngcontent-%COMP%]{background:#085078;background:linear-gradient(to right,#85D8CE,#085078)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}"]}),n})(),BN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-about"]],decls:240,vars:0,consts:[["cz-shortcut-listen","true"],[1,"container",2,"padding-top","100px"],[1,"p-4","p-md-5","mb-4","mt-4","rounded","text-bg-dark",2,"background-image","url('https://wallpapercave.com/wp/wp2718347.jpg')","height","auto","background-repeat","no-repeat"],[1,"display-6","text-center",2,"font-size","bold"],[1,"row","mb-2","mt-5"],[1,"col-md-6"],[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"d-inline-block","mb-2",2,"color","#ea1538"],[1,"mb-0",2,"color","#ea1538"],[1,"mb-1","text-muted"],[1,"card-text","mb-auto"],["href","https://github.com/Antonio-DelaRua",1,"stretched-link"],[1,"col-auto","d-none","d-lg-block"],["width","200","height","200","src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/2048px-Angular_full_color_logo.svg.png",1,"bd-placeholder-img"],[1,"mb-auto"],["href","#",1,"stretched-link"],["width","200","height","200","src","https://www.freepnglogos.com/uploads/html5-logo-png/html5-logo-html-icons-download-14.png",1,"bd-placeholder-img","mt-2"],[1,"row","g-5"],[1,"col-md-8"],[1,"pb-4","mb-4","fst-italic","border-bottom",2,"color","aliceblue"],[1,"blog-post"],[1,"blog-post-title","mb-1",2,"color","aliceblue"],[1,"blog-post-meta"],["href","#",2,"color","aliceblue"],[1,"linea"],[2,"color","red"],[2,"color","yellow"],[2,"color","blue"],[2,"color","#0BF082"],[2,"color","aliceblue"],[1,"table"],[1,"col-md-4"],[1,"position-sticky",2,"top","2rem"],[1,"p-4","mb-3","bg-light","rounded"],["src","/assets/Screenshot from 2022-10-04 16-20-40.png",2,"width","350px"],[1,"p-4"],[1,"fst-italic",2,"color","#ea1538"],[1,"list-unstyled","mb-0"],["href","https://ruxxdev.site",2,"color","aliceblue"],["href","https://costafutura.000webhostapp.com/",2,"color","aliceblue"],["href","https://ruxxdesing.site",2,"color","aliceblue"],["href","https://malditosilencio.com",2,"color","aliceblue"],["href","https://github.com/Antonio-DelaRua/RuXx-breaking-bad-wiki",2,"color","aliceblue"],[1,"list-unstyled"],[2,"position","static !important"]],template:function(t,r){1&t&&(a.TgZ(0,"body",0)(1,"main",1)(2,"div",2)(3,"h1",3),a._uU(4," Hola!! Soy Antonio De La Rua Fernandez"),a.qZA()(),a.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"strong",8),a._uU(10,"Angular"),a.qZA(),a.TgZ(11,"h3",9),a._uU(12,"Framework"),a.qZA(),a.TgZ(13,"div",10),a._uU(14,"Antonio DelaRua"),a.qZA(),a.TgZ(15,"p",11),a._uU(16,"Especializado en Angular , mi proceso de aprendizaje fue cursos de Victor Robles en Udemy y la ruta Front-end de OpenBootCamp"),a.qZA(),a.TgZ(17,"a",12),a._uU(18,"Mas Sobre mis proyectos"),a.qZA()(),a.TgZ(19,"div",13),a._UZ(20,"img",14),a.qZA()()(),a.TgZ(21,"div",5)(22,"div",6)(23,"div",7)(24,"strong",8),a._uU(25,"HTML-CSS"),a.qZA(),a.TgZ(26,"h3",9),a._uU(27,"HTML - CSS"),a.qZA(),a.TgZ(28,"div",10),a._uU(29,"Bootstrap-Git-Javascript..."),a.qZA(),a.TgZ(30,"p",15),a._uU(31,"Ademas de los cursos de Angular me he ido formando con todas las herramientas necesarias para poder manejar el framework"),a.qZA(),a.TgZ(32,"a",16),a._uU(33,"Continue reading"),a.qZA()(),a.TgZ(34,"div",13),a._UZ(35,"img",17),a.qZA()()()(),a.TgZ(36,"div",18)(37,"div",19)(38,"h3",20),a._uU(39," Mi Ruta De Aprendizaje "),a.qZA(),a.TgZ(40,"article",21)(41,"h2",22),a._uU(42,"Empiezo a interesarme por la Programaci\xf3n"),a.qZA(),a.TgZ(43,"p",23)(44,"a",24),a._uU(45,"Enero 1, 2020 "),a.qZA()(),a.TgZ(46,"p"),a._uU(47,'Empiezo a interesarme por la programaci\xf3n , investigo un poco de HTML hago mis primeros "Hola mundo" , poco a poco voy jugando con CSS, me llamaba mucho la atenci\xf3n porque ya me gustaba el dise\xf1ar blogs con photoshop, pero me sobrepasa tanta informaci\xf3n y no profundizo.'),a.qZA(),a._UZ(48,"br")(49,"div",25),a.TgZ(50,"h2",22),a._uU(51,"Elecci\xf3n de que framework me gusta m\xe1s"),a.qZA(),a.TgZ(52,"p",23)(53,"a",24),a._uU(54,"Marzo 22, 2021 "),a.qZA()(),a.TgZ(55,"p"),a._uU(56,"Despues de llevar m\xe1s de un a\xf1o con Html y Css conoci "),a.TgZ(57,"span",26),a._uU(58,"Angular"),a.qZA(),a._uU(59," estuve comparando este, con React etc.. pero ya sab\xeda que quer\xeda aprender "),a.TgZ(60,"span",26),a._uU(61,"Angular"),a.qZA(),a._uU(62," Me sobrepasa tanta informaci\xf3n del framework elegido y decido profundizar en todas las herramientas necesarias para poder manejarlo bien. Empiezo a buscar informaci\xf3n de "),a.TgZ(63,"span",27),a._uU(64,"Javascript"),a.qZA(),a._uU(65,", y "),a.TgZ(66,"span",28),a._uU(67,"Typescript"),a.qZA(),a._uU(68,". Pero me desvio mucho del camino buscando informaci\xf3n de todo lo que se me iba presentando y no tenia conocimiento , como Docker, phyton, symfony."),a.qZA(),a._UZ(69,"br")(70,"div",25),a.TgZ(71,"h2",22),a._uU(72,"Conozco un poco de Backend Mysql y PHP"),a.qZA(),a.TgZ(73,"p",23)(74,"a",24),a._uU(75,"Septiembre 11, 2021 "),a.qZA()(),a.TgZ(76,"p"),a._uU(77,"Al hacer algunos Cursos de "),a.TgZ(78,"span",26),a._uU(79,"Angular"),a.qZA(),a._uU(80,' vi como se hac\xedan los CRUD y empeze a investigar sobre las base de datos, me hice mis primeras base de Datos en mysql con Php y PHPmyadmin. Pero me quedo bloqueado en muchos pasos y no acabo de entender ciertas l\xf3gicas. Al ver que no avanzaba porque me faltaban conocimientos imprescindibles decid\xed pedirle ayuda a mi primo "Daniel Urbano" que lleva mas de 7 a\xf1os en el sector Actualmente trabajando Como Senior Full Stack y me ense\xf1o '),a.TgZ(81,"span",29),a._uU(82,"Open BootCamp"),a.qZA(),a._uU(83," , Donde empezo de verdad mi camino como desarrollador. "),a.qZA(),a._UZ(84,"br")(85,"div",25),a.TgZ(86,"h2",22),a._uU(87,"Open BootCamp y Udemy"),a.qZA(),a.TgZ(88,"p",23)(89,"a",24),a._uU(90,"Febrero 27, 2022 "),a.qZA()(),a.TgZ(91,"p"),a._uU(92,"Bueno lo primero Ser\xeda dar gracias al equipo de Open BootCamp por sus Cursos , rutas de aprendizaje etc.. Elegi la ruta Front-end de "),a.TgZ(93,"span",26),a._uU(94,"Angular"),a.qZA(),a._uU(95,". Iba complementando lo que iba aprendiendo tambien con cursos de Udemy pero ya muy centrado en la ruta que debia seguir. A d\xeda de hoy, 05-octubre-2022 sigo dedicandole 16 horas diarias hasta poder lograr mi primer trabajo como Junior =)"),a.qZA(),a._UZ(96,"br")(97,"div",25),a.qZA(),a.TgZ(98,"article",21)(99,"h3",30),a._uU(100,"Cursos Realizados"),a.qZA(),a.TgZ(101,"p",30),a._uU(102,"And don't forget about tables in these posts:"),a.qZA(),a.TgZ(103,"table",31)(104,"thead")(105,"tr",30)(106,"th"),a._uU(107,"Curso"),a.qZA(),a.TgZ(108,"th"),a._uU(109,"Escuela"),a.qZA(),a.TgZ(110,"th"),a._uU(111,"Profesor"),a.qZA()()(),a.TgZ(112,"tbody")(113,"tr")(114,"td",30),a._uU(115,"Front-end Fundamentos de la programaci\xf3n"),a.qZA(),a.TgZ(116,"td",27),a._uU(117,"Open BootCamp"),a.qZA(),a.TgZ(118,"td",30),a._uU(119,"V\xedctor Rom\xe1n Archidona"),a.qZA()(),a.TgZ(120,"tr")(121,"td",30),a._uU(122,"Front-end Angular: Html y Css"),a.qZA(),a.TgZ(123,"td",27),a._uU(124,"Open BootCamp"),a.qZA(),a.TgZ(125,"td",30),a._uU(126,"Gorka Villar"),a.qZA()(),a.TgZ(127,"tr")(128,"td",30),a._uU(129,"Front-end Angular:JavaScript Basico"),a.qZA(),a.TgZ(130,"td",27),a._uU(131,"Open BootCamp"),a.qZA(),a.TgZ(132,"td",30),a._uU(133,"Gorka Villar"),a.qZA()(),a.TgZ(134,"tr")(135,"td",30),a._uU(136,"Front-end Angular: TypeScript"),a.qZA(),a.TgZ(137,"td",27),a._uU(138,"Open BootCamp"),a.qZA(),a.TgZ(139,"td",30),a._uU(140,"Mart\xedn San Jos\xe9 de Vicente"),a.qZA()(),a.TgZ(141,"tr")(142,"td",30),a._uU(143,"Front-end Angular: Angular B\xe1sico"),a.qZA(),a.TgZ(144,"td",27),a._uU(145,"Open BootCamp"),a.qZA(),a.TgZ(146,"td",30),a._uU(147,"Mart\xedn San Jos\xe9 de Vicente"),a.qZA()(),a.TgZ(148,"tr")(149,"td",30),a._uU(150,"Front-end Angular: Angular Avanzado"),a.qZA(),a.TgZ(151,"td",27),a._uU(152,"Open BootCamp"),a.qZA(),a.TgZ(153,"td",30),a._uU(154,"Mart\xedn San Jos\xe9 de Vicente"),a.qZA()(),a.TgZ(155,"tr")(156,"td",30),a._uU(157,"Front-end Angular: Curso de Git"),a.qZA(),a.TgZ(158,"td",27),a._uU(159,"Open BootCamp"),a.qZA(),a.TgZ(160,"td",30),a._uU(161,"V\xedctor Rom\xe1n Archidona"),a.qZA()(),a.TgZ(162,"tr")(163,"td",30),a._uU(164,"Curso de Angular 13"),a.qZA(),a.TgZ(165,"td",27),a._uU(166,"Udemy"),a.qZA(),a.TgZ(167,"td",30),a._uU(168,"V\xedctor Robles"),a.qZA()(),a.TgZ(169,"tr")(170,"td",30),a._uU(171,"Curso angular desde 0 a experto"),a.qZA(),a.TgZ(172,"td",27),a._uU(173,"Udemy"),a.qZA(),a.TgZ(174,"td",30),a._uU(175,"Gorka Villar"),a.qZA()(),a.TgZ(176,"tr")(177,"td",30),a._uU(178,"Docker, de principiante a experto"),a.qZA(),a.TgZ(179,"td",27),a._uU(180,"Udemy"),a.qZA(),a.TgZ(181,"td",30),a._uU(182,"Ricardo Andre Gonzalez Gomez"),a.qZA()(),a.TgZ(183,"tr")(184,"td",30),a._uU(185,"De 0 a Dev : PYTHON"),a.qZA(),a.TgZ(186,"td",27),a._uU(187,"Open BootCamp"),a.qZA(),a.TgZ(188,"td",30),a._uU(189,"V\xedctor Rom\xe1n Archidona"),a.qZA()(),a.TgZ(190,"tr")(191,"td",30),a._uU(192,"curso maestro python3: aprende desde 0"),a.qZA(),a.TgZ(193,"td",27),a._uU(194,"Udemy"),a.qZA(),a.TgZ(195,"td",30),a._uU(196,"Mart\xedn San Jos\xe9 de Vicente"),a.qZA()(),a._UZ(197,"br"),a.qZA()(),a.TgZ(198,"p"),a._uU(199,"Sigo Con la intensidad del primer d\xeda, ahora voy a empezar con la ruta de backend de Open BootCamp."),a.qZA(),a._UZ(200,"br"),a.qZA()(),a.TgZ(201,"div",32)(202,"div",33)(203,"div",34),a._UZ(204,"img",35),a.qZA(),a.TgZ(205,"div",36)(206,"h4",37),a._uU(207,"Paginas Web Creadas"),a.qZA(),a.TgZ(208,"ol",38)(209,"li")(210,"a",39),a._uU(211,"RuXxDev.site"),a.qZA()(),a.TgZ(212,"li")(213,"a",40),a._uU(214,"Durbanod.com"),a.qZA()(),a.TgZ(215,"li")(216,"a",41),a._uU(217,"Casaperibocadillo.es"),a.qZA()(),a.TgZ(218,"li")(219,"a",42),a._uU(220,"Malditosilencio.com"),a.qZA()(),a.TgZ(221,"li")(222,"a",43),a._uU(223,"Breakingbad wiki"),a.qZA()()()(),a.TgZ(224,"div",36)(225,"h4",37),a._uU(226,"Mis Redes Sociales"),a.qZA(),a.TgZ(227,"ol",44)(228,"li")(229,"a",24),a._uU(230,"GitHub"),a.qZA()(),a.TgZ(231,"li")(232,"a",24),a._uU(233,"Linkedin"),a.qZA()(),a.TgZ(234,"li")(235,"a",24),a._uU(236,"Instagram"),a.qZA()()()()()()()(),a._UZ(237,"div",45),a.TgZ(238,"div"),a._UZ(239,"app-footer"),a.qZA()())},dependencies:[Ph],styles:[".stretched-link[_ngcontent-%COMP%]{color:beige}.post[_ngcontent-%COMP%]{color:#07bdc4}.linea[_ngcontent-%COMP%]{border-top:2px solid aliceblue;margin-bottom:40px;width:80%}"]}),n})();function ZN(n,e){if(1&n&&(a.TgZ(0,"div",36)(1,"div",37),a._UZ(2,"img",38),a.TgZ(3,"div",39)(4,"h2",40)(5,"strong"),a._uU(6),a.qZA()(),a._UZ(7,"br"),a.TgZ(8,"h3",41),a._uU(9),a.qZA(),a.TgZ(10,"h4",42),a._uU(11),a.qZA()()()()),2&n){const t=e.$implicit;a.xp6(2),a.s9C("src",t.imagen,a.LSH),a.xp6(4),a.Oqu(t.motor),a.xp6(3),a.AsE("",t.marca," ",t.modelo,""),a.xp6(2),a.Oqu(t.anyo)}}const jN=[{path:"",redirectTo:"RuXx",pathMatch:"full"},{path:"home",component:ZP},{path:"create",component:VN},{path:"RuXx",component:BN},{path:"concesionario",component:(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.postService.getPosts().subscribe(t=>{this.Coches=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(XT))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-concesionario"]],decls:94,vars:1,consts:[[1,"container-fluid","mt-4",2,"padding-top","33px","width","100%"],["id","myCarousel","data-bs-ride","carousel",1,"carousel","slide",2,"border-style","ridge"],[1,"carousel-indicators"],["type","button","data-bs-target","#myCarousel","data-bs-slide-to","0","aria-label","Slide 1","aria-current","true",1,"active"],["type","button","data-bs-target","#myCarousel","data-bs-slide-to","1","aria-label","Slide 2",1,"active"],[1,"carousel-inner","container-xxl"],["width","1800","height","800",1,"carousel-item","active"],["width","1800","height","800","src","/assets/car-vehicle-Lamborghini-Gallardo-sports-car-workshops-modified-186056-wallhere.com.jpg","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img-fluid","img-fluid"],[1,"container"],[1,"carousel-caption","text-end"],[2,"color","rgb(241, 19, 19)"],[2,"color","rgb(194, 70, 12)"],[2,"color","rgb(218, 147, 15)"],[2,"color","rgb(226, 223, 11)"],[2,"color","rgb(116, 155, 10)"],[2,"color","rgb(69, 231, 37)"],[2,"color","rgb(12, 170, 109)"],[2,"color","rgb(14, 112, 107)"],[2,"color","rgb(25, 57, 128)"],[2,"color","rgb(105, 16, 122)"],[2,"color","rgb(85, 6, 49)"],[2,"color","rgb(241, 19, 193)"],[2,"color","rgb(177, 17, 70)"],[2,"color","rgb(189, 15, 29)"],[2,"color","rgb(231, 213, 213)"],[1,"carousel-item"],["width","1980","height","600","src","https://wallpaperaccess.com/full/482312.jpg","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","img-fluid"],["type","button","data-bs-target","#myCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#myCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"album","py-5"],[1,"linea"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","col ",4,"ngFor","ngForOf"],[1,"col"],[1,"card","justify-content-center"],["width","100%","height","300",1,"bd-placeholder-img","card-img-top",3,"src"],[1,"overlay"],[2,"font-weight","800"],[2,"color","rgb(247, 247, 247)"],[2,"color","red"]],template:function(t,r){1&t&&(a.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2),a._UZ(4,"button",3)(5,"button",4),a.qZA(),a.TgZ(6,"div",5)(7,"div",6),a._UZ(8,"img",7),a.TgZ(9,"div",8)(10,"div",9)(11,"h1")(12,"span",10),a._uU(13,"R"),a.qZA(),a.TgZ(14,"span",11),a._uU(15,"u"),a.qZA(),a.TgZ(16,"span",12),a._uU(17,"X"),a.qZA(),a.TgZ(18,"span",13),a._uU(19,"x"),a.qZA(),a.TgZ(20,"span",14),a._uU(21,"D"),a.qZA(),a.TgZ(22,"span",15),a._uU(23,"e"),a.qZA(),a.TgZ(24,"span",16),a._uU(25,"S"),a.qZA(),a.TgZ(26,"span",17),a._uU(27,"i"),a.qZA(),a.TgZ(28,"span",18),a._uU(29,"N"),a.qZA(),a.TgZ(30,"span",19),a._uU(31,"G"),a.qZA(),a.TgZ(32,"span",20),a._uU(33,"."),a.qZA(),a.TgZ(34,"span",21),a._uU(35,"S"),a.qZA(),a.TgZ(36,"span",22),a._uU(37,"i"),a.qZA(),a.TgZ(38,"span",23),a._uU(39,"t"),a.qZA(),a.TgZ(40,"span",24),a._uU(41,"e"),a.qZA()()()()(),a.TgZ(42,"div",25),a._UZ(43,"img",26),a.TgZ(44,"div",8)(45,"div",9)(46,"h1")(47,"span",10),a._uU(48,"R"),a.qZA(),a.TgZ(49,"span",11),a._uU(50,"u"),a.qZA(),a.TgZ(51,"span",12),a._uU(52,"X"),a.qZA(),a.TgZ(53,"span",13),a._uU(54,"x"),a.qZA(),a.TgZ(55,"span",14),a._uU(56,"D"),a.qZA(),a.TgZ(57,"span",15),a._uU(58,"e"),a.qZA(),a.TgZ(59,"span",16),a._uU(60,"S"),a.qZA(),a.TgZ(61,"span",17),a._uU(62,"i"),a.qZA(),a.TgZ(63,"span",18),a._uU(64,"N"),a.qZA(),a.TgZ(65,"span",19),a._uU(66,"G"),a.qZA(),a.TgZ(67,"span",20),a._uU(68,"."),a.qZA(),a.TgZ(69,"span",21),a._uU(70,"S"),a.qZA(),a.TgZ(71,"span",22),a._uU(72,"i"),a.qZA(),a.TgZ(73,"span",23),a._uU(74,"t"),a.qZA(),a.TgZ(75,"span",24),a._uU(76,"e"),a.qZA()()()()()(),a.TgZ(77,"button",27),a._UZ(78,"span",28),a.TgZ(79,"span",29),a._uU(80,"Previous"),a.qZA()(),a.TgZ(81,"button",30),a._UZ(82,"span",31),a.TgZ(83,"span",29),a._uU(84,"Next"),a.qZA()()()()(),a.TgZ(85,"div",32)(86,"div",8)(87,"h1"),a._uU(88,"Concesionario"),a.qZA(),a._UZ(89,"div",33),a.TgZ(90,"div",34),a.YNc(91,ZN,12,5,"div",35),a.qZA()()(),a.TgZ(92,"div"),a._UZ(93,"app-footer"),a.qZA()),2&t&&(a.xp6(91),a.Q6J("ngForOf",r.Coches))},dependencies:[Hi,Ph],styles:["h1[_ngcontent-%COMP%]{font-weight:400;text-align:center;padding:20px 0;font-size:40px}.card[_ngcontent-%COMP%]{display:grid;width:100%;box-sizing:border-box;background:rgb(39,236,243);columns:auto;border-radius:10px;flex-wrap:wrap}.linea[_ngcontent-%COMP%]{border-top:5px solid #dfd470;margin-bottom:40px}.card[_ngcontent-%COMP%]{position:grid;object-fit:cover;box-shadow:8px 0 3px #000000bf}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;background:rgba(214,218,4,.329);width:100%;height:0;overflow:hidden;transition:.5s ease}.overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:30px;position:absolute;top:50%;left:50%;text-align:center;transform:translate(-50%,-50%)}.card[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{height:100%;cursor:pointer}.card[_ngcontent-%COMP%]{display:block;gap:1 rem;grid-auto-rows:22rem;grid-template-columns:repeat(auto-fill,minmax (min(100%,25rem),1fr))}"]}),n})()},{path:"Ferrari",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-ferrari"]],decls:140,vars:0,consts:[["cz-shortcut-listen","true","sytle","width:100%; height:100%;"],[1,"container-fluid","mt-5",2,"padding","0px"],["width","100%","height","950","src","/../assets/Ferrari House (1).png","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],["cz-shortcut-listen","true",1,"bmw-pag"],[1,"container-fluid"],[1,"fmb"],["width","20%","height","400","src","https://vehlogo.com/wp-content/uploads/2021/03/ferrari_text_logo.png","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],[1,"row","g-5",2,"margin","30px"],[1,"col-md-8"],[1,"pb-4","mb-4"],[2,"color","#E22718"],[1,"linea2"],[1,"blog-post"],[1,"blog-post-title","mb-1",2,"color","#07BDC4"],[1,"linea"],[1,"container-sm"],["id","toc","role","navigation","aria-labelledby","mw-toc-heading",1,"toc"],["type","checkbox","role","button","id","toctogglecheckbox",1,"toctogglecheckbox",2,"display","none"],["lang","es","dir","ltr",1,"toctitle"],["id","mw-toc-heading",2,"color","#07BDC4"],[1,"toctogglespan"],["for","toctogglecheckbox",1,"toctogglelabel"],[1,"toclevel-1","tocsection-1"],["href","#Historia"],[1,"toctext"],[1,"toclevel-1","tocsection-2"],["href","#Caracter\xedsticas"],[1,"toclevel-2","tocsection-3"],["href","#Perspectivas_pedag\xf3gicas_de_Wiki"],[1,"toclevel-2","tocsection-4"],["href","#P\xe1ginas_y_edici\xf3n"],[1,"toclevel-2","tocsection-5"],["href","#\xbfPor_qu\xe9_no_HTML?"],[1,"toclevel-2","tocsection-6"],["href","#Est\xe1ndar"],[1,"toclevel-2","tocsection-7"],["href","#Vincular_y_crear_p\xe1ginas"],[1,"toclevel-3","tocsection-8"],["href","#CamelCase"],[1,"toclevel-3","tocsection-9"],["href","#V\xednculos_libres"],[1,"toclevel-3","tocsection-10"],["href","#Interwiki"],[1,"toclevel-2","tocsection-11"],["href","#B\xfasqueda"],[1,"toclevel-2","tocsection-12"],["href","#Control_de_cambios"],[1,"historybmw",2,"color","purple"],[2,"color","#07BDC4"],[1,"col-md-4"],[1,"position-sticky",2,"top","5rem"],["width","40%","height","200px","src","https://static.posters.cz/image/750/posters/ferrari-logo-i6660.jpg",1,"img-fluid"],[2,"padding-top","25px"],["width","40%","height","200px","src","https://img.remediosdigitales.com/ca7fae/logoferrari2011c/1366_2000.jpg",1,"img-fluid"],["width","40%","height","200px","src","https://phantom-marca.unidadeditorial.es/5f25cc2d8a1d681df12b88a67fdbf956/resize/1320/f/jpg/assets/multimedia/imagenes/2021/04/16/16185734644267.jpg",1,"img-fluid"]],template:function(t,r){1&t&&(a.TgZ(0,"body",0)(1,"main")(2,"div",1),a._UZ(3,"img",2),a.qZA(),a.TgZ(4,"body",3)(5,"main",4)(6,"div",5),a._UZ(7,"img",6),a.qZA(),a.TgZ(8,"div",7)(9,"div",8)(10,"h1",9),a._uU(11," Historia de "),a.TgZ(12,"span",10),a._uU(13,"Ferrari"),a.qZA()(),a._UZ(14,"div",11),a.TgZ(15,"article",12)(16,"h2",13),a._uU(17,"BMW"),a.qZA(),a.TgZ(18,"p"),a._uU(19,"BMW pronunciaci\xf3n alemana:[be-em-ve]. es un fabricante alem\xe1n de autom\xf3viles y motocicletas de alta gama y lujo, cuya sede se encuentra en M\xfanich. Sus subsidiarias son Mini, Rolls-Royce y BMW Bank. BMW es el l\xedder mundial en ventas entre los fabricantes de gama alta; compite principalmente con Audi, Volvo, Lexus y Mercedes-Benz, entre otros veh\xedculos de gama alta. "),a.qZA(),a._UZ(20,"br")(21,"div",14),a.TgZ(22,"div",15)(23,"div",16),a._UZ(24,"input",17),a.TgZ(25,"div",18)(26,"h2",19),a._uU(27,"\xcdndice"),a.qZA(),a.TgZ(28,"span",20),a._UZ(29,"label",21),a.qZA()(),a.TgZ(30,"ul")(31,"li",22)(32,"a",23)(33,"span",24),a._uU(34,"Historia"),a.qZA()()(),a.TgZ(35,"li",25)(36,"a",26)(37,"span",24),a._uU(38,"Modelos"),a.qZA()(),a.TgZ(39,"ul")(40,"li",27)(41,"a",28)(42,"span",24),a._uU(43,"Serie 1"),a.qZA()()(),a.TgZ(44,"li",29)(45,"a",30)(46,"span",24),a._uU(47,"Serie 2"),a.qZA()()(),a.TgZ(48,"li",31)(49,"a",32)(50,"span",24),a._uU(51,"Serie 3"),a.qZA()()(),a.TgZ(52,"li",33)(53,"a",34)(54,"span",24),a._uU(55,"serie 4"),a.qZA()()(),a.TgZ(56,"li",35)(57,"a",36)(58,"span",24),a._uU(59,"serie5"),a.qZA()()(),a.TgZ(60,"li",35)(61,"a",36)(62,"span",24),a._uU(63,"serie6"),a.qZA()()(),a.TgZ(64,"li",35)(65,"a",36)(66,"span",24),a._uU(67,"serie 7 y 8"),a.qZA()()(),a.TgZ(68,"li",35)(69,"a",36)(70,"span",24),a._uU(71,"serie M"),a.qZA()(),a.TgZ(72,"ul")(73,"li",37)(74,"a",38)(75,"span",24),a._uU(76,"M1"),a.qZA()()(),a.TgZ(77,"li",39)(78,"a",40)(79,"span",24),a._uU(80,"M2"),a.qZA()()(),a.TgZ(81,"li",41)(82,"a",42)(83,"span",24),a._uU(84,"M3"),a.qZA()()(),a.TgZ(85,"li",41)(86,"a",42)(87,"span",24),a._uU(88,"M4"),a.qZA()()(),a.TgZ(89,"li",41)(90,"a",42)(91,"span",24),a._uU(92,"M5"),a.qZA()()(),a.TgZ(93,"li",41)(94,"a",42)(95,"span",24),a._uU(96,"M6"),a.qZA()()()()(),a.TgZ(97,"li",43)(98,"a",44)(99,"span",24),a._uU(100,"B\xfasqueda"),a.qZA()()(),a.TgZ(101,"li",45)(102,"a",46)(103,"span",24),a._uU(104,"Control de cambios"),a.qZA()()()()()()()(),a._UZ(105,"br")(106,"div",14),a.TgZ(107,"h1",47),a._uU(108,"Historia"),a.qZA(),a._UZ(109,"div",11)(110,"br"),a.TgZ(111,"h2",48),a._uU(112,"Comienzos"),a.qZA(),a.TgZ(113,"p"),a._uU(114,"El predecesor de BMW fue la empresa Rapp Motorenwerke GmbH, fundada en 1913 por Karl Rapp. Cambiaron el nombre en abril de 1917, en primer lugar a BMW GmbH (sociedad limitada) para terminar en BMW AG, un a\xf1o m\xe1s tarde tras su conversi\xf3n en sociedad an\xf3nima. El ingeniero Max Friz destac\xf3 en la joven empresa por desarrollar en 1917 un motor de avi\xf3n de alta compresi\xf3n, gracias a lo cual se pudo reducir la p\xe9rdida de prestaciones en las alturas. Esta innovaci\xf3n tuvo tal aceptaci\xf3n que BMW recibi\xf3 un pedido de 2000 motores por parte de la administraci\xf3n del ej\xe9rcito prusiano. El 17 de junio de 1919 se alcanz\xf3 el r\xe9cord de altura de 9760 metros con un BMW IIIa. El final de la Primera Guerra Mundial y el Tratado de Versalles parecieron ser la fase final de la empresa, ya que el tratado prohib\xeda la fabricaci\xf3n durante 5 a\xf1os de motores de avi\xf3n, por aquel entonces el \xfanico producto de BMW. En 1922 Camillo Castiglioni, accionista principal de la compa\xf1\xeda, abandon\xf3 la empresa para irse a Bayerische Flugzeugwerke AG (BFW), llev\xe1ndose tambi\xe9n los derechos de la marca BMW. La empresa BFW era originaria de la empresa Gustav-Otto-Flugzeugwerk, que fund\xf3 el 7 de marzo de 1916 Gustav Otto, hijo de Nikolaus August Otto, inventor del motor de combusti\xf3n. El 7 de marzo de 1916 se considera, en la descripci\xf3n de la historia de la empresa, como fecha oficial de fundaci\xf3n de BMW. Con la salida de Castiglioni, los Bayerische Flugzeugwerke (BFW) dar\xedan paso a BMW. La empresa, que se llamaba hasta entonces BMW, cambi\xf3 de nombre a S\xfcddeutsche Bremsen-AG y despu\xe9s Knorr-Bremse."),a.qZA(),a._UZ(115,"br"),a.TgZ(116,"h3",48),a._uU(117,"Cronolog\xeda del lanzamiento de productos"),a.qZA(),a._UZ(118,"br"),a.TgZ(119,"ul")(120,"li"),a._uU(121,"1917: Motor de avi\xf3n de altura III a, motor en l\xednea de 6 cilindros, 19 litros, refrigerado con agua, 136 kW (185 CV)."),a.qZA(),a._UZ(122,"br"),a.TgZ(123,"li"),a._uU(124,"2020: En el sal\xf3n de Ginebra BMW ten\xeda intenci\xf3n de presentar el nuevo BMW i4, pero debido al impacto de la pandemia del COVID-19 se cancel\xf3 el evento y por eso se present\xf3 el BMW Concept i4 en internet. Ser\xeda tambi\xe9n el primer modelo con el nuevo logotipo de BMW en el que el anillo exterior ya no era negro sino del color del veh\xedculo. "),a.qZA(),a._UZ(125,"br"),a.TgZ(126,"li"),a._uU(127,"2020: Presentaci\xf3n de la BMW R 18 una crucero en dise\xf1o retro con un motor b\xf3xer de 1,8l."),a.qZA(),a._UZ(128,"br"),a.qZA()(),a._UZ(129,"div",14),a.qZA(),a.TgZ(130,"div",49)(131,"div",50)(132,"div"),a._UZ(133,"img",51),a.qZA(),a.TgZ(134,"div",52),a._UZ(135,"img",53),a.qZA(),a.TgZ(136,"div",52),a._UZ(137,"img",54),a.qZA()()()()(),a.TgZ(138,"div"),a._UZ(139,"app-footer"),a.qZA()()()())},dependencies:[Ph],styles:[".bmw-pag[_ngcontent-%COMP%]{background:#ADA996;background:linear-gradient(to right,#EAEAEA,#DBDBDB,#F2F2F2,#ADA996)}.fmb[_ngcontent-%COMP%]{width:100%;height:200px;display:flex;justify-content:center;align-items:center}.col-md-4[_ngcontent-%COMP%]{text-align:center}.linea[_ngcontent-%COMP%]{border-top:2px solid #07BDC4;margin-bottom:40px;width:80%}.linea2[_ngcontent-%COMP%]{border-top:2px solid #0d0d0e;margin-bottom:40px;width:100%}"]}),n})()},{path:"Lamborghini",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-lamborghini"]],decls:138,vars:0,consts:[["cz-shortcut-listen","true","sytle","width:100%; height:100%;"],[1,"container-fluid","mt-5",2,"padding","0px"],["width","100%","height","950","src","/../assets/2.png","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],["cz-shortcut-listen","true",1,"bmw-pag"],[1,"container-fluid"],[1,"fmb"],["width","20%","height","400","src","https://vehlogo.com/wp-content/uploads/2021/03/lamborghini_text_logo-2048x585.png","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],[1,"row","g-5",2,"margin","30px"],[1,"col-md-8"],[1,"pb-4","mb-4"],[2,"color","#E22718"],[1,"linea2"],[1,"blog-post"],[1,"blog-post-title","mb-1",2,"color","#07BDC4"],[1,"container-sm"],["id","toc","role","navigation","aria-labelledby","mw-toc-heading",1,"toc"],["type","checkbox","role","button","id","toctogglecheckbox",1,"toctogglecheckbox",2,"display","none"],["lang","es","dir","ltr",1,"toctitle"],["id","mw-toc-heading",2,"color","#07BDC4"],[1,"toctogglespan"],["for","toctogglecheckbox",1,"toctogglelabel"],[1,"toclevel-1","tocsection-1"],["href","#Historia"],[1,"toctext"],[1,"toclevel-1","tocsection-2"],["href","#Caracter\xedsticas"],[1,"toclevel-2","tocsection-3"],["href","#Perspectivas_pedag\xf3gicas_de_Wiki"],[1,"toclevel-2","tocsection-4"],["href","#P\xe1ginas_y_edici\xf3n"],[1,"toclevel-2","tocsection-5"],["href","#\xbfPor_qu\xe9_no_HTML?"],[1,"toclevel-2","tocsection-6"],["href","#Est\xe1ndar"],[1,"toclevel-2","tocsection-7"],["href","#Vincular_y_crear_p\xe1ginas"],[1,"toclevel-3","tocsection-8"],["href","#CamelCase"],[1,"toclevel-3","tocsection-9"],["href","#V\xednculos_libres"],[1,"toclevel-3","tocsection-10"],["href","#Interwiki"],[1,"toclevel-2","tocsection-11"],["href","#B\xfasqueda"],[1,"toclevel-2","tocsection-12"],["href","#Control_de_cambios"],[1,"historybmw",2,"color","purple"],[2,"color","#07BDC4"],[1,"linea"],[1,"col-md-4"],[1,"position-sticky",2,"top","5rem"],["width","40%","height","200px","src","https://vehlogo.com/wp-content/uploads/2021/03/lamborghini_logo_1998.png",1,"img-fluid"],[2,"padding-top","25px"],["width","40%","height","200px","src","https://vehlogo.com/wp-content/uploads/2021/03/automobili_lamborghini_text_logo.png",1,"img-fluid"],["width","40%","height","200px","src","https://vehlogo.com/wp-content/uploads/2021/03/lamborghini_bull_logo.png",1,"img-fluid"]],template:function(t,r){1&t&&(a.TgZ(0,"body",0)(1,"main")(2,"div",1),a._UZ(3,"img",2),a.qZA(),a.TgZ(4,"body",3)(5,"main",4)(6,"div",5),a._UZ(7,"img",6),a.qZA(),a.TgZ(8,"div",7)(9,"div",8)(10,"h1",9),a._uU(11," Historia de "),a.TgZ(12,"span",10),a._uU(13,"Lamborghini"),a.qZA()(),a._UZ(14,"div",11),a.TgZ(15,"article",12)(16,"h2",13),a._uU(17,"BMW"),a.qZA(),a.TgZ(18,"p"),a._uU(19,"BMW pronunciaci\xf3n alemana:[be-em-ve]. es un fabricante alem\xe1n de autom\xf3viles y motocicletas de alta gama y lujo, cuya sede se encuentra en M\xfanich. Sus subsidiarias son Mini, Rolls-Royce y BMW Bank. BMW es el l\xedder mundial en ventas entre los fabricantes de gama alta; compite principalmente con Audi, Volvo, Lexus y Mercedes-Benz, entre otros veh\xedculos de gama alta. "),a.qZA(),a._UZ(20,"br"),a.TgZ(21,"div",14)(22,"div",15),a._UZ(23,"input",16),a.TgZ(24,"div",17)(25,"h2",18),a._uU(26,"\xcdndice"),a.qZA(),a.TgZ(27,"span",19),a._UZ(28,"label",20),a.qZA()(),a.TgZ(29,"ul")(30,"li",21)(31,"a",22)(32,"span",23),a._uU(33,"Historia"),a.qZA()()(),a.TgZ(34,"li",24)(35,"a",25)(36,"span",23),a._uU(37,"Modelos"),a.qZA()(),a.TgZ(38,"ul")(39,"li",26)(40,"a",27)(41,"span",23),a._uU(42,"Serie 1"),a.qZA()()(),a.TgZ(43,"li",28)(44,"a",29)(45,"span",23),a._uU(46,"Serie 2"),a.qZA()()(),a.TgZ(47,"li",30)(48,"a",31)(49,"span",23),a._uU(50,"Serie 3"),a.qZA()()(),a.TgZ(51,"li",32)(52,"a",33)(53,"span",23),a._uU(54,"serie 4"),a.qZA()()(),a.TgZ(55,"li",34)(56,"a",35)(57,"span",23),a._uU(58,"serie5"),a.qZA()()(),a.TgZ(59,"li",34)(60,"a",35)(61,"span",23),a._uU(62,"serie6"),a.qZA()()(),a.TgZ(63,"li",34)(64,"a",35)(65,"span",23),a._uU(66,"serie 7 y 8"),a.qZA()()(),a.TgZ(67,"li",34)(68,"a",35)(69,"span",23),a._uU(70,"serie M"),a.qZA()(),a.TgZ(71,"ul")(72,"li",36)(73,"a",37)(74,"span",23),a._uU(75,"M1"),a.qZA()()(),a.TgZ(76,"li",38)(77,"a",39)(78,"span",23),a._uU(79,"M2"),a.qZA()()(),a.TgZ(80,"li",40)(81,"a",41)(82,"span",23),a._uU(83,"M3"),a.qZA()()(),a.TgZ(84,"li",40)(85,"a",41)(86,"span",23),a._uU(87,"M4"),a.qZA()()(),a.TgZ(88,"li",40)(89,"a",41)(90,"span",23),a._uU(91,"M5"),a.qZA()()(),a.TgZ(92,"li",40)(93,"a",41)(94,"span",23),a._uU(95,"M6"),a.qZA()()()()(),a.TgZ(96,"li",42)(97,"a",43)(98,"span",23),a._uU(99,"B\xfasqueda"),a.qZA()()(),a.TgZ(100,"li",44)(101,"a",45)(102,"span",23),a._uU(103,"Control de cambios"),a.qZA()()()()()()()(),a._UZ(104,"br"),a.TgZ(105,"h1",46),a._uU(106,"Historia"),a.qZA(),a._UZ(107,"div",11)(108,"br"),a.TgZ(109,"h2",47),a._uU(110,"Comienzos"),a.qZA(),a.TgZ(111,"p"),a._uU(112,"El predecesor de BMW fue la empresa Rapp Motorenwerke GmbH, fundada en 1913 por Karl Rapp. Cambiaron el nombre en abril de 1917, en primer lugar a BMW GmbH (sociedad limitada) para terminar en BMW AG, un a\xf1o m\xe1s tarde tras su conversi\xf3n en sociedad an\xf3nima. El ingeniero Max Friz destac\xf3 en la joven empresa por desarrollar en 1917 un motor de avi\xf3n de alta compresi\xf3n, gracias a lo cual se pudo reducir la p\xe9rdida de prestaciones en las alturas. Esta innovaci\xf3n tuvo tal aceptaci\xf3n que BMW recibi\xf3 un pedido de 2000 motores por parte de la administraci\xf3n del ej\xe9rcito prusiano. El 17 de junio de 1919 se alcanz\xf3 el r\xe9cord de altura de 9760 metros con un BMW IIIa. El final de la Primera Guerra Mundial y el Tratado de Versalles parecieron ser la fase final de la empresa, ya que el tratado prohib\xeda la fabricaci\xf3n durante 5 a\xf1os de motores de avi\xf3n, por aquel entonces el \xfanico producto de BMW. En 1922 Camillo Castiglioni, accionista principal de la compa\xf1\xeda, abandon\xf3 la empresa para irse a Bayerische Flugzeugwerke AG (BFW), llev\xe1ndose tambi\xe9n los derechos de la marca BMW. La empresa BFW era originaria de la empresa Gustav-Otto-Flugzeugwerk, que fund\xf3 el 7 de marzo de 1916 Gustav Otto, hijo de Nikolaus August Otto, inventor del motor de combusti\xf3n. El 7 de marzo de 1916 se considera, en la descripci\xf3n de la historia de la empresa, como fecha oficial de fundaci\xf3n de BMW. Con la salida de Castiglioni, los Bayerische Flugzeugwerke (BFW) dar\xedan paso a BMW. La empresa, que se llamaba hasta entonces BMW, cambi\xf3 de nombre a S\xfcddeutsche Bremsen-AG y despu\xe9s Knorr-Bremse."),a.qZA(),a._UZ(113,"br"),a.TgZ(114,"h3",47),a._uU(115,"Cronolog\xeda del lanzamiento de productos"),a.qZA(),a._UZ(116,"br"),a.TgZ(117,"ul")(118,"li"),a._uU(119,"1917: Motor de avi\xf3n de altura III a, motor en l\xednea de 6 cilindros, 19 litros, refrigerado con agua, 136 kW (185 CV)."),a.qZA(),a._UZ(120,"br"),a.TgZ(121,"li"),a._uU(122,"2020: En el sal\xf3n de Ginebra BMW ten\xeda intenci\xf3n de presentar el nuevo BMW i4, pero debido al impacto de la pandemia del COVID-19 se cancel\xf3 el evento y por eso se present\xf3 el BMW Concept i4 en internet. Ser\xeda tambi\xe9n el primer modelo con el nuevo logotipo de BMW en el que el anillo exterior ya no era negro sino del color del veh\xedculo. "),a.qZA(),a._UZ(123,"br"),a.TgZ(124,"li"),a._uU(125,"2020: Presentaci\xf3n de la BMW R 18 una crucero en dise\xf1o retro con un motor b\xf3xer de 1,8l."),a.qZA(),a._UZ(126,"br"),a.qZA()(),a._UZ(127,"div",48),a.qZA(),a.TgZ(128,"div",49)(129,"div",50)(130,"div"),a._UZ(131,"img",51),a.qZA(),a.TgZ(132,"div",52),a._UZ(133,"img",53),a.qZA(),a.TgZ(134,"div",52),a._UZ(135,"img",54),a.qZA()()()()(),a.TgZ(136,"div"),a._UZ(137,"app-footer"),a.qZA()()()())},dependencies:[Ph],styles:[".toc[_ngcontent-%COMP%]{display:table;padding:7px;border:1px solid #a2a9b1;background-color:#f8f9fa}.bmw-pag[_ngcontent-%COMP%]{background:#ADA996;background:linear-gradient(to right,#EAEAEA,#DBDBDB,#F2F2F2,#ADA996)}.fmb[_ngcontent-%COMP%]{width:100%;height:200px;display:flex;justify-content:center;align-items:center}.col-md-4[_ngcontent-%COMP%]{text-align:center}.linea[_ngcontent-%COMP%]{border-top:2px solid #07BDC4;margin-bottom:40px;width:80%}.linea2[_ngcontent-%COMP%]{border-top:2px solid #0d0d0e;margin-bottom:40px;width:100%}"]}),n})()},{path:"Bmw",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-bmw"]],decls:504,vars:0,consts:[["cz-shortcut-listen","true",1,"bmw-pag"],[1,"container-fluid","mt-5",2,"padding","0px"],["width","100%","height","950","src","/../assets/3.png","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],[1,"container-fluid"],[1,"fmb"],["width","20%","height","400","src","https://www.racedepartment.com/attachments/bmw-motorsportblack-png.165948/","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],[1,"cabezera-bmw"],[1,"row","g-5",2,"margin","30px"],[1,"col-md-8"],[1,"pb-4","mb-4","fst-italic","border-bottom",2,"text-align","center"],[2,"color","#003D78"],[2,"color","#E22718"],[2,"color","#D6D6D6"],[1,"blog-post"],[1,"blog-post-title","mb-1",2,"color","#07BDC4"],[1,"linea"],[1,"container-sm"],["id","toc","role","navigation","aria-labelledby","mw-toc-heading",1,"toc"],["type","checkbox","role","button","id","toctogglecheckbox",1,"toctogglecheckbox",2,"display","none"],["lang","es","dir","ltr",1,"toctitle"],["id","mw-toc-heading",2,"color","#07BDC4"],[1,"toctogglespan"],["for","toctogglecheckbox",1,"toctogglelabel"],[1,"toclevel-1","tocsection-1"],["href","#Historia"],[1,"toctext"],[1,"toclevel-1","tocsection-2"],["href","#Caracter\xedsticas"],[1,"toclevel-2","tocsection-3"],["href","#Perspectivas_pedag\xf3gicas_de_Wiki"],[1,"toclevel-2","tocsection-4"],["href","#P\xe1ginas_y_edici\xf3n"],[1,"toclevel-2","tocsection-5"],["href","#\xbfPor_qu\xe9_no_HTML?"],[1,"toclevel-2","tocsection-6"],["href","#Est\xe1ndar"],[1,"toclevel-2","tocsection-7"],["href","#Vincular_y_crear_p\xe1ginas"],[1,"toclevel-3","tocsection-8"],["href","#CamelCase"],[1,"toclevel-3","tocsection-9"],["href","#V\xednculos_libres"],[1,"toclevel-3","tocsection-10"],["href","#Interwiki"],[1,"toclevel-2","tocsection-11"],["href","#B\xfasqueda"],[1,"toclevel-2","tocsection-12"],["href","#Control_de_cambios"],[1,"historybmw"],[1,"linea2"],[2,"color","#07BDC4"],[1,"img-fluid",2,"background-image","url('https://hackercar.com/wp-content/uploads/2020/12/bmw-serie-1-promocion-1.jpg')","max-width","100%"],[1,"col-md-5","p-lg-5","mx-auto","my-5"],[1,"display-4","text-end",2,"color","white"],[1,"product-device","shadow-sm","d-none","d-md-block"],[1,"product-device","product-device-2","shadow-sm","d-none","d-md-block"],[1,"historybmw",2,"color","purple"],[1,"col-md-4"],[1,"position-sticky",2,"top","5rem"],["width","30%","height","200px","src","/../assets/bmw-1596080_1920.png",1,"img-fluid"],[2,"padding-top","25px"],["width","40%","height","200px","src","https://seeklogo.com/images/M/m-power-logo-2DD4E3FD1A-seeklogo.com.png",1,"img-fluid"],["width","40%","height","200px","src","https://www.whatspaper.com/wp-content/uploads/2021/05/bmw-wallpaper-whatspaper-9.jpg",1,"img-fluid"]],template:function(t,r){1&t&&(a.TgZ(0,"body",0)(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.TgZ(3,"main",3)(4,"div",4),a._UZ(5,"img",5),a.qZA(),a._UZ(6,"div",6),a.TgZ(7,"div",7)(8,"div",8)(9,"h1",9),a._uU(10," Historia de "),a.TgZ(11,"span",10),a._uU(12,"B"),a.qZA(),a.TgZ(13,"span",11),a._uU(14,"M"),a.qZA(),a.TgZ(15,"span",12),a._uU(16,"W"),a.qZA()(),a.TgZ(17,"article",13)(18,"h2",14),a._uU(19,"BMW"),a.qZA(),a.TgZ(20,"p"),a._uU(21,"BMW pronunciaci\xf3n alemana:[be-em-ve]. es un fabricante alem\xe1n de autom\xf3viles y motocicletas de alta gama y lujo, cuya sede se encuentra en M\xfanich. Sus subsidiarias son Mini, Rolls-Royce y BMW Bank. BMW es el l\xedder mundial en ventas entre los fabricantes de gama alta; compite principalmente con Audi, Volvo, Lexus y Mercedes-Benz, entre otros veh\xedculos de gama alta. "),a.qZA(),a._UZ(22,"br")(23,"div",15),a.TgZ(24,"div",16)(25,"div",17),a._UZ(26,"input",18),a.TgZ(27,"div",19)(28,"h2",20),a._uU(29,"\xcdndice"),a.qZA(),a.TgZ(30,"span",21),a._UZ(31,"label",22),a.qZA()(),a.TgZ(32,"ul")(33,"li",23)(34,"a",24)(35,"span",25),a._uU(36,"Historia"),a.qZA()()(),a.TgZ(37,"li",26)(38,"a",27)(39,"span",25),a._uU(40,"Modelos"),a.qZA()(),a.TgZ(41,"ul")(42,"li",28)(43,"a",29)(44,"span",25),a._uU(45,"Serie 1"),a.qZA()()(),a.TgZ(46,"li",30)(47,"a",31)(48,"span",25),a._uU(49,"Serie 2"),a.qZA()()(),a.TgZ(50,"li",32)(51,"a",33)(52,"span",25),a._uU(53,"Serie 3"),a.qZA()()(),a.TgZ(54,"li",34)(55,"a",35)(56,"span",25),a._uU(57,"serie 4"),a.qZA()()(),a.TgZ(58,"li",36)(59,"a",37)(60,"span",25),a._uU(61,"serie5"),a.qZA()()(),a.TgZ(62,"li",36)(63,"a",37)(64,"span",25),a._uU(65,"serie6"),a.qZA()()(),a.TgZ(66,"li",36)(67,"a",37)(68,"span",25),a._uU(69,"serie 7 y 8"),a.qZA()()(),a.TgZ(70,"li",36)(71,"a",37)(72,"span",25),a._uU(73,"serie M"),a.qZA()(),a.TgZ(74,"ul")(75,"li",38)(76,"a",39)(77,"span",25),a._uU(78,"M1"),a.qZA()()(),a.TgZ(79,"li",40)(80,"a",41)(81,"span",25),a._uU(82,"M2"),a.qZA()()(),a.TgZ(83,"li",42)(84,"a",43)(85,"span",25),a._uU(86,"M3"),a.qZA()()(),a.TgZ(87,"li",42)(88,"a",43)(89,"span",25),a._uU(90,"M4"),a.qZA()()(),a.TgZ(91,"li",42)(92,"a",43)(93,"span",25),a._uU(94,"M5"),a.qZA()()(),a.TgZ(95,"li",42)(96,"a",43)(97,"span",25),a._uU(98,"M6"),a.qZA()()()()(),a.TgZ(99,"li",44)(100,"a",45)(101,"span",25),a._uU(102,"B\xfasqueda"),a.qZA()()(),a.TgZ(103,"li",46)(104,"a",47)(105,"span",25),a._uU(106,"Control de cambios"),a.qZA()()()()()()()(),a._UZ(107,"br")(108,"br"),a.TgZ(109,"h1",48),a._uU(110,"Historia"),a.qZA(),a._UZ(111,"div",49)(112,"br"),a.TgZ(113,"h2",50),a._uU(114,"Comienzos"),a.qZA(),a.TgZ(115,"p"),a._uU(116,"El predecesor de BMW fue la empresa Rapp Motorenwerke GmbH, fundada en 1913 por Karl Rapp. Cambiaron el nombre en abril de 1917, en primer lugar a BMW GmbH (sociedad limitada) para terminar en BMW AG, un a\xf1o m\xe1s tarde tras su conversi\xf3n en sociedad an\xf3nima. El ingeniero Max Friz destac\xf3 en la joven empresa por desarrollar en 1917 un motor de avi\xf3n de alta compresi\xf3n, gracias a lo cual se pudo reducir la p\xe9rdida de prestaciones en las alturas. Esta innovaci\xf3n tuvo tal aceptaci\xf3n que BMW recibi\xf3 un pedido de 2000 motores por parte de la administraci\xf3n del ej\xe9rcito prusiano. El 17 de junio de 1919 se alcanz\xf3 el r\xe9cord de altura de 9760 metros con un BMW IIIa. El final de la Primera Guerra Mundial y el Tratado de Versalles parecieron ser la fase final de la empresa, ya que el tratado prohib\xeda la fabricaci\xf3n durante 5 a\xf1os de motores de avi\xf3n, por aquel entonces el \xfanico producto de BMW. En 1922 Camillo Castiglioni, accionista principal de la compa\xf1\xeda, abandon\xf3 la empresa para irse a Bayerische Flugzeugwerke AG (BFW), llev\xe1ndose tambi\xe9n los derechos de la marca BMW. La empresa BFW era originaria de la empresa Gustav-Otto-Flugzeugwerk, que fund\xf3 el 7 de marzo de 1916 Gustav Otto, hijo de Nikolaus August Otto, inventor del motor de combusti\xf3n. El 7 de marzo de 1916 se considera, en la descripci\xf3n de la historia de la empresa, como fecha oficial de fundaci\xf3n de BMW. Con la salida de Castiglioni, los Bayerische Flugzeugwerke (BFW) dar\xedan paso a BMW. La empresa, que se llamaba hasta entonces BMW, cambi\xf3 de nombre a S\xfcddeutsche Bremsen-AG y despu\xe9s Knorr-Bremse."),a.qZA(),a._UZ(117,"br"),a.TgZ(118,"h3",50),a._uU(119,"Cronolog\xeda del lanzamiento de productos"),a.qZA(),a._UZ(120,"br"),a.TgZ(121,"ul")(122,"li"),a._uU(123,"1917: Motor de avi\xf3n de altura III a, motor en l\xednea de 6 cilindros, 19 litros, refrigerado con agua, 136 kW (185 CV)."),a.qZA(),a._UZ(124,"br"),a.TgZ(125,"li"),a._uU(126,"1918: Motor de avi\xf3n de altura IV, motor en l\xednea de 6 cilindros, 22,9 litros, refrigerado con agua, 184 kW (250 CV)."),a.qZA(),a._UZ(127,"br"),a.TgZ(128,"li"),a._uU(129,"1919: Motor para veh\xedculo pesado M4 A1, motor en l\xednea de 4 cilindros, 8000 cm\xb3, \xe1rbol de levas en la parte superior, 44 kW (60 CV)."),a.qZA(),a._UZ(130,"br"),a.TgZ(131,"li"),a._uU(132,"1920: Motor para barcos M4 A12, motor en l\xednea de 4 cilindros, 8000 cm\xb3, \xe1rbol de levas en la parte superior y con un mecanismo de inversi\xf3n para el cambio de sentido de giro, 44 kW (60 CV)."),a.qZA(),a._UZ(133,"br"),a.TgZ(134,"li"),a._uU(135,"1921: Motor compuesto para autom\xf3viles, motor en l\xednea de 4 cilindros, 8000 cm\xb3, \xe1rbol de levas en la parte superior, transmisi\xf3n de dos marchas, 44 kW (60 CV)."),a.qZA(),a._UZ(136,"br"),a.TgZ(137,"li"),a._uU(138,'1922: Peque\xf1o motor M2 B15, Motor "boxer" de 2 cilindros, 500 cm\xb3, primera fabricaci\xf3n en serie de un motor "boxer", 4,8 kW (6,5 CV).'),a.qZA(),a._UZ(139,"br"),a.TgZ(140,"li"),a._uU(141,'1923: Motocicleta R 32 con un motor "boxer" con dos cilindros montados horizontalmente en ambos lados, 500 cm\xb3, transmisi\xf3n de 3 marchas, transmisi\xf3n card\xe1n, con un marco de tubos de acero dobles (primera motocicleta de este tipo), 6,25 kW (8,5 CV).'),a.qZA(),a._UZ(142,"br"),a.TgZ(143,"li"),a._uU(144,"1924: Producci\xf3n en serie del avi\xf3n de motor de 6 cilindros IV, 22,9 litros, entonces con 228 kW (310 CV)."),a.qZA(),a._UZ(145,"br"),a.TgZ(146,"li"),a._uU(147,'1925: Motocicleta R 37 con motor "boxer" de dos cilindros de acero controlados por la parte superior, 500 cm\xb3, 12 kW (16 CV).'),a.qZA(),a._UZ(148,"br"),a.TgZ(149,"li"),a._uU(150,"1925: Motocicleta R 39 con motor de un cilindro, 250 cm\xb3, 4,8 kW (6,5 CV), primer motor de un \xfanico cilindro de BMW."),a.qZA(),a._UZ(151,"br"),a.TgZ(152,"li"),a._uU(153,"1926: Motor de aviaci\xf3n V, 6 cilindros en l\xednea, 24,3 litros, 235 kW (320 CV), primer montaje en bloque."),a.qZA(),a._UZ(154,"br"),a.TgZ(155,"li"),a._uU(156,"1926: Motor de aviaci\xf3n V a, 6 cilindros en l\xednea, 22,9 litros, 235 kW (320 CV)."),a.qZA(),a._UZ(157,"br"),a.TgZ(158,"li"),a._uU(159,"1926: Motor de aviaci\xf3n VI, 12 cilindros en V, 60 grados, 46,9 litros, 405 kW (550 CV), fue el motor de aviaci\xf3n refrigerado con agua m\xe1s producido por BMW."),a.qZA(),a._UZ(160,"br"),a.TgZ(161,"li"),a._uU(162,'1926: Motocicleta R 42 con motor "boxer" de dos cilindros, 500 cm\xb3, 8,8 kW (12 CV).'),a.qZA(),a._UZ(163,"br"),a.TgZ(164,"li"),a._uU(165,"1927: Motor de aviaci\xf3n VII a, 12 cilindros en V a 60 grados, 46,9 litros, 441 kW (600 CV)."),a.qZA(),a._UZ(166,"br"),a.TgZ(167,"li"),a._uU(168,'1927: Motocicleta R 47 con motor "boxer" de dos cilindros, 500 cm\xb3, 13 kW (18 CV).'),a.qZA(),a._UZ(169,"br"),a.TgZ(170,"li"),a._uU(171,"1928: Motor de aviaci\xf3n VIII U 6 cilindros en l\xednea, 22,9 litros, 390 kW (530 CV), con transmisi\xf3n en la parte inferior."),a.qZA(),a._UZ(172,"br"),a.TgZ(173,"li"),a._uU(174,'1928: Motor de aviaci\xf3n "BMW-Hornet", motor de estrella de 9 cilindros, 27,7 litros, 386 kW (525 CV), refrigerado con aire (bajo licencia). '),a.qZA(),a._UZ(175,"br"),a.TgZ(176,"li"),a._uU(177,'1928: Motocicleta R 52 con motor "boxer" de dos cilindros, 500 cm\xb3, 8,8 kW (12 CV). '),a.qZA(),a._UZ(178,"br"),a.TgZ(179,"li"),a._uU(180,'1928: Motocicleta R 57 con motor "boxer" de dos cilindros, 500 cm\xb3, 13 kW (18 CV). '),a.qZA(),a._UZ(181,"br"),a.TgZ(182,"li"),a._uU(183,'1928: Motocicleta R 62 con motor "boxer" de dos cilindros, 750 cm\xb3, 13 kW (18 CV) (primer veh\xedculo con motor de 750 cm\xb3). '),a.qZA(),a._UZ(184,"br"),a.TgZ(185,"li"),a._uU(186,"1929: Primer autom\xf3vil BMW con motor de cuatro cilindros, 750 cm\xb3, 11 kW (15 CV), bajo licencia. "),a.qZA(),a._UZ(187,"br"),a.TgZ(188,"li"),a._uU(189,'1929: Motocicleta R 63 con motor "boxer" de dos cilindros, 750 cm\xb3, 18 kW (24 CV). '),a.qZA(),a._UZ(190,"br"),a.TgZ(191,"li"),a._uU(192,"1930: Motor de aviaci\xf3n X a, motor de estrella de 5 cilindros, 2,9 litros, 50 kW (68 CV), refrigerado con aire. "),a.qZA(),a._UZ(193,"br"),a.TgZ(194,"li"),a._uU(195,'1930: Motocicleta R 11 con motor "boxer" de dos cilindros, 750 cm\xb3, 15 kW (20 CV), primer marco de acero prensado. '),a.qZA(),a._UZ(196,"br"),a.TgZ(197,"li"),a._uU(198,'1930: Motocicleta R 16 con motor "boxer" de dos cilindros, 750 cm\xb3, 24 kW (33 CV). '),a.qZA(),a._UZ(199,"br"),a.TgZ(200,"li"),a._uU(201,"1931: Motocicleta R 2 con motor de un \xfanico cilindro, 200 cm\xb3, 4,4 kW (6 CV). "),a.qZA(),a._UZ(202,"br"),a.TgZ(203,"li"),a._uU(204,"1932: Autom\xf3viles AM1 hasta AM4 con 4 cilindros en l\xednea, 795 cm\xb3, 14,7 (20 CV), primera construcci\xf3n propia. "),a.qZA(),a._UZ(205,"br"),a.TgZ(206,"li"),a._uU(207,"1932: Motocicleta R 4 con motor de un \xfanico cilindro, 400 cm\xb3, 10 kW (14 CV). "),a.qZA(),a._UZ(208,"br"),a.TgZ(209,"li"),a._uU(210,"1933: Veh\xedculo con 3 ruedas y motor de un cilindro, 200 o 400 cm\xb3, 4,4 oder 10 kW (6 o. 14 CV), transmisi\xf3n card\xe1n. "),a.qZA(),a._UZ(211,"br"),a.TgZ(212,"li"),a._uU(213,"1933: Autom\xf3vil 303 de 6 cilindros en l\xednea, 1175 cm\xb3, 22 kW (30 CV), primer autom\xf3vil BMW con motor de 6 cilindros. "),a.qZA(),a._UZ(214,"br"),a.TgZ(215,"li"),a._uU(216,"1934: Autom\xf3vil 309 con motor de 4 cilindros en l\xednea, 875 cm\xb3, 16 kW (22 CV). "),a.qZA(),a._UZ(217,"br"),a.TgZ(218,"li"),a._uU(219,"1934: Autom\xf3vil 315 con motor de 6 cilindros en l\xednea, 1.490 cm\xb3, 25 kW (34 CV). "),a.qZA(),a._UZ(220,"br"),a.TgZ(221,"li"),a._uU(222,"1935: Autom\xf3vil 315/1 con motor de 6 cilindros en l\xednea, 1.490 cm\xb3, 29 kW (40 CV). "),a.qZA(),a._UZ(223,"br"),a.TgZ(224,"li"),a._uU(225,"1935: Autom\xf3viles 319 y 319/1 con motor de 6 cilindros en l\xednea, 1.911 cm\xb3, 33 o 40 kW (45 o. 55 CV). "),a.qZA(),a._UZ(226,"br"),a.TgZ(227,"li"),a._uU(228,"1935: Autom\xf3vil 320 con motor de 6 cilindros en l\xednea, 1975 cm\xb3, 33 kW (45 CV). "),a.qZA(),a._UZ(229,"br"),a.TgZ(230,"li"),a._uU(231,'1935: Motocicleta R 12 con motor "boxer" de dos cilindros, 750 cm\xb3, 20 PS. '),a.qZA(),a._UZ(232,"br"),a.TgZ(233,"li"),a._uU(234,'1935: Motocicleta R 17 con motor "boxer" de dos cilindros, 750 cm\xb3, 24 kW (33 CV), (Introducci\xf3n del amortiguador telesc\xf3pico para las ruedas delanteras in cuadro de acero prensado). '),a.qZA(),a._UZ(235,"br"),a.TgZ(236,"li"),a._uU(237,"1936: Autom\xf3vil 326 con motor de 6 cilindros en l\xednea, 1975 cm\xb3, 38 kW (50 CV), con amortiguaci\xf3n de la barra de torsi\xf3n en el eje trasero. "),a.qZA(),a._UZ(238,"br"),a.TgZ(239,"li"),a._uU(240,"1936: BMW 328 Sport con motor de 6 cilindros en l\xednea, 1975 cm\xb3, 59 kW (80 CV). "),a.qZA(),a._UZ(241,"br"),a.TgZ(242,"li"),a._uU(243,"1936: Autom\xf3vil 329/cabrio con motor de 6 cilindros en l\xednea, 1975 cm\xb3, 33 kW (45 CV). "),a.qZA(),a._UZ(244,"br"),a.TgZ(245,"li"),a._uU(246,"1936: Motocicleta R 3 con motor de un cilindro, 300 cm\xb3, 8,1 kW (11 CV). "),a.qZA(),a._UZ(247,"br"),a.TgZ(248,"li"),a._uU(249,"1936: Motocicleta R 20 con motor de un cilindro, 200 cm\xb3, 5,9 kW (8 CV). "),a.qZA(),a._UZ(250,"br"),a.TgZ(251,"li"),a._uU(252,'1936: Motocicleta R 5 con motor "boxer" de dos cilindros, 500 cm\xb3, 18 kW (24 CV). '),a.qZA(),a._UZ(253,"br"),a.TgZ(254,"li"),a._uU(255,'1936: Motocicleta R 6 con motor "boxer" de dos cilindros, 600 cm\xb3, 13 kW (18 CV), (Nueva introducci\xf3n del marco de tubos de acero dobles). '),a.qZA(),a._UZ(256,"br"),a.TgZ(257,"li"),a._uU(258,"1937: Autom\xf3vil 327 cup\xe9 y descapotable con motor de 6 cilindros en l\xednea, 1975 cm\xb3, 40 kW (55 CV). "),a.qZA(),a._UZ(259,"br"),a.TgZ(260,"li"),a._uU(261,"1937: Todoterreno 325 con motor de 6 cilindros en l\xednea, 1975 cm\xb3, 38 kW (50 CV), direcci\xf3n y tracci\xf3n en todas las ruedas (en contraste con la direcci\xf3n del eje delantero y tracci\xf3n \xfanicamente trasera). "),a.qZA(),a._UZ(262,"br"),a.TgZ(263,"li"),a._uU(264,"1937: Motocicleta R 35 con motor de un cilindro, 350 cm\xb3, 10 kW (14 CV). "),a.qZA(),a._UZ(265,"br"),a.TgZ(266,"li"),a._uU(267,'1938: Motocicleta R 51, R 61, R 66, R 71 con motor "boxer" de dos cilindros, por primera vez con rueda trasera amortiguada (amortiguaci\xf3n recta) '),a.qZA(),a._UZ(268,"br"),a.TgZ(269,"li"),a._uU(270,"1939: Comienzo del desarrollo del reactor BMW 003 para el avi\xf3n caza Me 262. "),a.qZA(),a._UZ(271,"br"),a.TgZ(272,"li"),a._uU(273,"1940: Motocicleta R 75 con sidecar. "),a.qZA(),a._UZ(274,"br"),a.TgZ(275,"li"),a._uU(276,'1955: Autom\xf3vil deportivo BMW 507, con carrocer\xeda "italiana", con motor de 8 cilindros en V para el mercado estadounidense, se construyeron 258 unidades. '),a.qZA(),a._UZ(277,"br"),a.TgZ(278,"li"),a._uU(279,'1961: Presentaci\xf3n del BMW 1500 ("Nueva categor\xeda") en la feria IAA, primer veh\xedculo de la era dorada de BMW. '),a.qZA(),a._UZ(280,"br"),a.TgZ(281,"li"),a._uU(282,"1965: BMW 700 LS cup\xe9 "),a.qZA(),a._UZ(283,"br"),a.TgZ(284,"li"),a._uU(285,"1966: Presentaci\xf3n del BMW 1600-2, dos a\xf1os despu\xe9s saldr\xeda al mercado el legendario BMW 2002 "),a.qZA(),a._UZ(286,"br"),a.TgZ(287,"li"),a._uU(288,"1973: La tecnolog\xeda turbo comienza a producirse en serie (2002 turbo) "),a.qZA(),a._UZ(289,"br"),a.TgZ(290,"li"),a._uU(291,"1980: Con el R 80 G/S ser\xeda la primera producci\xf3n en serie de una motocicleta de enduro apta para largos recorridos (en alem\xe1n se conocen como Reiseenduro)El modelo tuvo una gran acogida asegurando la producci\xf3n de motocicletas por parte de BMW. "),a.qZA(),a._UZ(292,"br"),a.TgZ(293,"li"),a._uU(294,"1983: L\xednea de motocicletas K 100 con motor en l\xednea de cuatro cilindros transversales, 1000 cm\xb3, 90 PS "),a.qZA(),a._UZ(295,"br"),a.TgZ(296,"li"),a._uU(297,"1985: L\xednea de motocicletas K 75 con motor en l\xednea de tres cilindros transversales, 750 cm\xb3, 55 kW (75 CV) "),a.qZA(),a._UZ(298,"br"),a.TgZ(299,"li"),a._uU(300,"1987: Presentaci\xf3n del primer autom\xf3vil en serie de 12 cilindros (BMW M70) de la posguerra, el BMW E32 750i "),a.qZA(),a._UZ(301,"br"),a.TgZ(302,"li"),a._uU(303,"1989: Comienza la producci\xf3n del futurista roadster BMW Z1 del que se produjeron exactamente 8000 unidades en dos a\xf1os. "),a.qZA(),a._UZ(304,"br"),a.TgZ(305,"li"),a._uU(306,"1991: Introducci\xf3n de las luces xen\xf3n en el sector del autom\xf3vil en la serie 7 (E32). "),a.qZA(),a._UZ(307,"br"),a.TgZ(308,"li"),a._uU(309,'1994: Reemplazo del tradicional motor "boxer" de dos cilindros y dos v\xe1lvulas para motocicletas por un agregado de cuatro v\xe1lvulas para cumplir con las directivas de emisi\xf3n de CO2. '),a.qZA(),a._UZ(310,"br"),a.TgZ(311,"li"),a._uU(312,"1994: Con el compacto E36 de sencilla construcci\xf3n y costes reducidos BMW entra en el sector de la clase de compactos. "),a.qZA(),a._UZ(313,"br"),a.TgZ(314,"li"),a._uU(315,"1994: La serie E32 es reemplazada por una nueva serie 7 (E38). Inicialmente con motores de 6 y 8 cilindros. Primer navegador integrado en el veh\xedculo con las siguientes funciones: navegaci\xf3n, DSP, televisi\xf3n, radio y ordenador de a bordo. "),a.qZA(),a._UZ(316,"br"),a.TgZ(317,"li"),a._uU(318,'1995: Presentaci\xf3n del Z3 en la pel\xedcula de James Bond "GoldenEye". '),a.qZA(),a._UZ(319,"br"),a.TgZ(320,"li"),a._uU(321,"1998: El primer Sports Activity Vehicle (todoterreno deportivo) de BMW, el X5 sale al mercado. "),a.qZA(),a._UZ(322,"br"),a.TgZ(323,"li"),a._uU(324,"2001: Introducci\xf3n del concepto electr\xf3nico de manejo iDrive en la serie 7 (E65/66). "),a.qZA(),a._UZ(325,"br"),a.TgZ(326,"li"),a._uU(327,"2002: El roadster Z4 sale al mercado. "),a.qZA(),a._UZ(328,"br"),a.TgZ(329,"li"),a._uU(330,"2004: Se introduce el primer BMW Serie 1. "),a.qZA(),a._UZ(331,"br"),a.TgZ(332,"li"),a._uU(333,"2006: En el Sal\xf3n del autom\xf3vil de Ginebra se presenta el nuevo motor turbo de BMW. Tiene una potencia de 306 CV y una cupla m\xe1xima de 400 Nm. "),a.qZA(),a._UZ(334,"br"),a.TgZ(335,"li"),a._uU(336,"2006: Se presenta el Z4 cup\xe9. "),a.qZA(),a._UZ(337,"br"),a.TgZ(338,"li"),a._uU(339,"2006: El nuevo BMW X5 ofrece hasta 7 siete asientos. "),a.qZA(),a._UZ(340,"br"),a.TgZ(341,"li"),a._uU(342,"2007: La versi\xf3n de hidr\xf3geno de la serie 7 se fabrica en serie de forma limitada. "),a.qZA(),a._UZ(343,"br"),a.TgZ(344,"li"),a._uU(345,"2007: La serie 3 cabrio sale al mercado, por primera vez, con cubierta de metal ligero de tres piezas. "),a.qZA(),a._UZ(346,"br"),a.TgZ(347,"li"),a._uU(348,"2007: Se ampl\xeda la serie 1 con una variante de 3 puertas, un cup\xe9 y un descapotable. "),a.qZA(),a._UZ(349,"br"),a.TgZ(350,"li"),a._uU(351,"2008: Sale al mercado el X6, el primer todoterreno cup\xe9 abriendo un nuevo nicho en el mercado. "),a.qZA(),a._UZ(352,"br"),a.TgZ(353,"li"),a._uU(354,"2008: Facelift de la Serie 3. "),a.qZA(),a._UZ(355,"br"),a.TgZ(356,"li"),a._uU(357,"2008: Se presenta el BMW Concept X1 en el Sal\xf3n del Autom\xf3vil de Par\xeds. "),a.qZA(),a._UZ(358,"br"),a.TgZ(359,"li"),a._uU(360,"2008: Se presenta la Serie 7. "),a.qZA(),a._UZ(361,"br"),a.TgZ(362,"li"),a._uU(363,"2009: Se presenta un nuevo segmento de veh\xedculo, la Serie 5 Gran Turismo "),a.qZA(),a._UZ(364,"br"),a.TgZ(365,"li"),a._uU(366,"2009: Se lanza oficialmente el BMW X1 "),a.qZA(),a._UZ(367,"br"),a.TgZ(368,"li"),a._uU(369,"2009: Presentaci\xf3n mundial de la serie 5 Gran Turismo, X1 y Concept Vision Efficient Dynamics en el IAA de Fr\xe1ncfort. "),a.qZA(),a._UZ(370,"br"),a.TgZ(371,"li"),a._uU(372,"2009: Persentaci\xf3n de la nueva serie 5 (F10) . [de los mejores motores de bmw] "),a.qZA(),a._UZ(373,"br"),a.TgZ(374,"li"),a._uU(375,"2010: Presentaci\xf3n mundial de BMW Concept ActiveE en la NAIAS. "),a.qZA(),a._UZ(376,"br"),a.TgZ(377,"li"),a._uU(378,"2010: Facelift de las versiones cabrios y cup\xe9 de la serie 3, as\xed como de los X5 y X6. "),a.qZA(),a._UZ(379,"br"),a.TgZ(380,"li"),a._uU(381,"2010: Presentaci\xf3n mundial del BMW Gran Cup\xe9. "),a.qZA(),a._UZ(382,"br"),a.TgZ(383,"li"),a._uU(384,"2011: Presentaci\xf3n en la IAA de la nueva serie 1 (F20). "),a.qZA(),a._UZ(385,"br"),a.TgZ(386,"li"),a._uU(387,"2011: Presentaci\xf3n oficial de la nueva serie 3 (F30). "),a.qZA(),a._UZ(388,"br"),a.TgZ(389,"li"),a._uU(390,"2012: Lanzamiento de la serie 4 cup\xe9 (F32)"),a.qZA(),a._UZ(391,"br"),a.TgZ(392,"li"),a._uU(393,"2013: Presentaci\xf3n oficial de la serie 3 Gran Turismo. "),a.qZA(),a._UZ(394,"br"),a.TgZ(395,"li"),a._uU(396,"2013: Presentaci\xf3n oficial de la versi\xf3n cup\xe9 del SUV X4, una variante de tama\xf1o m\xe1s reducido que el X618\u200b "),a.qZA(),a._UZ(397,"br"),a.TgZ(398,"li"),a._uU(399,"2013: Presentaci\xf3n en Londres, Pek\xedn y Nueva Yorl del veh\xedculo el\xe9ctrico BMW i3 (I01), el primer veh\xedculo producido en serie con una cabina de pol\xedmero reforzado con fibra de carbono (CFK)19\u200b "),a.qZA(),a._UZ(400,"br"),a.TgZ(401,"li"),a._uU(402,"2013: Presentaci\xf3n del deportivo h\xedbrido el\xe9ctrico enchufable BMW i8"),a.qZA(),a._UZ(403,"br"),a.TgZ(404,"li"),a._uU(405,"2014: Introducci\xf3n de la serie BMW 4 Gran Cup\xe9 (F36)"),a.qZA(),a._UZ(406,"br"),a.TgZ(407,"li"),a._uU(408,"2015: Se muestra el BMW 5 GT con pila de combustible del Toyota Mirai, con un eje trasero de propulsi\xf3n el\xe9ctrica de 180 kW (245 PS).21\u200b "),a.qZA(),a._UZ(409,"br"),a.TgZ(410,"li"),a._uU(411,"2015: Presentaci\xf3n de la serie 7 (G11) en la IAA. "),a.qZA(),a._UZ(412,"br"),a.TgZ(413,"li"),a._uU(414,"2016/7: Presentaci\xf3n de la renovada serie 5 (G30/G31). "),a.qZA(),a._UZ(415,"br"),a.TgZ(416,"li"),a._uU(417,"2017: Presentaci\xf3n del concepto de la serie 8 cup\xe9. "),a.qZA(),a._UZ(418,"br"),a.TgZ(419,"li"),a._uU(420,"2017: Presentaci\xf3n en la IAA de la nueva generaci\xf3n del X3 (G01), con un coeficiente de arrastre de 0.29"),a.qZA(),a._UZ(421,"br"),a.TgZ(422,"li"),a._uU(423,"2017: Presentaci\xf3n del i8 Roadster en el LA Auto Show"),a.qZA(),a._UZ(424,"br"),a.TgZ(425,"li"),a._uU(426,"2018: Introducci\xf3n en serie del X2 (F39) y de la nueva generaci\xf3n del X4 (G02) En el sal\xf3n del Autom\xf3vil de Pek\xedn se presenta por primera vez el concepto el\xe9ctrico BMW iX3, que supondr\xeda la introducci\xf3n de la quinta generaci\xf3n de tracci\xf3n el\xe9ctrica de la marca. "),a.qZA(),a._UZ(427,"br"),a.TgZ(428,"li"),a._uU(429,"2018: Presentaci\xf3n de la tercera generaci\xf3n del Z4"),a.qZA(),a._UZ(430,"br"),a.TgZ(431,"li"),a._uU(432,"2018: Presentaci\xf3n en el sal\xf3n de Par\xeds de la s\xe9ptima generaci\xf3n de la serie 3 berlina, que estar\xeda disponible en los concesionarios un a\xf1o despu\xe9s, y del nuevo X5."),a.qZA(),a._UZ(433,"br"),a.TgZ(434,"li"),a._uU(435,"2018: Presentaci\xf3n del X7, el hasta entonces SUV de BMW de mayor tama\xf1o y de la serie 8 cabrio."),a.qZA(),a._UZ(436,"br"),a.TgZ(437,"li"),a._uU(438,"2019: Presentaci\xf3n en la IAA de la la tercera generaci\xf3n de la serie 1 as\xed como un adelanto de la nueva serie 4 cup\xe9 de dos puertas."),a.qZA(),a._UZ(439,"br"),a.TgZ(440,"li"),a._uU(441,"2020: En el sal\xf3n de Ginebra BMW ten\xeda intenci\xf3n de presentar el nuevo BMW i4, pero debido al impacto de la pandemia del COVID-19 se cancel\xf3 el evento y por eso se present\xf3 el BMW Concept i4 en internet. Ser\xeda tambi\xe9n el primer modelo con el nuevo logotipo de BMW en el que el anillo exterior ya no era negro sino del color del veh\xedculo. "),a.qZA(),a._UZ(442,"br"),a.TgZ(443,"li"),a._uU(444,"2020: Presentaci\xf3n de la BMW R 18 una crucero en dise\xf1o retro con un motor b\xf3xer de 1,8l."),a.qZA(),a._UZ(445,"br"),a.qZA()(),a._UZ(446,"div",15),a.TgZ(447,"div",51)(448,"div",52)(449,"h1",53),a._uU(450,"BMW Serie 1"),a.qZA(),a._UZ(451,"br")(452,"br")(453,"br")(454,"br")(455,"br")(456,"br")(457,"br")(458,"br")(459,"br")(460,"br")(461,"br")(462,"br"),a.qZA(),a._UZ(463,"div",54)(464,"div",55),a.qZA(),a.TgZ(465,"article",13)(466,"h2",14),a._uU(467,"BMW"),a.qZA(),a.TgZ(468,"p"),a._uU(469,"BMW pronunciaci\xf3n alemana:[be-em-ve]. es un fabricante alem\xe1n de autom\xf3viles y motocicletas de alta gama y lujo, cuya sede se encuentra en M\xfanich. Sus subsidiarias son Mini, Rolls-Royce y BMW Bank. BMW es el l\xedder mundial en ventas entre los fabricantes de gama alta; compite principalmente con Audi, Volvo, Lexus y Mercedes-Benz, entre otros veh\xedculos de gama alta. "),a.qZA(),a._UZ(470,"br")(471,"div",15),a.TgZ(472,"h1",56),a._uU(473,"Historia"),a.qZA(),a._UZ(474,"div",49)(475,"br"),a.TgZ(476,"h2",50),a._uU(477,"Comienzos"),a.qZA(),a.TgZ(478,"p"),a._uU(479,"El predecesor de BMW fue la empresa Rapp Motorenwerke GmbH, fundada en 1913 por Karl Rapp. Cambiaron el nombre en abril de 1917, en primer lugar a BMW GmbH (sociedad limitada) para terminar en BMW AG, un a\xf1o m\xe1s tarde tras su conversi\xf3n en sociedad an\xf3nima. El ingeniero Max Friz destac\xf3 en la joven empresa por desarrollar en 1917 un motor de avi\xf3n de alta compresi\xf3n, gracias a lo cual se pudo reducir la p\xe9rdida de prestaciones en las alturas. Esta innovaci\xf3n tuvo tal aceptaci\xf3n que BMW recibi\xf3 un pedido de 2000 motores por parte de la administraci\xf3n del ej\xe9rcito prusiano. El 17 de junio de 1919 se alcanz\xf3 el r\xe9cord de altura de 9760 metros con un BMW IIIa. El final de la Primera Guerra Mundial y el Tratado de Versalles parecieron ser la fase final de la empresa, ya que el tratado prohib\xeda la fabricaci\xf3n durante 5 a\xf1os de motores de avi\xf3n, por aquel entonces el \xfanico producto de BMW. En 1922 Camillo Castiglioni, accionista principal de la compa\xf1\xeda, abandon\xf3 la empresa para irse a Bayerische Flugzeugwerke AG (BFW), llev\xe1ndose tambi\xe9n los derechos de la marca BMW. La empresa BFW era originaria de la empresa Gustav-Otto-Flugzeugwerk, que fund\xf3 el 7 de marzo de 1916 Gustav Otto, hijo de Nikolaus August Otto, inventor del motor de combusti\xf3n. El 7 de marzo de 1916 se considera, en la descripci\xf3n de la historia de la empresa, como fecha oficial de fundaci\xf3n de BMW. Con la salida de Castiglioni, los Bayerische Flugzeugwerke (BFW) dar\xedan paso a BMW. La empresa, que se llamaba hasta entonces BMW, cambi\xf3 de nombre a S\xfcddeutsche Bremsen-AG y despu\xe9s Knorr-Bremse."),a.qZA(),a._UZ(480,"br"),a.TgZ(481,"h3",50),a._uU(482,"Cronolog\xeda del lanzamiento de productos"),a.qZA(),a._UZ(483,"br"),a.TgZ(484,"ul")(485,"li"),a._uU(486,"1917: Motor de avi\xf3n de altura III a, motor en l\xednea de 6 cilindros, 19 litros, refrigerado con agua, 136 kW (185 CV)."),a.qZA(),a._UZ(487,"br"),a.TgZ(488,"li"),a._uU(489,"2020: En el sal\xf3n de Ginebra BMW ten\xeda intenci\xf3n de presentar el nuevo BMW i4, pero debido al impacto de la pandemia del COVID-19 se cancel\xf3 el evento y por eso se present\xf3 el BMW Concept i4 en internet. Ser\xeda tambi\xe9n el primer modelo con el nuevo logotipo de BMW en el que el anillo exterior ya no era negro sino del color del veh\xedculo. "),a.qZA(),a._UZ(490,"br"),a.TgZ(491,"li"),a._uU(492,"2020: Presentaci\xf3n de la BMW R 18 una crucero en dise\xf1o retro con un motor b\xf3xer de 1,8l."),a.qZA(),a._UZ(493,"br"),a.qZA()()(),a.TgZ(494,"div",57)(495,"div",58)(496,"div"),a._UZ(497,"img",59),a.qZA(),a.TgZ(498,"div",60),a._UZ(499,"img",61),a.qZA(),a.TgZ(500,"div",60),a._UZ(501,"img",62),a.qZA()()()()(),a.TgZ(502,"div"),a._UZ(503,"app-footer"),a.qZA()())},dependencies:[Ph],styles:[".bmw-pag[_ngcontent-%COMP%]{background:#ADA996;background:linear-gradient(to right,#EAEAEA,#DBDBDB,#F2F2F2,#ADA996)}.cabezera-bmw[_ngcontent-%COMP%]{width:100%;height:300px;background-image:url(https://cdn.artphotolimited.com/images/5aab8b01b9731c22d2e05761/1000x1000/1964-24-hours-of-le-mans.jpg);opacity:.6;background-position:50%}.fmb[_ngcontent-%COMP%]{width:100%;height:200px;display:flex;justify-content:center;align-items:center}.col-md-4[_ngcontent-%COMP%]{text-align:center}.linea[_ngcontent-%COMP%]{border-top:2px solid #dfd470;margin-bottom:40px;width:80%}.linea2[_ngcontent-%COMP%]{border-top:2px solid #0d0d0e;margin-bottom:40px;width:100%}"]}),n})()},{path:"Porsche",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-porsche"]],decls:138,vars:0,consts:[["cz-shortcut-listen","true","sytle","width:100%; height:100%;"],[1,"container-fluid","mt-5",2,"padding","0px"],["width","100%","height","950","src","/../assets/prsc.png","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],["cz-shortcut-listen","true",1,"bmw-pag"],[1,"container-fluid"],[1,"fmb"],["width","20%","height","400","src","https://vehlogo.com/wp-content/uploads/2021/03/porsche_911_carrera_logo.png","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"img-fluid"],[1,"row","g-5",2,"margin","30px"],[1,"col-md-8"],[1,"pb-4","mb-4"],[2,"color","#E22718"],[1,"linea2"],[1,"blog-post"],[1,"blog-post-title","mb-1",2,"color","#07BDC4"],[1,"container-sm"],["id","toc","role","navigation","aria-labelledby","mw-toc-heading",1,"toc"],["type","checkbox","role","button","id","toctogglecheckbox",1,"toctogglecheckbox",2,"display","none"],["lang","es","dir","ltr",1,"toctitle"],["id","mw-toc-heading",2,"color","#07BDC4"],[1,"toctogglespan"],["for","toctogglecheckbox",1,"toctogglelabel"],[1,"toclevel-1","tocsection-1"],["href","#Historia"],[1,"toctext"],[1,"toclevel-1","tocsection-2"],["href","#Caracter\xedsticas"],[1,"toclevel-2","tocsection-3"],["href","#Perspectivas_pedag\xf3gicas_de_Wiki"],[1,"toclevel-2","tocsection-4"],["href","#P\xe1ginas_y_edici\xf3n"],[1,"toclevel-2","tocsection-5"],["href","#\xbfPor_qu\xe9_no_HTML?"],[1,"toclevel-2","tocsection-6"],["href","#Est\xe1ndar"],[1,"toclevel-2","tocsection-7"],["href","#Vincular_y_crear_p\xe1ginas"],[1,"toclevel-3","tocsection-8"],["href","#CamelCase"],[1,"toclevel-3","tocsection-9"],["href","#V\xednculos_libres"],[1,"toclevel-3","tocsection-10"],["href","#Interwiki"],[1,"toclevel-2","tocsection-11"],["href","#B\xfasqueda"],[1,"toclevel-2","tocsection-12"],["href","#Control_de_cambios"],[1,"historybmw",2,"color","purple"],[2,"color","#07BDC4"],[1,"linea"],[1,"col-md-4"],[1,"position-sticky",2,"top","5rem"],["width","40%","height","200px","src","https://vehlogo.com/wp-content/uploads/2021/03/porsche_logo.png",1,"img-fluid"],[2,"padding-top","25px"],["width","40%","height","200px","src","https://vehlogo.com/wp-content/uploads/2021/03/porsche_gt3_logo.png",1,"img-fluid"],["width","40%","height","200px","src","https://vehlogo.com/wp-content/uploads/2021/03/porsche_70th_anniversary-2048x1560.png",1,"img-fluid"]],template:function(t,r){1&t&&(a.TgZ(0,"body",0)(1,"main")(2,"div",1),a._UZ(3,"img",2),a.qZA(),a.TgZ(4,"body",3)(5,"main",4)(6,"div",5),a._UZ(7,"img",6),a.qZA(),a.TgZ(8,"div",7)(9,"div",8)(10,"h1",9),a._uU(11," Historia de "),a.TgZ(12,"span",10),a._uU(13,"Porsche"),a.qZA()(),a._UZ(14,"div",11),a.TgZ(15,"article",12)(16,"h2",13),a._uU(17,"BMW"),a.qZA(),a.TgZ(18,"p"),a._uU(19,"BMW pronunciaci\xf3n alemana:[be-em-ve]. es un fabricante alem\xe1n de autom\xf3viles y motocicletas de alta gama y lujo, cuya sede se encuentra en M\xfanich. Sus subsidiarias son Mini, Rolls-Royce y BMW Bank. BMW es el l\xedder mundial en ventas entre los fabricantes de gama alta; compite principalmente con Audi, Volvo, Lexus y Mercedes-Benz, entre otros veh\xedculos de gama alta. "),a.qZA(),a._UZ(20,"br"),a.TgZ(21,"div",14)(22,"div",15),a._UZ(23,"input",16),a.TgZ(24,"div",17)(25,"h2",18),a._uU(26,"\xcdndice"),a.qZA(),a.TgZ(27,"span",19),a._UZ(28,"label",20),a.qZA()(),a.TgZ(29,"ul")(30,"li",21)(31,"a",22)(32,"span",23),a._uU(33,"Historia"),a.qZA()()(),a.TgZ(34,"li",24)(35,"a",25)(36,"span",23),a._uU(37,"Modelos"),a.qZA()(),a.TgZ(38,"ul")(39,"li",26)(40,"a",27)(41,"span",23),a._uU(42,"Serie 1"),a.qZA()()(),a.TgZ(43,"li",28)(44,"a",29)(45,"span",23),a._uU(46,"Serie 2"),a.qZA()()(),a.TgZ(47,"li",30)(48,"a",31)(49,"span",23),a._uU(50,"Serie 3"),a.qZA()()(),a.TgZ(51,"li",32)(52,"a",33)(53,"span",23),a._uU(54,"serie 4"),a.qZA()()(),a.TgZ(55,"li",34)(56,"a",35)(57,"span",23),a._uU(58,"serie5"),a.qZA()()(),a.TgZ(59,"li",34)(60,"a",35)(61,"span",23),a._uU(62,"serie6"),a.qZA()()(),a.TgZ(63,"li",34)(64,"a",35)(65,"span",23),a._uU(66,"serie 7 y 8"),a.qZA()()(),a.TgZ(67,"li",34)(68,"a",35)(69,"span",23),a._uU(70,"serie M"),a.qZA()(),a.TgZ(71,"ul")(72,"li",36)(73,"a",37)(74,"span",23),a._uU(75,"M1"),a.qZA()()(),a.TgZ(76,"li",38)(77,"a",39)(78,"span",23),a._uU(79,"M2"),a.qZA()()(),a.TgZ(80,"li",40)(81,"a",41)(82,"span",23),a._uU(83,"M3"),a.qZA()()(),a.TgZ(84,"li",40)(85,"a",41)(86,"span",23),a._uU(87,"M4"),a.qZA()()(),a.TgZ(88,"li",40)(89,"a",41)(90,"span",23),a._uU(91,"M5"),a.qZA()()(),a.TgZ(92,"li",40)(93,"a",41)(94,"span",23),a._uU(95,"M6"),a.qZA()()()()(),a.TgZ(96,"li",42)(97,"a",43)(98,"span",23),a._uU(99,"B\xfasqueda"),a.qZA()()(),a.TgZ(100,"li",44)(101,"a",45)(102,"span",23),a._uU(103,"Control de cambios"),a.qZA()()()()()()()(),a._UZ(104,"br"),a.TgZ(105,"h1",46),a._uU(106,"Historia"),a.qZA(),a._UZ(107,"div",11)(108,"br"),a.TgZ(109,"h2",47),a._uU(110,"Comienzos"),a.qZA(),a.TgZ(111,"p"),a._uU(112,"El predecesor de BMW fue la empresa Rapp Motorenwerke GmbH, fundada en 1913 por Karl Rapp. Cambiaron el nombre en abril de 1917, en primer lugar a BMW GmbH (sociedad limitada) para terminar en BMW AG, un a\xf1o m\xe1s tarde tras su conversi\xf3n en sociedad an\xf3nima. El ingeniero Max Friz destac\xf3 en la joven empresa por desarrollar en 1917 un motor de avi\xf3n de alta compresi\xf3n, gracias a lo cual se pudo reducir la p\xe9rdida de prestaciones en las alturas. Esta innovaci\xf3n tuvo tal aceptaci\xf3n que BMW recibi\xf3 un pedido de 2000 motores por parte de la administraci\xf3n del ej\xe9rcito prusiano. El 17 de junio de 1919 se alcanz\xf3 el r\xe9cord de altura de 9760 metros con un BMW IIIa. El final de la Primera Guerra Mundial y el Tratado de Versalles parecieron ser la fase final de la empresa, ya que el tratado prohib\xeda la fabricaci\xf3n durante 5 a\xf1os de motores de avi\xf3n, por aquel entonces el \xfanico producto de BMW. En 1922 Camillo Castiglioni, accionista principal de la compa\xf1\xeda, abandon\xf3 la empresa para irse a Bayerische Flugzeugwerke AG (BFW), llev\xe1ndose tambi\xe9n los derechos de la marca BMW. La empresa BFW era originaria de la empresa Gustav-Otto-Flugzeugwerk, que fund\xf3 el 7 de marzo de 1916 Gustav Otto, hijo de Nikolaus August Otto, inventor del motor de combusti\xf3n. El 7 de marzo de 1916 se considera, en la descripci\xf3n de la historia de la empresa, como fecha oficial de fundaci\xf3n de BMW. Con la salida de Castiglioni, los Bayerische Flugzeugwerke (BFW) dar\xedan paso a BMW. La empresa, que se llamaba hasta entonces BMW, cambi\xf3 de nombre a S\xfcddeutsche Bremsen-AG y despu\xe9s Knorr-Bremse."),a.qZA(),a._UZ(113,"br"),a.TgZ(114,"h3",47),a._uU(115,"Cronolog\xeda del lanzamiento de productos"),a.qZA(),a._UZ(116,"br"),a.TgZ(117,"ul")(118,"li"),a._uU(119,"1917: Motor de avi\xf3n de altura III a, motor en l\xednea de 6 cilindros, 19 litros, refrigerado con agua, 136 kW (185 CV)."),a.qZA(),a._UZ(120,"br"),a.TgZ(121,"li"),a._uU(122,"2020: En el sal\xf3n de Ginebra BMW ten\xeda intenci\xf3n de presentar el nuevo BMW i4, pero debido al impacto de la pandemia del COVID-19 se cancel\xf3 el evento y por eso se present\xf3 el BMW Concept i4 en internet. Ser\xeda tambi\xe9n el primer modelo con el nuevo logotipo de BMW en el que el anillo exterior ya no era negro sino del color del veh\xedculo. "),a.qZA(),a._UZ(123,"br"),a.TgZ(124,"li"),a._uU(125,"2020: Presentaci\xf3n de la BMW R 18 una crucero en dise\xf1o retro con un motor b\xf3xer de 1,8l."),a.qZA(),a._UZ(126,"br"),a.qZA()(),a._UZ(127,"div",48),a.qZA(),a.TgZ(128,"div",49)(129,"div",50)(130,"div"),a._UZ(131,"img",51),a.qZA(),a.TgZ(132,"div",52),a._UZ(133,"img",53),a.qZA(),a.TgZ(134,"div",52),a._UZ(135,"img",54),a.qZA()()()()(),a.TgZ(136,"div"),a._UZ(137,"app-footer"),a.qZA()()()())},dependencies:[Ph],styles:[".toc[_ngcontent-%COMP%]{display:table;padding:7px;border:1px solid #a2a9b1;background-color:#f8f9fa}.bmw-pag[_ngcontent-%COMP%]{background:#ADA996;background:linear-gradient(to right,#EAEAEA,#DBDBDB,#F2F2F2,#ADA996)}.fmb[_ngcontent-%COMP%]{width:100%;height:200px;display:flex;justify-content:center;align-items:center}.col-md-4[_ngcontent-%COMP%]{text-align:center}.linea[_ngcontent-%COMP%]{border-top:2px solid #07BDC4;margin-bottom:40px;width:80%}.linea2[_ngcontent-%COMP%]{border-top:2px solid #0d0d0e;margin-bottom:40px;width:100%}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,r){1&t&&(a.TgZ(0,"p"),a._uU(1,"not-found works!"),a.qZA())}}),n})()}];let qN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[db.forRoot(jN),db]}),n})(),$N=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:31,vars:0,consts:[[1,"navba"],[1,"logo"],[1,"nav-links"],["routerLink","/RuXx","routerLinkActive","active"],["routerLink","/home","routerLinkActive","active"],["routerLink","/concesionario","routerLinkActive","active"],["routerLink","/Ferrari","routerLinkActive","active"],["routerLink","/Lamborghini","routerLinkActive","active"],["routerLink","/Bmw","routerLinkActive","active"],["routerLink","/Porsche","routerLinkActive","active"],["type","submit"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"nav")(2,"h2",1),a._uU(3,"RuXx"),a.TgZ(4,"span"),a._uU(5,"Dev."),a.qZA(),a._uU(6,"Site"),a.qZA(),a.TgZ(7,"ul",2)(8,"li")(9,"a",3),a._uU(10,"Home"),a.qZA()(),a.TgZ(11,"li")(12,"a",4),a._uU(13,"WikiKar"),a.qZA()(),a.TgZ(14,"li")(15,"a",5),a._uU(16,"Garage"),a.qZA()(),a.TgZ(17,"li")(18,"a",6),a._uU(19,"ferrari"),a.qZA()(),a.TgZ(20,"li")(21,"a",7),a._uU(22,"Lamborghini"),a.qZA()(),a.TgZ(23,"li")(24,"a",8),a._uU(25,"Bmw"),a.qZA()(),a.TgZ(26,"li")(27,"a",9),a._uU(28,"Posche"),a.qZA()()(),a.TgZ(29,"button",10),a._uU(30,"Registrate"),a.qZA()()())},dependencies:[Vd,mf],styles:["nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:20px;padding-left:10%;padding-right:10%;background:#8E0E00;background:linear-gradient(to right,#1F1C18,#8E0E00)}.logo[_ngcontent-%COMP%]{color:#fff;font-size:28px}span[_ngcontent-%COMP%]{color:#ea1538}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;display:inline-block;padding:10px 20px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-weight:700}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ea1538;transition:.3s}button[_ngcontent-%COMP%]{border:none;background-color:#ea1538;padding:12px 30px;border-radius:30px;color:#fff;font-weight:700;font-size:15px;transition:.4s}button[_ngcontent-%COMP%]:hover{background-color:#ea1538;cursor:pointer;transform:scale(1.3)}"]}),n})(),HN=(()=>{class n{constructor(){this.title="wikikar"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&a._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[g,$N]}),n})();const Yx_firebase={projectId:"wiki-car-679a8",appId:"1:300847552765:web:faf20c120891a961b8c694",databaseURL:"https://wiki-car-679a8-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"wiki-car-679a8.appspot.com",locationId:"us-central",apiKey:"AIzaSyB7bpoIzQmdGPtZjpvUI1Y8kzDG45A87A8",authDomain:"wiki-car-679a8.firebaseapp.com",messagingSenderId:"300847552765"};let GN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[HN]}),n.\u0275inj=a.cJS({imports:[Ll,qN,LN,Wx,Zo.hO.initializeApp(Yx_firebase),gP,IP,UP]}),n})();(0,a.G48)(),Mu().bootstrapModule(GN).catch(n=>console.error(n))},5867:(st,De,O)=>{O.d(De,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=O(9681);(0,a.registerVersion)("firebase","9.10.0","app")},127:(st,De,O)=>{O.d(De,{Z:()=>a.Z});var a=O(3942);a.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(st,De,O)=>{O.r(De);var a=O(5861),X=O(3942),k=O(2090),ue=O(9681),ie=O(655),he=O(1877),le=O(4859);const be=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ye=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new he.Yd("@firebase/auth");function et(y,...f){ze.logLevel<=he.in.ERROR&&ze.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function Ae(y,...f){throw Ze(y,...f)}function ve(y,...f){return Ze(y,...f)}function Ee(y,f,g){const v=Object.assign(Object.assign({},Ye()),{[f]:g});return new k.LL("auth","Firebase",v).create(f,{appName:y.name})}function Be(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ae(y,"argument-error"),Ee(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return me.create(y,...f)}function U(y,f,...g){if(!y)throw Ze(f,...g)}function ge(y){const f="INTERNAL ASSERTION FAILED: "+y;throw et(f),new Error(f)}function z(y,f){y||ge(f)}const J=new Map;function se(y){z(y instanceof Function,"Expected a class definition");let f=J.get(y);return f?(z(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,J.set(y,f),f)}function Ne(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ut(){return"http:"===jt()||"https:"===jt()}function jt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class rn{constructor(f,g){this.shortDelay=f,this.longDelay=g,z(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Vt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(y,f){z(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Gt{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},br=new rn(3e4,6e4);function Rt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function en(y,f,g,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(y,f,g,v,A={}){return kr(y,A,(0,a.Z)(function*(){let P={},W={};v&&("GET"===f?W=v:P={body:JSON.stringify(v)});const ce=(0,k.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),Gt.fetch()(vi(y,y.config.apiHost,g,ce),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function kr(y,f,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,a.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Wt),f);try{const A=new Fr(y),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const W=yield P.json();if("needConfirmation"in W)throw oi(y,"account-exists-with-different-credential",W);if(P.ok&&!("errorMessage"in W))return W;{const ce=P.ok?W.errorMessage:W.error.message,[Le,Ke]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw oi(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===Le)throw oi(y,"email-already-in-use",W);if("USER_DISABLED"===Le)throw oi(y,"user-disabled",W);const gt=v[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Ee(y,gt,Ke);Ae(y,gt)}}catch(A){if(A instanceof k.ZR)throw A;Ae(y,"network-request-failed")}})).apply(this,arguments)}function Or(y,f,g,v){return hs.apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(y,f,g,v,A={}){const P=yield en(y,f,g,v,A);return"mfaPendingCredential"in P&&Ae(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function vi(y,f,g,v){const A=`${f}${g}?${v}`;return y.config.emulator?Sn(y.config,A):`${y.config.apiScheme}://${A}`}class Fr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(ve(this.auth,"network-request-failed")),br.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const A=ve(y,f,v);return A.customData._tokenResponse=g,A}function We(){return(We=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Lr(y,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xn(y,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Gr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function dn(){return(dn=(0,a.Z)(function*(y,f=!1){const g=(0,k.m9)(y),v=yield g.getIdToken(f),A=it(v);U(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,W=P?.sign_in_provider;return{claims:A,token:v,authTime:Gr(ct(A.auth_time)),issuedAtTime:Gr(ct(A.iat)),expirationTime:Gr(ct(A.exp)),signInProvider:W||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function ct(y){return 1e3*Number(y)}function it(y){var f;const[g,v,A]=y.split(".");if(void 0===g||void 0===v||void 0===A)return et("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,k.tV)(v);return P?JSON.parse(P):(et("Failed to decode base64 JWT payload"),null)}catch(P){return et("Caught error parsing JWT payload as JSON",null===(f=P)||void 0===f?void 0:f.toString()),null}}function Jn(y,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof k.ZR&&wr(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function wr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class mt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,a.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null===(g=v)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class $i{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gr(this.lastLoginAt),this.creationTime=Gr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zt(y){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),A=yield Jn(y,xn(g,{idToken:v}));U(A?.users.length,g,"internal-error");const P=A.users[0];y._notifyReloadListener(P);const W=null!==(f=P.providerUserInfo)&&void 0!==f&&f.length?L(P.providerUserInfo):[],ce=j(y.providerData,W),gt=!!y.isAnonymous&&!(y.email&&P.passwordHash||ce?.length),at={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ce,metadata:new $i(P.createdAt,P.lastLoginAt),isAnonymous:gt};Object.assign(y,at)})).apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(y){const f=(0,k.m9)(y);yield zt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function j(y,f){return[...y.filter(v=>!f.some(A=>A.providerId===v.providerId)),...f]}function L(y){return y.map(f=>{var{providerId:g}=f,v=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function H(){return(H=(0,a.Z)(function*(y,f){const g=yield kr(y,{},(0,a.Z)(function*(){const v=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:P}=y.config,W=vi(y,A,"/v1/token",`key=${P}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Gt.fetch()(W,{method:"POST",headers:ce,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){U(f.idToken,"internal-error"),U(typeof f.idToken<"u","internal-error"),U(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function un(y){const f=it(y);return U(f,"internal-error"),U(typeof f.exp<"u","internal-error"),U(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,a.Z)(function*(){return U(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,a.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:W}=yield function q(y,f){return H.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(A,P,Number(W))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:A,expirationTime:P}=g,W=new Ie;return v&&(U("string"==typeof v,"internal-error",{appName:f}),W.refreshToken=v),A&&(U("string"==typeof A,"internal-error",{appName:f}),W.accessToken=A),P&&(U("number"==typeof P,"internal-error",{appName:f}),W.expirationTime=P),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Ve(y,f){U("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class tt{constructor(f){var{uid:g,auth:v,stsTokenManager:A}=f,P=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new $i(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const v=yield Jn(g,g.stsTokenManager.getToken(g.auth,f));return U(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Bn(y){return dn.apply(this,arguments)}(this,f)}reload(){return function $t(y){return G.apply(this,arguments)}(this)}_assign(f){this!==f&&(U(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new tt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,a.Z)(function*(){let A=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield zt(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield Jn(f,function fo(y,f){return We.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,A,P,W,ce,Le,Ke,gt;const at=null!==(v=g.displayName)&&void 0!==v?v:void 0,Wn=null!==(A=g.email)&&void 0!==A?A:void 0,Ni=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,ju=null!==(W=g.photoURL)&&void 0!==W?W:void 0,Rd=null!==(ce=g.tenantId)&&void 0!==ce?ce:void 0,ei=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,Xl=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,ec=null!==(gt=g.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:wg,emailVerified:Pd,isAnonymous:Eg,providerData:tc,stsTokenManager:Py}=g;U(wg&&Py,f,"internal-error");const F0=Ie.fromJSON(this.name,Py);U("string"==typeof wg,f,"internal-error"),Ve(at,f.name),Ve(Wn,f.name),U("boolean"==typeof Pd,f,"internal-error"),U("boolean"==typeof Eg,f,"internal-error"),Ve(Ni,f.name),Ve(ju,f.name),Ve(Rd,f.name),Ve(ei,f.name),Ve(Xl,f.name),Ve(ec,f.name);const Na=new tt({uid:wg,auth:f,email:Wn,emailVerified:Pd,displayName:at,isAnonymous:Eg,photoURL:ju,phoneNumber:Ni,tenantId:Rd,stsTokenManager:F0,createdAt:Xl,lastLoginAt:ec});return tc&&Array.isArray(tc)&&(Na.providerData=tc.map(nc=>Object.assign({},nc))),ei&&(Na._redirectEventId=ei),Na}static _fromIdTokenResponse(f,g,v=!1){return(0,a.Z)(function*(){const A=new Ie;A.updateFromServerResponse(g);const P=new tt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:v});return yield zt(P),P})()}}const Kt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,v){var A=this;return(0,a.Z)(function*(){A.storage[g]=v})()}_get(g){var v=this;return(0,a.Z)(function*(){const A=v.storage[g];return void 0===A?null:A})()}_remove(g){var v=this;return(0,a.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function Zn(y,f,g){return`firebase:${y}:${f}:${g}`}class Ot{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:A,name:P}=this.auth;this.fullUserKey=Zn(this.userKey,A.apiKey,P),this.fullPersistenceKey=Zn("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?tt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,a.Z)(function*(){if(!g.length)return new Ot(se(Kt),f,v);const A=(yield Promise.all(g.map(function(){var Ke=(0,a.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let P=A[0]||se(Kt);const W=Zn(v,f.config.apiKey,f.name);let ce=null;for(const Ke of g)try{const gt=yield Ke._get(W);if(gt){const at=tt._fromJSON(f,gt);Ke!==P&&(ce=at),P=Ke;break}}catch{}const Le=A.filter(Ke=>Ke._shouldAllowMigration);return P._shouldAllowMigration&&Le.length?(P=Le[0],ce&&(yield P._set(W,ce.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,a.Z)(function*(gt){if(gt!==P)try{yield gt._remove(W)}catch{}});return function(gt){return Ke.apply(this,arguments)}}())),new Ot(P,f,v)):new Ot(P,f,v)})()}}function Tt(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Er(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(mn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(je(f))return"Blackberry";if(ht(f))return"Webos";if(kn(f))return"Safari";if((f.includes("chrome/")||bi(f))&&!f.includes("edge/"))return"Chrome";if(On(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function mn(y=(0,k.z$)()){return/firefox\//i.test(y)}function kn(y=(0,k.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function bi(y=(0,k.z$)()){return/crios\//i.test(y)}function Er(y=(0,k.z$)()){return/iemobile/i.test(y)}function On(y=(0,k.z$)()){return/android/i.test(y)}function je(y=(0,k.z$)()){return/blackberry/i.test(y)}function ht(y=(0,k.z$)()){return/webos/i.test(y)}function Yt(y=(0,k.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Bs(y=(0,k.z$)()){return Yt(y)||On(y)||ht(y)||je(y)||/windows phone/i.test(y)||Er(y)}function fs(y,f=[]){let g;switch(y){case"Browser":g=Tt((0,k.z$)());break;case"Worker":g=`${Tt((0,k.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${v}`}class po{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=P=>new Promise((W,ce)=>{try{W(f(P))}catch(Le){ce(Le)}});v.onAbort=g,this.queue.push(v);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){var v;if(g.auth.currentUser===f)return;const A=[];try{for(const P of g.queue)yield P(f),P.onAbort&&A.push(P.onAbort)}catch(P){A.reverse();for(const W of A)try{W()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(v=P)||void 0===v?void 0:v.message})}})()}}class At{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zs(this),this.idTokenSubscription=new Zs(this),this.beforeStateQueue=new po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var A,P;if(!v._deleted&&(v.persistenceManager=yield Ot.create(v,f),!v._deleted)){if(null!==(A=v._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(P=v.currentUser)||void 0===P?void 0:P.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var v;const A=yield g.assertedPersistence.getCurrentUser();let P=A,W=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ce=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Le=P?._redirectEventId,Ke=yield g.tryRedirectSignIn(f);(!ce||ce===Le)&&Ke?.user&&(P=Ke.user,W=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(P)}catch(ce){P=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ce))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return U(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){var v;try{yield zt(f)}catch(A){if("auth/network-request-failed"!==(null===(v=A)||void 0===v?void 0:v.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const v=f?(0,k.m9)(f):null;return v&&U(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return f&&U(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,a.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&se(f)||g._popupRedirectResolver;U(v,g,"argument-error"),g.redirectPersistenceManager=yield Ot.create(g,[se(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var v,A;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return U(W,this,"internal-error"),W.then(()=>P(this.currentUser)),"function"==typeof g?f.addObserver(g,v,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(v["X-Firebase-Client"]=A),v})()}}function yn(y){return(0,k.m9)(y)}class Zs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wi(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ps(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class or{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,g){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function Ln(y,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:resetPassword",Rt(y,f))})).apply(this,arguments)}function sn(y,f){return pl.apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gl(y,f){return js.apply(this,arguments)}function js(){return(js=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",Rt(y,f))})).apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithPassword",Rt(y,f))})).apply(this,arguments)}function ms(y,f){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:sendOobCode",Rt(y,f))})).apply(this,arguments)}function er(y,f){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function tr(y,f){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,a.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function su(y,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function yl(y,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,f))})).apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,f))})).apply(this,arguments)}class vl extends or{constructor(f,g,v,A=null){super("password",v),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new vl(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new vl(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function na(y,f){return Hi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Fh(y,f){return Hc.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return sn(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Lh(y,f){return _l.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qn(y,f){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithIdp",Rt(y,f))})).apply(this,arguments)}class Gi extends or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Gi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A}=g,P=(0,ie._T)(g,["providerId","signInMethod"]);if(!v||!A)return null;const W=new Gi(v,A);return W.idToken=P.idToken||void 0,W.accessToken=P.accessToken||void 0,W.secret=P.secret,W.nonce=P.nonce,W.pendingToken=P.pendingToken||null,W}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,qn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function Hp(y,f){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:sendVerificationCode",Rt(y,f))})).apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,f))})).apply(this,arguments)}function zc(){return(zc=(0,a.Z)(function*(y,f){const g=yield Or(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,f));if(g.temporaryProof)throw oi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Wp={USER_NOT_FOUND:"user-not-found"};function Kc(){return(Kc=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Wp)})).apply(this,arguments)}class _s extends or{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new _s({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new _s({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function bl(y,f){return ys.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Gp(y,f){return zc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function zp(y,f){return Kc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:P}=f;return v||g||A||P?new _s({verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:P}):null}}class ou{constructor(f){var g,v,A,P,W,ce;const Le=(0,k.zd)((0,k.pd)(f)),Ke=null!==(g=Le.apiKey)&&void 0!==g?g:null,gt=null!==(v=Le.oobCode)&&void 0!==v?v:null,at=function Yc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);U(Ke&&gt&&at,"argument-error"),this.apiKey=Ke,this.operation=at,this.code=gt,this.continueUrl=null!==(P=Le.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(W=Le.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ce=Le.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const g=function Qc(y){const f=(0,k.zd)((0,k.pd)(y)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,v=(0,k.zd)((0,k.pd)(y)).deep_link_id;return(v?(0,k.zd)((0,k.pd)(v)).link:null)||v||g||f||y}(f);try{return new ou(g)}catch{return null}}}let Ei=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return vl._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const A=ou.parseLink(v);return U(A,"argument-error"),vl._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ii{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wi extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class qs extends Wi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return U("providerId"in g&&"signInMethod"in g,"argument-error"),Gi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return U(f.idToken||f.accessToken,"argument-error"),Gi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return qs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return qs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:P,nonce:W,providerId:ce}=f;if(!v&&!A&&!g&&!P||!ce)return null;try{return new qs(ce)._credential({idToken:g,accessToken:v,nonce:W,pendingToken:P})}catch{return null}}}let ia=(()=>{class y extends Wi{constructor(){super("facebook.com")}static credential(g){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),au=(()=>{class y extends Wi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A}=g;if(!v&&!A)return null;try{return y.credential(v,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),wl=(()=>{class y extends Wi{constructor(){super("github.com")}static credential(g){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class go extends or{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return qn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,qn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A,pendingToken:P}=g;return v&&A&&P&&v===A?new go(v,P):null}static _create(f,g){return new go(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zr extends Ii{constructor(f){U(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return zr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return zr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=go.fromJSON(f);return U(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return go._create(v,g)}catch{return null}}}let Ur=(()=>{class y extends Wi{constructor(){super("twitter.com")}static credential(g,v){return Gi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=g;if(!v||!A)return null;try{return y.credential(v,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function mo(y,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signUp",Rt(y,f))})).apply(this,arguments)}class ar{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,A=!1){return(0,a.Z)(function*(){const P=yield tt._fromIdTokenResponse(f,v,A),W=Bh(v);return new ar({user:P,providerId:W,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const A=Bh(v);return new ar({user:f,providerId:A,_tokenResponse:v,operationType:g})})()}}function Bh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function In(){return(In=(0,a.Z)(function*(y){var f;const g=yn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ar({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield mo(g,{returnSecureToken:!0}),A=yield ar._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class uu extends k.ZR{constructor(f,g,v,A){var P;super(g.code,g.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:f.name,tenantId:null!==(P=f.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,A){return new uu(f,g,v,A)}}function jh(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?uu._fromErrorAndOperation(y,P,f,v):P})}function Kr(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function lu(){return(lu=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y);yield Zt(!0,g,f);const{providerUserInfo:v}=yield Lr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Kr(v||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function yo(y,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,a.Z)(function*(y,f,g=!1){const v=yield Jn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ar._forOperation(y,"link",v)})).apply(this,arguments)}function Zt(y,f,g){return cu.apply(this,arguments)}function cu(){return(cu=(0,a.Z)(function*(y,f,g){yield zt(f);const A=!1===y?"provider-already-linked":"no-such-provider";U(Kr(f.providerData).has(g)===y,f.auth,A)})).apply(this,arguments)}function $s(y,f){return du.apply(this,arguments)}function du(){return(du=(0,a.Z)(function*(y,f,g=!1){var v;const{auth:A}=y,P="reauthenticate";try{const W=yield Jn(y,jh(A,P,f,y),g);U(W.idToken,A,"internal-error");const ce=it(W.idToken);U(ce,A,"internal-error");const{sub:Le}=ce;return U(y.uid===Le,A,"user-mismatch"),ar._forOperation(y,P,W)}catch(W){throw"auth/user-not-found"===(null===(v=W)||void 0===v?void 0:v.code)&&Ae(A,"user-mismatch"),W}})).apply(this,arguments)}function di(y,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,a.Z)(function*(y,f,g=!1){const v="signIn",A=yield jh(y,v,f),P=yield ar._fromIdTokenResponse(y,v,A);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function En(y,f){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(y,f){return di(yn(y),f)})).apply(this,arguments)}function fu(y,f){return qh.apply(this,arguments)}function qh(){return(qh=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y);return yield Zt(!1,g,f.providerId),yo(g,f)})).apply(this,arguments)}function pu(y,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,a.Z)(function*(y,f){return $s((0,k.m9)(y),f)})).apply(this,arguments)}function El(y,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(y,f){return Or(y,"POST","/v1/accounts:signInWithCustomToken",Rt(y,f))})).apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(y,f){const g=yn(y),v=yield El(g,{token:f,returnSecureToken:!0}),A=yield ar._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ce{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ft._fromServerResponse(f,g):Ae(f,"internal-error")}}class Ft extends Ce{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ft(g)}}function mu(y,f,g){var v;U((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),U(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(U(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(U(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Cn(){return(Cn=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y),A={requestType:"PASSWORD_RESET",email:f};g&&mu(v,A,g),yield tr(v,A)})).apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(y,f,g){yield Ln((0,k.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(y,f){yield gl((0,k.m9)(y),{oobCode:f})})).apply(this,arguments)}function aa(y,f){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y),v=yield Ln(g,{oobCode:f}),A=v.requestType;switch(U(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":U(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":U(v.mfaInfo,g,"internal-error");default:U(v.email,g,"internal-error")}let P=null;return v.mfaInfo&&(P=Ce._fromServerResponse(yn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function Xc(){return(Xc=(0,a.Z)(function*(y,f){const{data:g}=yield aa((0,k.m9)(y),f);return g.email})).apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(y,f,g){const v=yn(y),A=yield mo(v,{returnSecureToken:!0,email:f,password:g}),P=yield ar._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(P.user),P})).apply(this,arguments)}function Hs(){return(Hs=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};U(g.handleCodeInApp,v,"argument-error"),g&&mu(v,A,g),yield su(v,A)})).apply(this,arguments)}function la(){return(la=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y),A=Ei.credentialWithLink(f,g||Ne());return U(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),En(v,A)})).apply(this,arguments)}function Yp(y,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:createAuthUri",Rt(y,f))})).apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(y,f){const v={identifier:f,continueUri:ut()?Ne():"http://localhost"},{signinMethods:A}=yield Yp((0,k.m9)(y),v);return A||[]})).apply(this,arguments)}function da(){return(da=(0,a.Z)(function*(y,f){const g=(0,k.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&mu(g.auth,A,f);const{email:P}=yield er(g.auth,A);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function bu(){return(bu=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&mu(v.auth,P,g);const{email:W}=yield yl(v.auth,P);W!==y.email&&(yield y.reload())})).apply(this,arguments)}function wu(y,f){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,a.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Pl(){return(Pl=(0,a.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,k.m9)(y),P={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},W=yield Jn(v,wu(v.auth,P));v.displayName=W.displayName||null,v.photoURL=W.photoUrl||null;const ce=v.providerData.find(({providerId:Le})=>"password"===Le);ce&&(ce.displayName=v.displayName,ce.photoURL=v.photoURL),yield v._updateTokensIfNecessary(W)})).apply(this,arguments)}function Ws(y,f,g){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,a.Z)(function*(y,f,g){const{auth:v}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(P.email=f),g&&(P.password=g);const W=yield Jn(y,sn(v,P));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Vr{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class fn extends Vr{constructor(f,g,v,A){super(f,g,v),this.username=A}}class td extends Vr{constructor(f,g){super(f,"facebook.com",g)}}class Nl extends fn{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class $h extends Vr{constructor(f,g){super(f,"google.com",g)}}class kl extends fn{constructor(f,g,v){super(f,"twitter.com",g,v)}}function Iu(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function $n(y){var f,g;if(!y)return null;const{providerId:v}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const W=null===(g=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new Vr(P,"anonymous"!==W&&"custom"!==W?W:null)}if(!v)return null;switch(v){case"facebook.com":return new td(P,A);case"github.com":return new Nl(P,A);case"google.com":return new $h(P,A);case"twitter.com":return new kl(P,A,y.screenName||null);case"custom":case"anonymous":return new Vr(P,null);default:return new Vr(P,v,A)}}(g)}class zs{constructor(f,g,v){this.type=f,this.credential=g,this.auth=v}static _fromIdtoken(f,g){return new zs("enroll",f,g)}static _fromMfaPendingCredential(f){return new zs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return zs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return zs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Cu{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=yn(f),A=g.customData._serverResponse,P=(A.mfaInfo||[]).map(ce=>Ce._fromServerResponse(v,ce));U(A.mfaPendingCredential,v,"internal-error");const W=zs._fromMfaPendingCredential(A.mfaPendingCredential);return new Cu(W,P,function(){var ce=(0,a.Z)(function*(Le){const Ke=yield Le._process(v,W);delete A.mfaInfo,delete A.mfaPendingCredential;const gt=Object.assign(Object.assign({},A),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const at=yield ar._fromIdTokenResponse(v,g.operationType,gt);return yield v._updateCurrentUser(at.user),at;case"reauthenticate":return U(g.user,v,"internal-error"),ar._forOperation(g.user,g.operationType,gt);default:Ae(v,"internal-error")}});return function(Le){return ce.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}function Du(y,f){return en(y,"POST","/v2/accounts/mfaEnrollment:start",Rt(y,f))}class Hh{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Ce._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new Hh(f)}getSession(){var f=this;return(0,a.Z)(function*(){return zs._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var v=this;return(0,a.Z)(function*(){const A=f,P=yield v.getSession(),W=yield Jn(v.user,A._process(v.user.auth,P,g));return yield v.user._updateTokensIfNecessary(W),v.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){var v;const A="string"==typeof f?f:f.uid,P=yield g.user.getIdToken(),W=yield Jn(g.user,function sd(y,f){return en(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(y,f))}(g.user.auth,{idToken:P,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:ce})=>ce!==A),yield g.user._updateTokensIfNecessary(W);try{yield g.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(v=ce)||void 0===v?void 0:v.code))throw ce}})()}}const Eo=new WeakMap,Ks="__sak";class Au{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ks,"1"),this.storage.removeItem(Ks),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const fa=(()=>{class y extends Au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ha(){const y=(0,k.z$)();return kn(y)||Yt(y)}()&&function hn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),P=this.localCache[v];A!==P&&g(v,P,A)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((ce,Le,Ke)=>{this.notifyListeners(ce,Ke)});const A=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(g.newValue!==ce)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!v)return}const P=()=>{const ce=this.storage.getItem(A);!v&&this.localCache[A]===ce||this.notifyListeners(A,ce)},W=this.storage.getItem(A);!function jn(){return(0,k.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var A=()=>super._set,P=this;return(0,a.Z)(function*(){yield A().call(P,g,v),P.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,A=this;return(0,a.Z)(function*(){const P=yield v().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var v=()=>super._remove,A=this;return(0,a.Z)(function*(){yield v().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),Di=(()=>{class y extends Au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let ud=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(P=>P.isListeningto(g));if(v)return v;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,a.Z)(function*(){const A=g,{eventId:P,eventType:W,data:ce}=A.data,Le=v.handlersMap[W];if(!Le?.size)return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:W});const Ke=Array.from(Le).map(function(){var at=(0,a.Z)(function*(Wn){return Wn(A.origin,ce)});return function(Wn){return at.apply(this,arguments)}}()),gt=yield function ga(y){return Promise.all(y.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(Ke);A.ports[0].postMessage({status:"done",eventId:P,eventType:W,response:gt})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ma(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class Fl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var A=this;return(0,a.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let W,ce;return new Promise((Le,Ke)=>{const gt=ma("",20);P.port1.start();const at=setTimeout(()=>{Ke(new Error("unsupported_event"))},v);ce={messageChannel:P,onMessage(Wn){const Ni=Wn;if(Ni.data.eventId===gt)switch(Ni.data.status){case"ack":clearTimeout(at),W=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Le(Ni.data.response);break;default:clearTimeout(at),clearTimeout(W),Ke(new Error("invalid_response"))}}},A.handlers.add(ce),P.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:f,eventId:gt,data:g},[P.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function Rn(){return window}function Su(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function ya(){return(ya=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ws="firebaseLocalStorageDb",Es="firebaseLocalStorage",Ll="fbase_key";class Qs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function _a(y,f){return y.transaction([Es],f?"readwrite":"readonly").objectStore(Es)}function Co(){const y=indexedDB.open(ws,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Es,{keyPath:Ll})}catch(A){g(A)}}),y.addEventListener("success",(0,a.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Es)?f(v):(v.close(),yield function cd(){const y=indexedDB.deleteDatabase(ws);return new Qs(y).toPromise()}(),f(yield Co()))}))})}function Ji(y,f,g){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,a.Z)(function*(y,f,g){const v=_a(y,!0).put({[Ll]:f,value:g});return new Qs(v).toPromise()})).apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(y,f){const g=_a(y,!1).get(f),v=yield new Qs(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Js(y,f){const g=_a(y,!0).delete(f);return new Qs(g).toPromise()}const Do=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Co()),g.db})()}_withRetries(g){var v=this;return(0,a.Z)(function*(){let A=0;for(;;)try{const P=yield v._openDb();return yield g(P)}catch(P){if(A++>3)throw P;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return Su()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=ud._getInstance(function Mu(){return Su()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,a.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,a.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var v,A;if(g.activeServiceWorker=yield function Ys(){return ya.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Fl(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(v=P[0])||void 0===v?void 0:v.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,a.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function xu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Co();return yield Ji(g,Ks,"1"),yield Js(g,Ks),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,a.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(P=>Ji(P,g,v)),A.localCache[g]=v,A.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,a.Z)(function*(){const A=yield v._withRetries(P=>function Ru(y,f){return va.apply(this,arguments)}(P,g));return v.localCache[g]=A,A})()}_remove(g){var v=this;return(0,a.Z)(function*(){return v._withPendingWrite((0,a.Z)(function*(){return yield v._withRetries(A=>Js(A,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const v=yield g._withRetries(W=>{const ce=_a(W,!1).getAll();return new Qs(ce).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:W,value:ce}of v)P.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ce)&&(g.notifyListeners(W,ce),A.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!P.has(W)&&(g.notifyListeners(W,null),A.push(W));return A})()}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function To(y,f){return en(y,"POST","/v2/accounts/mfaSignIn:start",Rt(y,f))}function Is(){return(Is=(0,a.Z)(function*(y){return(yield en(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function So(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=A=>{const P=ve("internal-error");P.customData=A,g(P)},v.type="text/javascript",v.charset="UTF-8",function Ao(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function ku(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ba=1e12;class cn{constructor(f){this.auth=f,this.counter=ba,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Qp(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||ba;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||ba))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var v;return null===(v=g._widgets.get(f||ba))||void 0===v||v.execute(),""})()}}class Qp{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;U(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yy(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jp=ku("rcb"),_y=new rn(3e4,6e4);class Gh{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Rn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return U(function A0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Rn().grecaptcha):new Promise((v,A)=>{const P=Rn().setTimeout(()=>{A(ve(f,"network-request-failed"))},_y.get());Rn()[Jp]=()=>{Rn().clearTimeout(P),delete Rn()[Jp];const ce=Rn().grecaptcha;if(!ce)return void A(ve(f,"internal-error"));const Le=ce.render;ce.render=(Ke,gt)=>{const at=Le(Ke,gt);return this.counter++,at},this.hostLanguage=g,v(ce)},So(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Jp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Rn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bl{load(f){return(0,a.Z)(function*(){return new cn(f)})()}clearedOneInstance(){}}const by="recaptcha",wy={theme:"light",type:"image"};class rr{constructor(f,g=Object.assign({},wy),v){this.parameters=g,this.type=by,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(v),this.isInvisible="invisible"===this.parameters.size,U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;U(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bl:new Gh,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(P=>{const W=ce=>{!ce||(f.tokenChangeListeners.delete(W),P(ce))};f.tokenChangeListeners.add(W),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){U(!this.parameters.sitekey,this.auth,"argument-error"),U(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),U(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=Rn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){U(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){U(ut()&&!Su(),f.auth,"internal-error"),yield function on(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Br(y){return Is.apply(this,arguments)}(f.auth);U(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return U(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=_s._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Qr(){return(Qr=(0,a.Z)(function*(y,f,g){const v=yn(y),A=yield Cs(v,f,(0,k.m9)(g));return new fi(A,P=>En(v,P))})).apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y);yield Zt(!1,v,"phone");const A=yield Cs(v.auth,f,(0,k.m9)(g));return new fi(A,P=>fu(v,P))})).apply(this,arguments)}function Dr(){return(Dr=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y),A=yield Cs(v.auth,f,(0,k.m9)(g));return new fi(A,P=>pu(v,P))})).apply(this,arguments)}function Cs(y,f,g){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,a.Z)(function*(y,f,g){var v;const A=yield g.verify();try{let P;if(U("string"==typeof A,y,"argument-error"),U(g.type===by,y,"argument-error"),P="string"==typeof f?{phoneNumber:f}:f,"session"in P){const W=P.session;if("phoneNumber"in P)return U("enroll"===W.type,y,"internal-error"),(yield Du(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{U("signin"===W.type,y,"internal-error");const ce=(null===(v=P.multiFactorHint)||void 0===v?void 0:v.uid)||P.multiFactorUid;return U(ce,y,"missing-multi-factor-info"),(yield To(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Hp(y,{phoneNumber:P.phoneNumber,recaptchaToken:A});return W}}finally{g._reset()}})).apply(this,arguments)}function Zl(){return(Zl=(0,a.Z)(function*(y,f){yield yo((0,k.m9)(y),f)})).apply(this,arguments)}let Ea=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=yn(g)}verifyPhoneNumber(g,v){return Cs(this.auth,g,(0,k.m9)(v))}static credential(g,v){return _s._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:A}=g;return v&&A?_s._fromTokenResponse(v,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Mo(y,f){return f?se(f):(U(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ds extends or{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return qn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return qn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function rt(y){return di(y.auth,new Ds(y),y.bypassAuthState)}function Ia(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),$s(g,new Ds(y),y.bypassAuthState)}function Ts(y){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,a.Z)(function*(y){const{auth:f,user:g}=y;return U(g,f,"internal-error"),yo(g,new Ds(y),y.bypassAuthState)})).apply(this,arguments)}class Ro{constructor(f,g,v,A,P=!1){this.auth=f,this.resolver=v,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(v,A){f.pendingPromise={resolve:v,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(P){f.reject(P)}});return function(v,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:P,tenantId:W,error:ce,type:Le}=f;if(ce)return void g.reject(ce);const Ke={auth:g.auth,requestUri:v,sessionId:A,tenantId:W||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Ke))}catch(gt){g.reject(gt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return rt;case"linkViaPopup":case"linkViaRedirect":return Ts;case"reauthViaPopup":case"reauthViaRedirect":return Ia;default:Ae(this.auth,"internal-error")}}resolve(f){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){z(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hn=new rn(2e3,1e4);function Po(){return(Po=(0,a.Z)(function*(y,f,g){const v=yn(y);Be(y,f,Ii);const A=Mo(v,g);return new As(v,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function ql(){return(ql=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y);Be(v.auth,f,Ii);const A=Mo(v.auth,g);return new As(v.auth,"reauthViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y);Be(v.auth,f,Ii);const A=Mo(v.auth,g);return new As(v.auth,"linkViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}let As=(()=>{class y extends Ro{constructor(g,v,A,P,W){super(g,v,P,W),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const v=yield g.execute();return U(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,a.Z)(function*(){z(1===g.filter.length,"Popup operations only handle one event");const v=ma();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,A;this.pollId=null!==(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Hn.get())};g()}}return y.currentPopupAction=null,y})();const gi=new Map;class $l extends Ro{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let v=gi.get(g.auth._key());if(!v){try{const P=(yield function No(y,f){return Zr.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(P)}catch(A){v=()=>Promise.reject(A)}gi.set(g.auth._key(),v)}return g.bypassAuthState||gi.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const A=yield v.auth._redirectUserForId(f.eventId);if(A)return v.user=A,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Zr(){return(Zr=(0,a.Z)(function*(y,f){const g=Un(f),v=ts(y);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(g));return yield v._remove(g),A})).apply(this,arguments)}function es(y,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(y,f){return ts(y)._set(Un(f),"true")})).apply(this,arguments)}function xs(y,f){gi.set(y._key(),f)}function ts(y){return se(y._redirectPersistence)}function Un(y){return Zn("pendingRedirect",y.config.apiKey,y.name)}function I(){return(I=(0,a.Z)(function*(y,f,g){const v=yn(y);Be(y,f,Ii);const A=Mo(v,g);return yield es(A,v),A._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y);Be(v.auth,f,Ii);const A=Mo(v.auth,g);yield es(A,v.auth);const P=yield ot(v);return A._openRedirect(v.auth,f,"reauthViaRedirect",P)})).apply(this,arguments)}function we(){return(we=(0,a.Z)(function*(y,f,g){const v=(0,k.m9)(y);Be(v.auth,f,Ii);const A=Mo(v.auth,g);yield Zt(!1,v,f.providerId),yield es(A,v.auth);const P=yield ot(v);return A._openRedirect(v.auth,f,"linkViaRedirect",P)})).apply(this,arguments)}function Je(){return(Je=(0,a.Z)(function*(y,f){return yield yn(y)._initializationPromise,ft(y,f,!1)})).apply(this,arguments)}function ft(y,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(y,f,g=!1){const v=yn(y),A=Mo(v,f),W=yield new $l(v,A,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield v._persistUserIfCurrent(W.user),yield v._setRedirectUser(null,f)),W})).apply(this,arguments)}function ot(y){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(y){const f=ma(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ko{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ai(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Et(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Et(f)){const A=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ms(f))}saveEventToCache(f){this.cachedEventUids.add(Ms(f)),this.lastProcessedEventTime=Date.now()}}function Ms(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Et({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Rs(y){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,a.Z)(function*(y,f={}){return en(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Oo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eo=/^https?/;function Wh(){return(Wh=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Rs(y);for(const g of f)try{if(tg(g))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function tg(y){const f=Ne(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===v}if(!eo.test(g))return!1;if(Oo.test(y))return v===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const ng=new rn(3e4,6e4);function Ey(){const y=Rn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Si=null;function zh(y){return Si=Si||function Gn(y){return new Promise((f,g)=>{var v,A,P;function W(){Ey(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ey(),g(ve(y,"network-request-failed"))},timeout:ng.get()})}if(null!==(A=null===(v=Rn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(P=Rn().gapi)||void 0===P||!P.load){const ce=ku("iframefcb");return Rn()[ce]=()=>{gapi.load?W():g(ve(y,"network-request-failed"))},So(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Le=>g(Le))}W()}}).catch(f=>{throw Si=null,f})}(y),Si}const rg=new rn(5e3,15e3),Iy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ig(y){const f=y.config;U(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Sn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},A=Yh.get(y.config.apiHost);A&&(v.eid=A);const P=y._getFrameworks();return P.length&&(v.fw=P.join(",")),`${g}?${(0,k.xO)(v).slice(1)}`}function Ta(){return Ta=(0,a.Z)(function*(y){const f=yield zh(y),g=Rn().gapi;return U(g,y,"internal-error"),f.open({where:document.body,url:ig(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iy,dontclear:!0},v=>new Promise(function(){var A=(0,a.Z)(function*(P,W){yield v.restyle({setHideOnLeave:!1});const ce=ve(y,"network-request-failed"),Le=Rn().setTimeout(()=>{W(ce)},rg.get());function Ke(){Rn().clearTimeout(Le),P(v)}v.ping(Ke).then(Ke,()=>{W(ce)})});return function(P,W){return A.apply(this,arguments)}}()))}),Ta.apply(this,arguments)}const dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pd(y,f,g,v,A,P){U(y.config.authDomain,y,"auth-domain-config-required"),U(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:ue.SDK_VERSION,eventId:A};if(f instanceof Ii){f.setDefaultLanguage(y.languageCode),W.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Ke]of Object.entries(P||{}))W[Le]=Ke}if(f instanceof Wi){const Le=f.getScopes().filter(Ke=>""!==Ke);Le.length>0&&(W.scopes=Le.join(","))}y.tenantId&&(W.tid=y.tenantId);const ce=W;for(const Le of Object.keys(ce))void 0===ce[Le]&&delete ce[Le];return`${function gd({config:y}){return y.emulator?Sn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,k.xO)(ce).slice(1)}`}const Sa="webStorageSupport";class xi extends class Cy{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new xi(f)}_finalizeEnroll(f,g,v){return function Tu(y,f){return en(y,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Nu(y,f){return en(y,"POST","/v2/accounts/mfaSignIn:finalize",Rt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fo=(()=>{class y{constructor(){}static assertion(g){return xi._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Jh="@firebase/auth";class x0{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var A;f((null===(A=v)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lo(){return window}function Xh(){return(Xh=(0,a.Z)(function*(y,f,g){var v;const{BuildInfo:A}=Lo();z(f.sessionId,"AuthEvent did not contain a session ID");const P=yield Sy(f.sessionId),W={};return Yt()?W.ibi=A.packageName:On()?W.apn=A.packageName:Ae(y,"operation-not-supported-in-this-environment"),A.displayName&&(W.appDisplayName=A.displayName),W.sessionId=P,pd(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,W)})).apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(y){const{BuildInfo:f}=Lo(),g={};Yt()?g.iosBundleId=f.packageName:On()?g.androidPackageName=f.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Rs(y,g)})).apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(y,f,g){const{cordova:v}=Lo();let A=()=>{};try{yield new Promise((P,W)=>{let ce=null;function Le(){var at;P();const Wn=null===(at=v.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof Wn&&Wn(),"function"==typeof g?.close&&g.close()}function Ke(){ce||(ce=window.setTimeout(()=>{W(ve(y,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===document?.visibilityState&&Ke()}f.addPassiveListener(Le),document.addEventListener("resume",Ke,!1),On()&&document.addEventListener("visibilitychange",gt,!1),A=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",gt,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function Sy(y){return cg.apply(this,arguments)}function cg(){return(cg=(0,a.Z)(function*(y){const f=P0(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function P0(y){if(z(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}!function R0(y){(0,ue._registerComponent)(new le.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:P,authDomain:W}=v.options;return((ce,Le)=>{U(P&&!P.includes(":"),"invalid-api-key",{appName:ce.name}),U(!W?.includes(":"),"argument-error",{appName:ce.name});const Ke={apiKey:P,authDomain:W,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fs(y)},gt=new At(ce,Le,Ke);return function ke(y,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(se);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,f?.popupRedirectResolver)}(gt,g),gt})(v,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new le.wA("auth-internal",f=>{const g=yn(f.getProvider("auth").getImmediate());return new x0(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Jh,"0.20.7",function M0(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(Jh,"0.20.7","esm2017")}("Browser");class Ma extends ko{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function dg(y){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,a.Z)(function*(y){const f=yield ef()._get(tf(y));return f&&(yield ef()._remove(tf(y))),f})).apply(this,arguments)}function Uu(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function ef(){return se(fa)}function tf(y){return Zn("authEvent",y.config.apiKey,y.name)}function Vu(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,k.zd)(g.join("?"))}function fg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function ns(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function sf(y=(0,k.z$)()){return!("file:"!==ns()&&"ionic:"!==ns()&&"capacitor:"!==ns()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function bd(){try{const y=self.localStorage,f=ma();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Yl(y=(0,k.z$)()){return function k0(){return(0,k.w1)()&&11===document?.documentMode}()||function O0(y=(0,k.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,k.hl)()}catch{return wd()&&(0,k.hl)()}return!1}function wd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ed(){return(function vd(){return"http:"===ns()||"https:"===ns()}()||(0,k.ru)()||sf())&&!function My(){return(0,k.b$)()||(0,k.UG)()}()&&bd()&&!wd()}function af(){return sf()&&typeof document<"u"}function Id(){return(Id=(0,a.Z)(function*(){return!!af()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},Cd=U,uf="persistence";function Bu(y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(y){yield y._initializationPromise;const f=lf(),g=Zn(uf,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function lf(){var y;try{return(null===(y=function gg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Dd=U;class rs{constructor(){this.browserResolver=se(class ag{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=ft,this._overrideRedirectResult=xs}_openPopup(f,g,v,A){var P=this;return(0,a.Z)(function*(){var W;z(null===(W=P.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ce=pd(f,g,v,Ne(),A);return function no(y,f,g,v=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),W=Math.max((window.screen.availWidth-v)/2,0).toString();let ce="";const Le=Object.assign(Object.assign({},dd),{width:v.toString(),height:A.toString(),top:P,left:W}),Ke=(0,k.z$)().toLowerCase();g&&(ce=bi(Ke)?"_blank":g),mn(Ke)&&(f=f||"http://localhost",Le.scrollbars="yes");const gt=Object.entries(Le).reduce((Wn,[Ni,ju])=>`${Wn}${Ni}=${ju},`,"");if(function li(y=(0,k.z$)()){var f;return Yt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ke)&&"_self"!==ce)return function og(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",ce),new Hl(null);const at=window.open(f||"",ce,gt);U(at,y,"popup-blocked");try{at.focus()}catch{}return new Hl(at)}(f,ce,ma())})()}_openRedirect(f,g,v,A){var P=this;return(0,a.Z)(function*(){return yield P._originValidation(f),function hi(y){Rn().location.href=y}(pd(f,g,v,Ne(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(z(P,"If manager is not set, promise should be"),P)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const v=yield function sg(y){return Ta.apply(this,arguments)}(f),A=new ko(f);return v.register("authEvent",P=>(U(P?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=v,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Sa,{type:Sa},A=>{var P;const W=null===(P=A?.[0])||void 0===P?void 0:P[Sa];void 0!==W&&g(!!W),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function mi(y){return Wh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Bs()||kn()||Yt()}}),this.cordovaResolver=se(class xy{constructor(){this._redirectPersistence=Di,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ft,this._overrideRedirectResult=xs}_initialize(f){var g=this;return(0,a.Z)(function*(){const v=f._key();let A=g.eventManagers.get(v);return A||(A=new Ma(f),g.eventManagers.set(v,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,A){var P=this;return(0,a.Z)(function*(){!function md(y){var f,g,v,A,P,W,ce,Le,Ke,gt;const at=Lo();U("function"==typeof(null===(f=at?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),U(typeof(null===(g=at?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),U("function"==typeof(null===(P=null===(A=null===(v=at?.cordova)||void 0===v?void 0:v.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(Le=null===(ce=null===(W=at?.cordova)||void 0===W?void 0:W.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),U("function"==typeof(null===(gt=null===(Ke=at?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===gt?void 0:gt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield P._initialize(f);yield W.initialized(),W.resetRedirect(),function pr(){gi.clear()}(),yield P._originValidation(f);const ce=function Ra(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Uu(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(f,v,A);yield function zl(y,f){return ef()._set(tf(y),f)}(f,ce);const Le=yield function Ty(y,f,g){return Xh.apply(this,arguments)}(f,ce,g),Ke=yield function Mi(y){const{cordova:f}=Lo();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let A=null;v?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function Wr(y=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Le);return function Wl(y,f,g){return Ps.apply(this,arguments)}(f,W,Ke)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ay(y){return xa.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:A,BuildInfo:P}=Lo(),W=setTimeout((0,a.Z)(function*(){yield dg(f),g.onEvent(fg())}),500),ce=function(){var gt=(0,a.Z)(function*(at){clearTimeout(W);const Wn=yield dg(f);let Ni=null;Wn&&at?.url&&(Ni=function hg(y,f){var g,v;const A=function yd(y){const f=Vu(y),g=f.link?decodeURIComponent(f.link):void 0,v=Vu(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Vu(A).link||A||v||g||y}(f);if(A.includes("/__/auth/callback")){const P=Vu(A),W=P.firebaseError?function nf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,ce=null===(v=null===(g=W?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Le=ce?ve(ce):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(Wn,at.url)),g.onEvent(Ni||fg())});return function(Wn){return gt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,ce);const Le=A,Ke=`${P.packageName.toLowerCase()}://`;Lo().handleOpenURL=function(){var gt=(0,a.Z)(function*(at){if(at.toLowerCase().startsWith(Ke)&&ce({url:at}),"function"==typeof Le)try{Le(at)}catch(Wn){console.error(Wn)}});return function(at){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Di,this._completeRedirectFn=ft,this._overrideRedirectResult=xs}_initialize(f){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,A){var P=this;return(0,a.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(f,g,v,A)})()}_openRedirect(f,g,v,A){var P=this;return(0,a.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(f,g,v,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return af()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Ry(){return Id.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Uo(y){return y.unwrap()}function Ad(y){return Sd(y)}function Sd(y){const{_tokenResponse:f}=y instanceof k.ZR?y.customData:y;if(!f)return null;if(!(y instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ea.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=au;break;case"facebook.com":v=ia;break;case"github.com":v=wl;break;case"twitter.com":v=Ur;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:W,pendingToken:ce,nonce:Le}=f;return P||W||A||ce?ce?g.startsWith("saml.")?go._create(g,ce):Gi._fromParams({providerId:g,signInMethod:g,pendingToken:ce,idToken:A,accessToken:P}):new qs(g).credential({idToken:A,accessToken:P,rawNonce:Le}):null}return y instanceof k.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function lr(y,f){return f.catch(g=>{throw g instanceof k.ZR&&function ks(y,f){var g,v;const A=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(v=f)||void 0===v?void 0:v.code))f.resolver=new Md(y,function Tn(y,f){var g;const v=(0,k.m9)(y),A=f;return U(f.customData.operationType,v,"argument-error"),U(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Cu._fromError(v,A)}(y,f));else if(A){const P=Sd(f),W=f;P&&(W.credential=P,W.tenantId=A.tenantId||void 0,W.email=A.email||void 0,W.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Ad(g),additionalUserInfo:Iu(g),user:Xr.getOrCreate(A)}})}function xd(y,f){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,a.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>lr(y,g.confirm(v))}})).apply(this,arguments)}class Md{constructor(f,g){this.resolver=g,this.auth=function Td(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return lr(Uo(this.auth),this.resolver.resolveSignIn(f))}}class Xr{constructor(f){this._delegate=f,this.multiFactor=function Io(y){const f=(0,k.m9)(y);return Eo.has(f)||Eo.set(f,Hh._fromUser(f)),Eo.get(f)}(f)}static getOrCreate(f){return Xr.USER_MAP.has(f)||Xr.USER_MAP.set(f,new Xr(f)),Xr.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,a.Z)(function*(){return lr(g.auth,fu(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,a.Z)(function*(){return xd(v.auth,function _n(y,f,g){return pi.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,a.Z)(function*(){return lr(g.auth,function Fu(y,f,g){return Da.apply(this,arguments)}(g._delegate,f,rs))})()}linkWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield Bu(yn(g.auth)),function Y(y,f,g){return function re(y,f,g){return we.apply(this,arguments)}(y,f,g)}(g._delegate,f,rs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,a.Z)(function*(){return lr(g.auth,pu(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return xd(this.auth,function wa(y,f,g){return Dr.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return lr(this.auth,function eg(y,f,g){return ql.apply(this,arguments)}(this._delegate,f,rs))}reauthenticateWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield Bu(yn(g.auth)),function D(y,f,g){return function x(y,f,g){return F.apply(this,arguments)}(y,f,g)}(g._delegate,f,rs)})()}sendEmailVerification(f){return function Sl(y,f){return da.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,a.Z)(function*(){return yield function Cr(y,f){return lu.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function ed(y,f){return Ws((0,k.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Gs(y,f){return Ws((0,k.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Xp(y,f){return Zl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Rl(y,f){return Pl.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function xl(y,f,g){return bu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xr.USER_MAP=new WeakMap;const ro=U;let mg=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;ro(A,"invalid-api-key",{appName:g.name}),ro(A,"invalid-api-key",{appName:g.name});const P=typeof window<"u"?rs:void 0;this._delegate=v.initialize({options:{persistence:cf(A,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function fl(y,f,g){const v=yn(y);U(v._canInitEmulator,v,"emulator-config-failed"),U(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const A=!!g?.disableWarnings,P=wi(f),{host:W,port:ce}=function Fn(y){const f=wi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const P=A[1];return{host:P,port:ps(v.substr(P.length+1))}}{const[P,W]=v.split(":");return{host:P,port:ps(W)}}}(f);v.config.emulator={url:`${P}//${W}${null===ce?"":`:${ce}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:W,port:ce,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function gs(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function Yr(y,f){return oa.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return aa(this._delegate,g)}confirmPasswordReset(g,v){return function _u(y,f,g){return _o.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var A=this;return(0,a.Z)(function*(){return lr(A._delegate,function ua(y,f,g){return Dn.apply(this,arguments)}(A._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function vu(y,f){return ca.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Qi(y,f){return"EMAIL_SIGNIN"===ou.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){ro(Ed(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Re(y,f){return Je.apply(this,arguments)}(g._delegate,rs);return v?lr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function pg(y,f){yn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,A){const{next:P,error:W,complete:ce}=yg(g,v,A);return this._delegate.onAuthStateChanged(P,W,ce)}onIdTokenChanged(g,v,A){const{next:P,error:W,complete:ce}=yg(g,v,A);return this._delegate.onIdTokenChanged(P,W,ce)}sendSignInLinkToEmail(g,v){return function Tl(y,f,g){return Hs.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function yu(y,f,g){return Cn.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,a.Z)(function*(){let A;switch(function Ql(y,f){Cd(Object.values(Tr).includes(f),y,"invalid-persistence-type"),(0,k.b$)()?Cd(f!==Tr.SESSION,y,"unsupported-persistence-type"):(0,k.UG)()?Cd(f===Tr.NONE,y,"unsupported-persistence-type"):wd()?Cd(f===Tr.NONE||f===Tr.LOCAL&&(0,k.hl)(),y,"unsupported-persistence-type"):Cd(f===Tr.NONE||bd(),y,"unsupported-persistence-type")}(v._delegate,g),g){case Tr.SESSION:A=Di;break;case Tr.LOCAL:A=(yield se(Do)._isAvailable())?Do:fa;break;case Tr.NONE:A=Kt;break;default:return Ae("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return lr(this._delegate,function Zh(y){return In.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return lr(this._delegate,En(this._delegate,g))}signInWithCustomToken(g){return lr(this._delegate,function Il(y,f){return sa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return lr(this._delegate,function Ci(y,f,g){return En((0,k.m9)(y),Ei.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return lr(this._delegate,function Kp(y,f,g){return la.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return xd(this._delegate,function nt(y,f,g){return Qr.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,a.Z)(function*(){return ro(Ed(),v._delegate,"operation-not-supported-in-this-environment"),lr(v._delegate,function jl(y,f,g){return Po.apply(this,arguments)}(v._delegate,g,rs))})()}signInWithRedirect(g){var v=this;return(0,a.Z)(function*(){return ro(Ed(),v._delegate,"operation-not-supported-in-this-environment"),yield Bu(v._delegate),function pn(y,f,g){return function Lu(y,f,g){return I.apply(this,arguments)}(y,f,g)}(v._delegate,g,rs)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Dl(y,f){return Xc.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Tr,y})();function yg(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const A=v;return{next:W=>A(W&&Xr.getOrCreate(W)),error:f,complete:g}}function cf(y,f){const g=function Pi(y,f){const g=lf();if(!g)return[];const v=Zn(uf,y,f);switch(g.getItem(v)){case Tr.NONE:return[Kt];case Tr.LOCAL:return[Do,Di];case Tr.SESSION:return[Di];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Do)&&g.push(Do),typeof window<"u")for(const v of[fa,Di])g.includes(v)||g.push(v);return g.includes(Kt)||g.push(Kt),g}class Zu{constructor(){this.providerId="phone",this._delegate=new Ea(Uo(X.Z.auth()))}static credential(f,g){return Ea.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Zu.PHONE_SIGN_IN_METHOD=Ea.PHONE_SIGN_IN_METHOD,Zu.PROVIDER_ID=Ea.PROVIDER_ID;const _g=U;class df{constructor(f,g,v=X.Z.app()){var A;_g(null===(A=v.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new rr(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bg(y){y.INTERNAL.registerComponent(new le.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new mg(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ei,FacebookAuthProvider:ia,GithubAuthProvider:wl,GoogleAuthProvider:au,OAuthProvider:qs,SAMLAuthProvider:zr,PhoneAuthProvider:Zu,PhoneMultiFactorGenerator:Fo,RecaptchaVerifier:df,TwitterAuthProvider:Ur,Auth:mg,AuthCredential:or,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(X.Z)},9751:(st,De,O)=>{O.d(De,{y:()=>de});var a=O(2961),X=O(727),k=O(8822),ue=O(9635),ie=O(2416),he=O(576),le=O(2806);let de=(()=>{class K{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const be=new K;return be.source=this,be.operator=Se,be}subscribe(Se,be,Ye){const me=function B(K){return K&&K instanceof a.Lv||function V(K){return K&&(0,he.m)(K.next)&&(0,he.m)(K.error)&&(0,he.m)(K.complete)}(K)&&(0,X.Nn)(K)}(Se)?Se:new a.Hp(Se,be,Ye);return(0,le.x)(()=>{const{operator:pe,source:ze}=this;me.add(pe?pe.call(me,ze):ze?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Se){try{return this._subscribe(Se)}catch(be){Se.error(be)}}forEach(Se,be){return new(be=fe(be))((Ye,me)=>{const pe=new a.Hp({next:ze=>{try{Se(ze)}catch(et){me(et),pe.unsubscribe()}},error:me,complete:Ye});this.subscribe(pe)})}_subscribe(Se){var be;return null===(be=this.source)||void 0===be?void 0:be.subscribe(Se)}[k.L](){return this}pipe(...Se){return(0,ue.U)(Se)(this)}toPromise(Se){return new(Se=fe(Se))((be,Ye)=>{let me;this.subscribe(pe=>me=pe,pe=>Ye(pe),()=>be(me))})}}return K.create=Ue=>new K(Ue),K})();function fe(K){var Ue;return null!==(Ue=K??ie.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(st,De,O)=>{O.d(De,{x:()=>le});var a=O(9751),X=O(727);const ue=(0,O(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=O(8737),he=O(2806);let le=(()=>{class fe extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const K=new de(this,this);return K.operator=B,K}_throwIfClosed(){if(this.closed)throw new ue}next(B){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(B)}})}error(B){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:K}=this;for(;K.length;)K.shift().error(B)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:K,isStopped:Ue,observers:Se}=this;return K||Ue?X.Lc:(this.currentObservers=null,Se.push(B),new X.w0(()=>{this.currentObservers=null,(0,ie.P)(Se,B)}))}_checkFinalizedStatuses(B){const{hasError:K,thrownError:Ue,isStopped:Se}=this;K?B.error(Ue):Se&&B.complete()}asObservable(){const B=new a.y;return B.source=this,B}}return fe.create=(V,B)=>new de(V,B),fe})();class de extends le{constructor(V,B){super(),this.destination=V,this.source=B}next(V){var B,K;null===(K=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===K||K.call(B,V)}error(V){var B,K;null===(K=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===K||K.call(B,V)}complete(){var V,B;null===(B=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===B||B.call(V)}_subscribe(V){var B,K;return null!==(K=null===(B=this.source)||void 0===B?void 0:B.subscribe(V))&&void 0!==K?K:X.Lc}}},2961:(st,De,O)=>{O.d(De,{Hp:()=>Ye,Lv:()=>K});var a=O(576),X=O(727),k=O(2416),ue=O(7849);function ie(){}const he=fe("C",void 0,void 0);function fe(Ae,ve,Ee){return{kind:Ae,value:ve,error:Ee}}var V=O(3410),B=O(2806);class K extends X.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,X.Nn)(ve)&&ve.add(this)):this.destination=et}static create(ve,Ee,Be){return new Ye(ve,Ee,Be)}next(ve){this.isStopped?ze(function de(Ae){return fe("N",Ae,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?ze(function le(Ae){return fe("E",void 0,Ae)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?ze(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Se(Ae,ve){return Ue.call(Ae,ve)}class be{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(ve)}catch(Be){me(Be)}}error(ve){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(ve)}catch(Be){me(Be)}else me(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ee){me(Ee)}}}class Ye extends K{constructor(ve,Ee,Be){let Ze;if(super(),(0,a.m)(ve)||!ve)Ze={next:ve??void 0,error:Ee??void 0,complete:Be??void 0};else{let U;this&&k.v.useDeprecatedNextContext?(U=Object.create(ve),U.unsubscribe=()=>this.unsubscribe(),Ze={next:ve.next&&Se(ve.next,U),error:ve.error&&Se(ve.error,U),complete:ve.complete&&Se(ve.complete,U)}):Ze=ve}this.destination=new be(Ze)}}function me(Ae){k.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Ae):(0,ue.h)(Ae)}function ze(Ae,ve){const{onStoppedNotification:Ee}=k.v;Ee&&V.z.setTimeout(()=>Ee(Ae,ve))}const et={closed:!0,next:ie,error:function pe(Ae){throw Ae},complete:ie}},727:(st,De,O)=>{O.d(De,{Lc:()=>he,w0:()=>ie,Nn:()=>le});var a=O(576);const k=(0,O(3888).d)(fe=>function(B){fe(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((K,Ue)=>`${Ue+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ue=O(8737);class ie{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Se of B)Se.remove(this);else B.remove(this);const{initialTeardown:K}=this;if((0,a.m)(K))try{K()}catch(Se){V=Se instanceof k?Se.errors:[Se]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Se of Ue)try{de(Se)}catch(be){V=V??[],be instanceof k?V=[...V,...be.errors]:V.push(be)}}if(V)throw new k(V)}}add(V){var B;if(V&&V!==this)if(this.closed)de(V);else{if(V instanceof ie){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(V)}}_hasParent(V){const{_parentage:B}=this;return B===V||Array.isArray(B)&&B.includes(V)}_addParent(V){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(V),B):B?[B,V]:V}_removeParent(V){const{_parentage:B}=this;B===V?this._parentage=null:Array.isArray(B)&&(0,ue.P)(B,V)}remove(V){const{_finalizers:B}=this;B&&(0,ue.P)(B,V),V instanceof ie&&V._removeParent(this)}}ie.EMPTY=(()=>{const fe=new ie;return fe.closed=!0,fe})();const he=ie.EMPTY;function le(fe){return fe instanceof ie||fe&&"closed"in fe&&(0,a.m)(fe.remove)&&(0,a.m)(fe.add)&&(0,a.m)(fe.unsubscribe)}function de(fe){(0,a.m)(fe)?fe():fe.unsubscribe()}},2416:(st,De,O)=>{O.d(De,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,De,O)=>{O.d(De,{E:()=>X});const X=new(O(9751).y)(ie=>ie.complete())},8996:(st,De,O)=>{O.d(De,{D:()=>ve});var a=O(8421),X=O(5363),k=O(9468),he=O(9751),de=O(2202),fe=O(576),V=O(9672);function K(Ee,Be){if(!Ee)throw new Error("Iterable cannot be null");return new he.y(Ze=>{(0,V.f)(Ze,Be,()=>{const U=Ee[Symbol.asyncIterator]();(0,V.f)(Ze,Be,()=>{U.next().then(ge=>{ge.done?Ze.complete():Ze.next(ge.value)})},0,!0)})})}var Ue=O(3670),Se=O(8239),be=O(1144),Ye=O(6495),me=O(2206),pe=O(4532),ze=O(3260);function ve(Ee,Be){return Be?function Ae(Ee,Be){if(null!=Ee){if((0,Ue.c)(Ee))return function ue(Ee,Be){return(0,a.Xf)(Ee).pipe((0,k.R)(Be),(0,X.Q)(Be))}(Ee,Be);if((0,be.z)(Ee))return function le(Ee,Be){return new he.y(Ze=>{let U=0;return Be.schedule(function(){U===Ee.length?Ze.complete():(Ze.next(Ee[U++]),Ze.closed||this.schedule())})})}(Ee,Be);if((0,Se.t)(Ee))return function ie(Ee,Be){return(0,a.Xf)(Ee).pipe((0,k.R)(Be),(0,X.Q)(Be))}(Ee,Be);if((0,me.D)(Ee))return K(Ee,Be);if((0,Ye.T)(Ee))return function B(Ee,Be){return new he.y(Ze=>{let U;return(0,V.f)(Ze,Be,()=>{U=Ee[de.h](),(0,V.f)(Ze,Be,()=>{let ge,z;try{({value:ge,done:z}=U.next())}catch(J){return void Ze.error(J)}z?Ze.complete():Ze.next(ge)},0,!0)}),()=>(0,fe.m)(U?.return)&&U.return()})}(Ee,Be);if((0,ze.L)(Ee))return function et(Ee,Be){return K((0,ze.Q)(Ee),Be)}(Ee,Be)}throw(0,pe.z)(Ee)}(Ee,Be):(0,a.Xf)(Ee)}},8421:(st,De,O)=>{O.d(De,{Xf:()=>Ue});var a=O(655),X=O(1144),k=O(8239),ue=O(9751),ie=O(3670),he=O(2206),le=O(4532),de=O(6495),fe=O(3260),V=O(576),B=O(7849),K=O(8822);function Ue(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,ie.c)(Ae))return function Se(Ae){return new ue.y(ve=>{const Ee=Ae[K.L]();if((0,V.m)(Ee.subscribe))return Ee.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,X.z)(Ae))return function be(Ae){return new ue.y(ve=>{for(let Ee=0;Ee<Ae.length&&!ve.closed;Ee++)ve.next(Ae[Ee]);ve.complete()})}(Ae);if((0,k.t)(Ae))return function Ye(Ae){return new ue.y(ve=>{Ae.then(Ee=>{ve.closed||(ve.next(Ee),ve.complete())},Ee=>ve.error(Ee)).then(null,B.h)})}(Ae);if((0,he.D)(Ae))return pe(Ae);if((0,de.T)(Ae))return function me(Ae){return new ue.y(ve=>{for(const Ee of Ae)if(ve.next(Ee),ve.closed)return;ve.complete()})}(Ae);if((0,fe.L)(Ae))return function ze(Ae){return pe((0,fe.Q)(Ae))}(Ae)}throw(0,le.z)(Ae)}function pe(Ae){return new ue.y(ve=>{(function et(Ae,ve){var Ee,Be,Ze,U;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,a.KL)(Ae);!(Be=yield Ee.next()).done;)if(ve.next(Be.value),ve.closed)return}catch(ge){Ze={error:ge}}finally{try{Be&&!Be.done&&(U=Ee.return)&&(yield U.call(Ee))}finally{if(Ze)throw Ze.error}}ve.complete()})})(Ae,ve).catch(Ee=>ve.error(Ee))})}},6451:(st,De,O)=>{O.d(De,{T:()=>he});var a=O(8189),X=O(8421),k=O(515),ue=O(7669),ie=O(8996);function he(...le){const de=(0,ue.yG)(le),fe=(0,ue._6)(le,1/0),V=le;return V.length?1===V.length?(0,X.Xf)(V[0]):(0,a.J)(fe)((0,ie.D)(V,de)):k.E}},5403:(st,De,O)=>{O.d(De,{x:()=>X});var a=O(2961);function X(ue,ie,he,le,de){return new k(ue,ie,he,le,de)}class k extends a.Lv{constructor(ie,he,le,de,fe,V){super(ie),this.onFinalize=fe,this.shouldUnsubscribe=V,this._next=he?function(B){try{he(B)}catch(K){ie.error(K)}}:super._next,this._error=de?function(B){try{de(B)}catch(K){ie.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(B){ie.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(st,De,O)=>{O.d(De,{U:()=>k});var a=O(4482),X=O(5403);function k(ue,ie){return(0,a.e)((he,le)=>{let de=0;he.subscribe((0,X.x)(le,fe=>{le.next(ue.call(ie,fe,de++))}))})}},8189:(st,De,O)=>{O.d(De,{J:()=>k});var a=O(5577),X=O(4671);function k(ue=1/0){return(0,a.z)(X.y,ue)}},5577:(st,De,O)=>{O.d(De,{z:()=>de});var a=O(4004),X=O(8421),k=O(4482),ue=O(9672),ie=O(5403),le=O(576);function de(fe,V,B=1/0){return(0,le.m)(V)?de((K,Ue)=>(0,a.U)((Se,be)=>V(K,Se,Ue,be))((0,X.Xf)(fe(K,Ue))),B):("number"==typeof V&&(B=V),(0,k.e)((K,Ue)=>function he(fe,V,B,K,Ue,Se,be,Ye){const me=[];let pe=0,ze=0,et=!1;const Ae=()=>{et&&!me.length&&!pe&&V.complete()},ve=Be=>pe<K?Ee(Be):me.push(Be),Ee=Be=>{Se&&V.next(Be),pe++;let Ze=!1;(0,X.Xf)(B(Be,ze++)).subscribe((0,ie.x)(V,U=>{Ue?.(U),Se?ve(U):V.next(U)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(pe--;me.length&&pe<K;){const U=me.shift();be?(0,ue.f)(V,be,()=>Ee(U)):Ee(U)}Ae()}catch(U){V.error(U)}}))};return fe.subscribe((0,ie.x)(V,ve,()=>{et=!0,Ae()})),()=>{Ye?.()}}(K,Ue,fe,B)))}},5363:(st,De,O)=>{O.d(De,{Q:()=>ue});var a=O(9672),X=O(4482),k=O(5403);function ue(ie,he=0){return(0,X.e)((le,de)=>{le.subscribe((0,k.x)(de,fe=>(0,a.f)(de,ie,()=>de.next(fe),he),()=>(0,a.f)(de,ie,()=>de.complete(),he),fe=>(0,a.f)(de,ie,()=>de.error(fe),he)))})}},3099:(st,De,O)=>{O.d(De,{B:()=>ie});var a=O(8421),X=O(7579),k=O(2961),ue=O(4482);function ie(le={}){const{connector:de=(()=>new X.x),resetOnError:fe=!0,resetOnComplete:V=!0,resetOnRefCountZero:B=!0}=le;return K=>{let Ue,Se,be,Ye=0,me=!1,pe=!1;const ze=()=>{Se?.unsubscribe(),Se=void 0},et=()=>{ze(),Ue=be=void 0,me=pe=!1},Ae=()=>{const ve=Ue;et(),ve?.unsubscribe()};return(0,ue.e)((ve,Ee)=>{Ye++,!pe&&!me&&ze();const Be=be=be??de();Ee.add(()=>{Ye--,0===Ye&&!pe&&!me&&(Se=he(Ae,B))}),Be.subscribe(Ee),!Ue&&Ye>0&&(Ue=new k.Hp({next:Ze=>Be.next(Ze),error:Ze=>{pe=!0,ze(),Se=he(et,fe,Ze),Be.error(Ze)},complete:()=>{me=!0,ze(),Se=he(et,V),Be.complete()}}),(0,a.Xf)(ve).subscribe(Ue))})(K)}}function he(le,de,...fe){if(!0===de)return void le();if(!1===de)return;const V=new k.Hp({next:()=>{V.unsubscribe(),le()}});return de(...fe).subscribe(V)}},9468:(st,De,O)=>{O.d(De,{R:()=>X});var a=O(4482);function X(k,ue=0){return(0,a.e)((ie,he)=>{he.add(k.schedule(()=>ie.subscribe(he),ue))})}},8505:(st,De,O)=>{O.d(De,{b:()=>ie});var a=O(576),X=O(4482),k=O(5403),ue=O(4671);function ie(he,le,de){const fe=(0,a.m)(he)||le||de?{next:he,error:le,complete:de}:he;return fe?(0,X.e)((V,B)=>{var K;null===(K=fe.subscribe)||void 0===K||K.call(fe);let Ue=!0;V.subscribe((0,k.x)(B,Se=>{var be;null===(be=fe.next)||void 0===be||be.call(fe,Se),B.next(Se)},()=>{var Se;Ue=!1,null===(Se=fe.complete)||void 0===Se||Se.call(fe),B.complete()},Se=>{var be;Ue=!1,null===(be=fe.error)||void 0===be||be.call(fe,Se),B.error(Se)},()=>{var Se,be;Ue&&(null===(Se=fe.unsubscribe)||void 0===Se||Se.call(fe)),null===(be=fe.finalize)||void 0===be||be.call(fe)}))}):ue.y}},4408:(st,De,O)=>{O.d(De,{o:()=>ie});var a=O(727);class X extends a.w0{constructor(le,de){super()}schedule(le,de=0){return this}}const k={setInterval(he,le,...de){const{delegate:fe}=k;return fe?.setInterval?fe.setInterval(he,le,...de):setInterval(he,le,...de)},clearInterval(he){const{delegate:le}=k;return(le?.clearInterval||clearInterval)(he)},delegate:void 0};var ue=O(8737);class ie extends X{constructor(le,de){super(le,de),this.scheduler=le,this.work=de,this.pending=!1}schedule(le,de=0){var fe;if(this.closed)return this;this.state=le;const V=this.id,B=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(B,V,de)),this.pending=!0,this.delay=de,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(B,this.id,de),this}requestAsyncId(le,de,fe=0){return k.setInterval(le.flush.bind(le,this),fe)}recycleAsyncId(le,de,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return de;null!=de&&k.clearInterval(de)}execute(le,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(le,de);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,de){let V,fe=!1;try{this.work(le)}catch(B){fe=!0,V=B||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:le,scheduler:de}=this,{actions:fe}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(fe,this),null!=le&&(this.id=this.recycleAsyncId(de,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,De,O)=>{O.d(De,{v:()=>k});var a=O(6063);class X{constructor(ie,he=X.now){this.schedulerActionCtor=ie,this.now=he}schedule(ie,he=0,le){return new this.schedulerActionCtor(this,ie).schedule(le,he)}}X.now=a.l.now;class k extends X{constructor(ie,he=X.now){super(ie,he),this.actions=[],this._active=!1}flush(ie){const{actions:he}=this;if(this._active)return void he.push(ie);let le;this._active=!0;do{if(le=ie.execute(ie.state,ie.delay))break}while(ie=he.shift());if(this._active=!1,le){for(;ie=he.shift();)ie.unsubscribe();throw le}}}},4986:(st,De,O)=>{O.d(De,{z:()=>k});var a=O(4408);const k=new(O(7565).v)(a.o)},6063:(st,De,O)=>{O.d(De,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(st,De,O)=>{O.d(De,{z:()=>a});const a={setTimeout(X,k,...ue){const{delegate:ie}=a;return ie?.setTimeout?ie.setTimeout(X,k,...ue):setTimeout(X,k,...ue)},clearTimeout(X){const{delegate:k}=a;return(k?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(st,De,O)=>{O.d(De,{h:()=>X});const X=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,De,O)=>{O.d(De,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(st,De,O)=>{O.d(De,{_6:()=>he,jO:()=>ue,yG:()=>ie});var a=O(576);function k(le){return le[le.length-1]}function ue(le){return(0,a.m)(k(le))?le.pop():void 0}function ie(le){return function X(le){return le&&(0,a.m)(le.schedule)}(k(le))?le.pop():void 0}function he(le,de){return"number"==typeof k(le)?le.pop():de}},8737:(st,De,O)=>{function a(X,k){if(X){const ue=X.indexOf(k);0<=ue&&X.splice(ue,1)}}O.d(De,{P:()=>a})},3888:(st,De,O)=>{function a(X){const ue=X(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}O.d(De,{d:()=>a})},2806:(st,De,O)=>{O.d(De,{O:()=>ue,x:()=>k});var a=O(2416);let X=null;function k(ie){if(a.v.useDeprecatedSynchronousErrorHandling){const he=!X;if(he&&(X={errorThrown:!1,error:null}),ie(),he){const{errorThrown:le,error:de}=X;if(X=null,le)throw de}}else ie()}function ue(ie){a.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ie)}},9672:(st,De,O)=>{function a(X,k,ue,ie=0,he=!1){const le=k.schedule(function(){ue(),he?X.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(X.add(le),!he)return le}O.d(De,{f:()=>a})},4671:(st,De,O)=>{function a(X){return X}O.d(De,{y:()=>a})},1144:(st,De,O)=>{O.d(De,{z:()=>a});const a=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(st,De,O)=>{O.d(De,{D:()=>X});var a=O(576);function X(k){return Symbol.asyncIterator&&(0,a.m)(k?.[Symbol.asyncIterator])}},576:(st,De,O)=>{function a(X){return"function"==typeof X}O.d(De,{m:()=>a})},3670:(st,De,O)=>{O.d(De,{c:()=>k});var a=O(8822),X=O(576);function k(ue){return(0,X.m)(ue[a.L])}},6495:(st,De,O)=>{O.d(De,{T:()=>k});var a=O(2202),X=O(576);function k(ue){return(0,X.m)(ue?.[a.h])}},8239:(st,De,O)=>{O.d(De,{t:()=>X});var a=O(576);function X(k){return(0,a.m)(k?.then)}},3260:(st,De,O)=>{O.d(De,{L:()=>ue,Q:()=>k});var a=O(655),X=O(576);function k(ie){return(0,a.FC)(this,arguments,function*(){const le=ie.getReader();try{for(;;){const{value:de,done:fe}=yield(0,a.qq)(le.read());if(fe)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(de)}}finally{le.releaseLock()}})}function ue(ie){return(0,X.m)(ie?.getReader)}},4482:(st,De,O)=>{O.d(De,{A:()=>X,e:()=>k});var a=O(576);function X(ue){return(0,a.m)(ue?.lift)}function k(ue){return ie=>{if(X(ie))return ie.lift(function(he){try{return ue(he,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(st,De,O)=>{O.d(De,{U:()=>k,z:()=>X});var a=O(4671);function X(...ue){return k(ue)}function k(ue){return 0===ue.length?a.y:1===ue.length?ue[0]:function(he){return ue.reduce((le,de)=>de(le),he)}}},7849:(st,De,O)=>{O.d(De,{h:()=>k});var a=O(2416),X=O(3410);function k(ue){X.z.setTimeout(()=>{const{onUnhandledError:ie}=a.v;if(!ie)throw ue;ie(ue)})}},4532:(st,De,O)=>{function a(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(De,{z:()=>a})},655:(st,De,O)=>{function ue(z,J){var se={};for(var te in z)Object.prototype.hasOwnProperty.call(z,te)&&J.indexOf(te)<0&&(se[te]=z[te]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(te=Object.getOwnPropertySymbols(z);ke<te.length;ke++)J.indexOf(te[ke])<0&&Object.prototype.propertyIsEnumerable.call(z,te[ke])&&(se[te[ke]]=z[te[ke]])}return se}function de(z,J,se,te){return new(se||(se=Promise))(function(Ne,ut){function jt(rn){try{He(te.next(rn))}catch(Sn){ut(Sn)}}function Vt(rn){try{He(te.throw(rn))}catch(Sn){ut(Sn)}}function He(rn){rn.done?Ne(rn.value):function ke(Ne){return Ne instanceof se?Ne:new se(function(ut){ut(Ne)})}(rn.value).then(jt,Vt)}He((te=te.apply(z,J||[])).next())})}function me(z){return this instanceof me?(this.v=z,this):new me(z)}function pe(z,J,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,te=se.apply(z,J||[]),Ne=[];return ke={},ut("next"),ut("throw"),ut("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ut(Gt){te[Gt]&&(ke[Gt]=function(Wt){return new Promise(function(br,Rt){Ne.push([Gt,Wt,br,Rt])>1||jt(Gt,Wt)})})}function jt(Gt,Wt){try{!function Vt(Gt){Gt.value instanceof me?Promise.resolve(Gt.value.v).then(He,rn):Sn(Ne[0][2],Gt)}(te[Gt](Wt))}catch(br){Sn(Ne[0][3],br)}}function He(Gt){jt("next",Gt)}function rn(Gt){jt("throw",Gt)}function Sn(Gt,Wt){Gt(Wt),Ne.shift(),Ne.length&&jt(Ne[0][0],Ne[0][1])}}function et(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,J=z[Symbol.asyncIterator];return J?J.call(z):(z=function K(z){var J="function"==typeof Symbol&&Symbol.iterator,se=J&&z[J],te=0;if(se)return se.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&te>=z.length&&(z=void 0),{value:z&&z[te++],done:!z}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),se={},te("next"),te("throw"),te("return"),se[Symbol.asyncIterator]=function(){return this},se);function te(Ne){se[Ne]=z[Ne]&&function(ut){return new Promise(function(jt,Vt){!function ke(Ne,ut,jt,Vt){Promise.resolve(Vt).then(function(He){Ne({value:He,done:jt})},ut)}(jt,Vt,(ut=z[Ne](ut)).done,ut.value)})}}}O.d(De,{FC:()=>pe,KL:()=>et,_T:()=>ue,mG:()=>de,qq:()=>me})},4650:(st,De,O)=>{O.d(De,{$8M:()=>Nu,$Z:()=>io,AFp:()=>TE,ALo:()=>hv,AaK:()=>de,AsE:()=>j_,BQk:()=>$f,CHM:()=>mu,CRH:()=>Vm,CZH:()=>Vc,CqO:()=>O_,D6c:()=>o0,EJc:()=>kv,EpF:()=>k_,F4k:()=>Oi,FYo:()=>Le,FiY:()=>Re,G48:()=>sy,GfV:()=>Wn,Gpc:()=>B,JOm:()=>Vo,KtG:()=>yu,LFG:()=>pn,LSH:()=>_d,Lbi:()=>$m,Lck:()=>up,MAs:()=>P_,MMx:()=>ov,NdJ:()=>dm,OlP:()=>cn,Oqu:()=>rh,PXZ:()=>WD,Q6J:()=>Bf,QGY:()=>th,QP$:()=>bi,Qsj:()=>Ke,R0b:()=>Bi,RDi:()=>ig,Rgc:()=>hp,SBq:()=>P,Sil:()=>VD,Suo:()=>_v,TTD:()=>Wi,TgZ:()=>bc,VKq:()=>bh,X6Q:()=>Gv,XFs:()=>We,Xpm:()=>q,Xts:()=>bd,Y36:()=>Oa,YKP:()=>yh,YNc:()=>eh,Yjl:()=>Ot,Yz7:()=>Wt,Z0I:()=>ta,ZZ4:()=>n0,_Bn:()=>qw,_UZ:()=>cm,_Vd:()=>g,_c5:()=>aT,_uU:()=>ae,aQg:()=>cy,c2e:()=>LD,cJS:()=>Rt,cg1:()=>Qf,dDg:()=>qD,dqk:()=>un,eFA:()=>Qm,ekj:()=>mm,eoX:()=>Bv,f3M:()=>I,g9A:()=>Ch,h0i:()=>Wa,hGG:()=>s0,hij:()=>Fi,iGM:()=>ol,ifc:()=>it,ip1:()=>DE,jDz:()=>av,kL8:()=>Im,lG2:()=>Zn,lqb:()=>ks,lri:()=>Km,n5z:()=>Xi,oAB:()=>tt,oxw:()=>Jb,q4F:()=>Ni,qLn:()=>hf,qOj:()=>D_,qZA:()=>jf,rWj:()=>Vv,s9C:()=>F_,sBO:()=>Wv,sIi:()=>Lf,s_b:()=>Fm,soG:()=>vp,tb:()=>Hm,tp0:()=>ft,uIk:()=>am,vHH:()=>be,vpe:()=>Ko,wAp:()=>pt,xi3:()=>ho,xp6:()=>hb,ynx:()=>qf,z2F:()=>Cp,zSh:()=>Dd,zs3:()=>ye});var a=O(7579),X=O(727),k=O(9751),ue=O(6451),ie=O(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function le(i,s){for(const u in s)s.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=s[u])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function fe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const V=he({__forward_ref__:he});function B(i){return i.__forward_ref__=B,i.toString=function(){return de(this())},i}function K(i){return Ue(i)?i():i}function Ue(i){return"function"==typeof i&&i.hasOwnProperty(V)&&i.__forward_ref__===B}class be extends Error{constructor(s,u){super(function Ye(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,u)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i,s){throw new be(-201,!1)}function Vt(i,s){null==i&&function He(i,s,u,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${u} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Rt(i){return{providers:i.providers||[],imports:i.imports||[]}}function en(i){return kr(i,vi)||kr(i,oi)}function ta(i){return null!==en(i)}function kr(i,s){return i.hasOwnProperty(s)?i[s]:null}function hs(i){return i&&(i.hasOwnProperty(Fr)||i.hasOwnProperty(fo))?i[Fr]:null}const vi=he({\u0275prov:he}),Fr=he({\u0275inj:he}),oi=he({ngInjectableDef:he}),fo=he({ngInjectorDef:he});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let Lr;function xn(i){const s=Lr;return Lr=i,s}function ai(i,s,u){const c=en(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&We.Optional?null:void 0!==s?s:void ve(de(i))}function Mn(i){return{toString:i}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),it=(()=>{return(i=it||(it={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",it;var i})();const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wr={},mt=[],$i=he({\u0275cmp:he}),zt=he({\u0275dir:he}),ui=he({\u0275pipe:he}),$t=he({\u0275mod:he}),G=he({\u0275fac:he}),j=he({__NG_ELEMENT_ID__:he});let L=0;function q(i){return Mn(()=>{const u=!0===i.standalone,c={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||it.Emulated,id:"c"+L++,styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,_=i.features;return d.inputs=Kt(i.inputs,c),d.outputs=Kt(i.outputs),_&&_.forEach(w=>w(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(Ie).filter(Ve):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(kn).filter(Ve):null,d})}function Ie(i){return Tt(i)||mn(i)}function Ve(i){return null!==i}function tt(i){return Mn(()=>({type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Kt(i,s){if(null==i)return wr;const u={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),u[d]=c,s&&(s[d]=p)}return u}const Zn=q;function Ot(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Tt(i){return i[$i]||null}function mn(i){return i[zt]||null}function kn(i){return i[ui]||null}function bi(i){const s=Tt(i)||mn(i)||kn(i);return null!==s&&s.standalone}function Er(i,s){const u=i[$t]||null;if(!u&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return u}function tr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ir(i){return Array.isArray(i)&&!0===i[1]}function su(i){return 0!=(8&i.flags)}function ra(i){return 2==(2&i.flags)}function yl(i){return 1==(1&i.flags)}function fr(i){return null!==i.template}function Fh(i){return 0!=(256&i[2])}function Ei(i,s){return i.hasOwnProperty(G)?i[G]:null}class Ii{constructor(s,u,c){this.previousValue=s,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Wi(){return qs}function qs(i){return i.type.prototype.ngOnChanges&&(i.setInput=au),ia}function ia(){const i=Vh(this),s=i?.current;if(s){const u=i.previous;if(u===wr)i.previous=s;else for(let c in s)u[c]=s[c];i.current=null,this.ngOnChanges(s)}}function au(i,s,u,c){const d=Vh(i)||function go(i,s){return i[wl]=s}(i,{previous:wr,current:null}),p=d.current||(d.current={}),_=d.previous,w=this.declaredInputs[u],E=_[w];p[w]=new Ii(E&&E.currentValue,s,_===wr),i[c]=s}Wi.ngInherit=!0;const wl="__ngSimpleChanges__";function Vh(i){return i[wl]||null}function In(i){for(;Array.isArray(i);)i=i[0];return i}function Kr(i,s){return In(s[i])}function Cr(i,s){return In(s[i.index])}function yo(i,s){return i.data[s]}function Ki(i,s){return i[s]}function Zt(i,s){const u=s[i];return tr(u)?u:u[0]}function $s(i){return 64==(64&i[2])}function di(i,s){return null==s?null:i[s]}function hu(i){i[18]=0}function En(i,s){i[5]+=s;let u=i,c=i[3];for(;null!==c&&(1===s&&1===u[5]||-1===s&&0===u[5]);)c[5]+=s,u=c,c=c[3]}const yt={lFrame:Rl(null),bindingsEnabled:!0};function Yi(){return yt.bindingsEnabled}function Ce(){return yt.lFrame.lView}function Ft(){return yt.lFrame.tView}function mu(i){return yt.lFrame.contextLView=i,i[8]}function yu(i){return yt.lFrame.contextLView=null,i}function Cn(){let i=_u();for(;null!==i&&64===i.type;)i=i.parent;return i}function _u(){return yt.lFrame.currentTNode}function Yr(i,s){const u=yt.lFrame;u.currentTNode=i,u.isParent=s}function oa(){return yt.lFrame.isParent}function aa(){yt.lFrame.isParent=!1}function Dn(){const i=yt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Hs(){return yt.lFrame.bindingIndex++}function Qi(i){const s=yt.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,u}function Yp(i,s){const u=yt.lFrame;u.bindingIndex=u.bindingRootIndex=i,vu(s)}function vu(i){yt.lFrame.currentDirectiveIndex=i}function Sl(){return yt.lFrame.currentQueryIndex}function da(i){yt.lFrame.currentQueryIndex=i}function xl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function bu(i,s,u){if(u&We.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||u&We.Host||(d=xl(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const c=yt.lFrame=Ml();return c.currentTNode=s,c.lView=i,!0}function wu(i){const s=Ml(),u=i[1];yt.lFrame=s,s.currentTNode=u.firstChild,s.lView=i,s.tView=u,s.contextLView=i,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Ml(){const i=yt.lFrame,s=null===i?null:i.child;return null===s?Rl(i):s}function Rl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Pl(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ed=Pl;function Gs(){const i=Pl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function $n(){return yt.lFrame.selectedIndex}function Vr(i){yt.lFrame.selectedIndex=i}function fn(){const i=yt.lFrame;return yo(i.tView,i.selectedIndex)}function Ol(i,s){for(let u=s.directiveStart,c=s.directiveEnd;u<c;u++){const p=i.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:M}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-u,_),w&&((i.contentHooks||(i.contentHooks=[])).push(u,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(u,w)),E&&(i.viewHooks||(i.viewHooks=[])).push(-u,E),T&&((i.viewHooks||(i.viewHooks=[])).push(u,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(u,T)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(u,M)}}function vo(i,s,u){wo(i,s,3,u)}function bo(i,s,u,c){(3&i[2])===u&&wo(i,s,u,c)}function rd(i,s){let u=i[2];(3&u)===s&&(u&=2047,u+=1,i[2]=u)}function wo(i,s,u,c){const p=c??-1,_=s.length-1;let w=0;for(let E=void 0!==c?65535&i[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(w=s[E],null!=c&&w>=c)break}else s[E]<0&&(i[18]+=65536),(w<p||-1==p)&&(id(i,u,s,E),i[18]=(4294901760&i[18])+E+2),E++}function id(i,s,u,c){const d=u[c]<0,p=u[c+1],w=i[d?-u[c]:u[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class bs{constructor(s,u,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Io(i,s,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const p=u[c++],_=u[c++],w=u[c++];i.setAttribute(s,_,w,p)}else{const p=d,_=u[++c];Au(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),c++}}return c}function Ks(i){return 3===i||4===i||6===i}function Au(i){return 64===i.charCodeAt(0)}function ha(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let u=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?u=d:0===u||od(i,u,d,null,-1===u||2===u?s[++c]:null)}}return i}function od(i,s,u,c,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===u){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,u),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function ad(i){return-1!==i}function nr(i){return 32767&i}function pa(i,s){let u=function fa(i){return i>>16}(i),c=s;for(;u>0;)c=c[15],u--;return c}let Di=!0;function ga(i){const s=Di;return Di=i,s}let Rn=0;const hi={};function Ys(i,s){const u=xu(i,s);if(-1!==u)return u;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,ya(c.data,i),ya(s,null),ya(c.blueprint,null));const d=Mu(i,s),p=i.injectorIndex;if(ad(d)){const _=nr(d),w=pa(d,s),E=w[1].data;for(let T=0;T<8;T++)s[p+T]=w[_+T]|E[_+T]}return s[p+8]=d,p}function ya(i,s){i.push(0,0,0,0,0,0,0,0,s)}function xu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Mu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,c=null,d=s;for(;null!==d;){if(c=To(d),null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function ws(i,s,u){!function Su(i,s,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(j)&&(c=u[j]),null==c&&(c=u[j]=Rn++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,u)}function Es(i,s,u){if(u&We.Optional||void 0!==i)return i;ve()}function Ll(i,s,u,c){if(u&We.Optional&&void 0===c&&(c=null),0==(u&(We.Self|We.Host))){const d=i[9],p=xn(void 0);try{return d?d.get(s,c,u&We.Optional):ai(s,c,u&We.Optional)}finally{xn(p)}}return Es(c,0,u)}function Qs(i,s,u,c=We.Default,d){if(null!==i){if(1024&s[2]){const _=function Do(i,s,u,c,d){let p=i,_=s;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const w=_a(p,_,u,c|We.Self,hi);if(w!==hi)return w;let E=p.parent;if(!E){const T=_[21];if(T){const M=T.get(u,hi,c);if(M!==hi)return M}E=To(_),_=_[15]}p=E}return d}(i,s,u,c,hi);if(_!==hi)return _}const p=_a(i,s,u,c,hi);if(p!==hi)return p}return Ll(s,u,c,d)}function _a(i,s,u,c,d){const p=function Ul(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(j)?i[j]:void 0;return"number"==typeof s?s>=0?255&s:Vl:s}(u);if("function"==typeof p){if(!bu(s,i,c))return c&We.Host?Es(d,0,c):Ll(s,u,c,d);try{const _=p(c);if(null!=_||c&We.Optional)return _;ve()}finally{ed()}}else if("number"==typeof p){let _=null,w=xu(i,s),E=-1,T=c&We.Host?s[16][6]:null;for((-1===w||c&We.SkipSelf)&&(E=-1===w?Mu(i,s):s[w+8],-1!==E&&va(c,!1)?(_=s[1],w=nr(E),s=pa(E,s)):w=-1);-1!==w;){const M=s[1];if(Ru(p,w,M.data)){const N=cd(w,s,u,_,c,T);if(N!==hi)return N}E=s[w+8],-1!==E&&va(c,s[1].data[w+8]===T)&&Ru(p,w,s)?(_=M,w=nr(E),s=pa(E,s)):w=-1}}return d}function cd(i,s,u,c,d,p){const _=s[1],w=_.data[i+8],M=Co(w,_,u,null==c?ra(w)&&Di:c!=_&&0!=(3&w.type),d&We.Host&&p===w);return null!==M?Ji(s,_,M,w):hi}function Co(i,s,u,c,d){const p=i.providerIndexes,_=s.data,w=1048575&p,E=i.directiveStart,M=p>>20,$=d?w+M:i.directiveEnd;for(let ee=c?w:w+M;ee<$;ee++){const _e=_[ee];if(ee<E&&u===_e||ee>=E&&_e.type===u)return ee}if(d){const ee=_[E];if(ee&&fr(ee)&&ee.type===u)return E}return null}function Ji(i,s,u,c){let d=i[u];const p=s.data;if(function zs(i){return i instanceof bs}(d)){const _=d;_.resolving&&function ze(i,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new be(-200,`Circular dependency in DI detected for ${i}${u}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}(p[u]));const w=ga(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?xn(_.injectImpl):null;bu(i,c,We.Default);try{d=i[u]=_.factory(void 0,p,i,c),s.firstCreatePass&&u>=c.directiveStart&&function nd(i,s,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const _=qs(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(i,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,_)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-i,d),p&&((u.preOrderHooks||(u.preOrderHooks=[])).push(i,p),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(i,p))}(u,p[u],s)}finally{null!==E&&xn(E),ga(w),_.resolving=!1,ed()}}return d}function Ru(i,s,u){return!!(u[s+(i>>5)]&1<<i)}function va(i,s){return!(i&We.Self||i&We.Host&&s)}class Js{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,c){return Qs(this._tNode,this._lView,s,c,u)}}function Vl(){return new Js(Cn(),Ce())}function Xi(i){return Mn(()=>{const s=i.prototype.constructor,u=s[G]||Pu(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[G]||Pu(d);if(p&&p!==u)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Pu(i){return Ue(i)?()=>{const s=Pu(K(i));return s&&s()}:Ei(i)}function To(i){const s=i[1],u=s.type;return 2===u?s.declTNode:1===u?i[6]:null}function Nu(i){return function ld(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const u=i.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const p=u[d];if(Ks(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(p===s)return u[d+1];d+=2}}}return null}(Cn(),i)}const Is="__parameters__";function xo(i,s,u){return Mn(()=>{const c=function ku(i){return function(...u){if(i){const c=i(...u);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return w.annotation=_,w;function w(E,T,M){const N=E.hasOwnProperty(Is)?E[Is]:Object.defineProperty(E,Is,{value:[]})[Is];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(_),E}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class cn{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _n(i,s){void 0===s&&(s=i);for(let u=0;u<i.length;u++){let c=i[u];Array.isArray(c)?(s===i&&(s=i.slice(0,u)),_n(c,s)):s!==i&&s.push(c)}return s}function pi(i,s){i.forEach(u=>Array.isArray(u)?pi(u,s):s(u))}function wa(i,s,u){s>=i.length?i.push(u):i.splice(s,0,u)}function Dr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function rt(i,s,u){let c=Ts(i,s);return c>=0?i[1|c]=u:(c=~c,function Zl(i,s,u,c){let d=i.length;if(d==s)i.push(u,c);else if(1===d)i.push(c,i[0]),i[0]=u;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=u,i[s+1]=c}}(i,c,s,u)),c}function Ia(i,s){const u=Ts(i,s);if(u>=0)return i[1|u]}function Ts(i,s){return function Ro(i,s,u){let c=0,d=i.length>>u;for(;d!==c;){const p=c+(d-c>>1),_=i[p<<u];if(s===_)return p<<u;_>s?d=p:c=p+1}return~(d<<u)}(i,s,1)}const gi={},$l="__NG_DI_FLAG__",No="ngTempTokenPath",es=/\n/gm,pr="__source";let xs;function ts(i){const s=xs;return xs=i,s}function Un(i,s=We.Default){if(void 0===xs)throw new be(-203,!1);return null===xs?ai(i,void 0,s):xs.get(i,s&We.Optional?null:void 0,s)}function pn(i,s=We.Default){return(function qi(){return Lr}()||Un)(K(i),s)}function I(i,s=We.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),pn(i,s)}function D(i){const s=[];for(let u=0;u<i.length;u++){const c=K(i[u]);if(Array.isArray(c)){if(0===c.length)throw new be(900,!1);let d,p=We.Default;for(let _=0;_<c.length;_++){const w=c[_],E=F(w);"number"==typeof E?-1===E?d=w.token:p|=E:d=w}s.push(pn(d,p))}else s.push(pn(c))}return s}function x(i,s){return i[$l]=s,i.prototype[$l]=s,i}function F(i){return i[$l]}const Re=x(xo("Optional"),8),ft=x(xo("SkipSelf"),4);let Yh;function ig(i){Yh=i}class pd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xi(i){return i instanceof pd?i.changingThisBreaksApplicationSecurity:i}const Ay=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function _d(i){const s=function Yl(){const i=Ce();return i&&i[12]}();return s?s.sanitize(Pn.URL,i)||"":function Fo(i,s){const u=function Jh(i){return i instanceof pd&&i.getTypeName()||null}(i);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}(i,"URL")?xi(i):function xa(i){return(i=String(i)).match(Ay)?i:"unsafe:"+i}(me(i))}const bd=new cn("ENVIRONMENT_INITIALIZER"),wd=new cn("INJECTOR",-1),Ed=new cn("INJECTOR_DEF_TYPES");class af{get(s,u=gi){if(u===gi){const c=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw c.name="NullInjectorError",c}return u}}function Ry(...i){return{\u0275providers:Id(0,i)}}function Id(i,...s){const u=[],c=new Set;let d;return pi(s,p=>{const _=p;Tr(_,u,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&gg(d,u),u}function gg(i,s){for(let u=0;u<i.length;u++){const{providers:d}=i[u];pi(d,p=>{s.push(p)})}}function Tr(i,s,u,c){if(!(i=K(i)))return!1;let d=null,p=hs(i);const _=!p&&Tt(i);if(p||_){if(_&&!_.standalone)return!1;d=i}else{const E=i.ngModule;if(p=hs(E),!p)return!1;d=E}const w=c.has(d);if(_){if(w)return!1;if(c.add(d),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of E)Tr(T,s,u,c)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let T;c.add(d);try{pi(p.imports,M=>{Tr(M,s,u,c)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&gg(T,s)}if(!w){const T=Ei(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:mt},{provide:Ed,useValue:d,multi:!0},{provide:bd,useValue:()=>pn(d),multi:!0})}const E=p.providers;null==E||w||pi(E,M=>{s.push(M)})}}return d!==i&&void 0!==i.providers}const uf=he({provide:String,useValue:he});function Ql(i){return null!==i&&"object"==typeof i&&uf in i}function Pi(i){return"function"==typeof i}const Dd=new cn("Set Injector scope."),rs={},Uo={};let Td;function Ad(){return void 0===Td&&(Td=new af),Td}class ks{}class Sd extends ks{constructor(s,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zu(s,_=>this.processProvider(_)),this.records.set(wd,Xr(void 0,this)),d.has("environment")&&this.records.set(ks,Xr(void 0,this));const p=this.records.get(Dd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Ed.multi,mt,We.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const u=ts(this),c=xn(void 0);try{return s()}finally{ts(u),xn(c)}}get(s,u=gi,c=We.Default){this.assertNotDestroyed();const d=ts(this),p=xn(void 0);try{if(!(c&We.SkipSelf)){let w=this.records.get(s);if(void 0===w){const E=function yg(i){return"function"==typeof i||"object"==typeof i&&i instanceof cn}(s)&&en(s);w=E&&this.injectableDefInScope(E)?Xr(lr(s),rs):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(c&We.Self?Ad():this.parent).get(s,u=c&We.Optional&&u===gi?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[No]=_[No]||[]).unshift(de(s)),d)throw _;return function Y(i,s,u,c){const d=i[No];throw s[pr]&&d.unshift(s[pr]),i.message=function re(i,s,u,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=de(s);if(Array.isArray(s))d=s.map(de).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):de(w)))}d=`{${p.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${i.replace(es,"\n  ")}`}("\n"+i.message,d,u,c),i.ngTokenPath=d,i[No]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{xn(p),ts(d)}}resolveInjectorInitializers(){const s=ts(this),u=xn(void 0);try{const c=this.get(bd.multi,mt,We.Self);for(const d of c)d()}finally{ts(s),xn(u)}}toString(){const s=[],u=this.records;for(const c of u.keys())s.push(de(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(s){let u=Pi(s=K(s))?s:K(s&&s.provide);const c=function Jl(i){return Ql(i)?Xr(void 0,i.useValue):Xr(Md(i),rs)}(s);if(Pi(s)||!0!==s.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=Xr(void 0,rs,!0),d.factory=()=>D(d.multi),this.records.set(u,d)),u=s,d.multi.push(s)}this.records.set(u,c)}hydrate(s,u){return u.value===rs&&(u.value=Uo,u.value=u.factory()),"object"==typeof u.value&&u.value&&function mg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=K(s.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function lr(i){const s=en(i),u=null!==s?s.factory:Ei(i);if(null!==u)return u;if(i instanceof cn)throw new be(204,!1);if(i instanceof Function)return function xd(i){const s=i.length;if(s>0)throw function Cs(i,s){const u=[];for(let c=0;c<i;c++)u.push(s);return u}(s,"?"),new be(204,!1);const u=function hr(i){const s=i&&(i[vi]||i[oi]);if(s){const u=function Or(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new be(204,!1)}function Md(i,s,u){let c;if(Pi(i)){const d=K(i);return Ei(d)||lr(d)}if(Ql(i))c=()=>K(i.useValue);else if(function Ri(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...D(i.deps||[]));else if(function Bu(i){return!(!i||!i.useExisting)}(i))c=()=>pn(K(i.useExisting));else{const d=K(i&&(i.useClass||i.provide));if(!function ro(i){return!!i.deps}(i))return Ei(d)||lr(d);c=()=>new d(...D(i.deps))}return c}function Xr(i,s,u=!1){return{factory:i,value:s,multi:u?[]:void 0}}function cf(i){return!!i.\u0275providers}function Zu(i,s){for(const u of i)Array.isArray(u)?Zu(u,s):cf(u)?Zu(u.\u0275providers,s):s(u)}class df{}class f{resolveComponentFactory(s){throw function vg(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let g=(()=>{class i{}return i.NULL=new f,i})();function v(){return A(Cn(),Ce())}function A(i,s){return new P(Cr(i,s))}let P=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=v,i})();function W(i){return i instanceof P?i.nativeElement:i}class Le{}let Ke=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function gt(){const i=Ce(),u=Zt(Cn().index,i);return(tr(u)?u:i)[11]}(),i})(),at=(()=>{class i{}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>null}),i})();class Wn{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ni=new Wn("14.2.4"),ju={};function Oy(i){return i.ngOriginalError}class hf{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s);this._console.error("ERROR",s),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&Oy(s);for(;u&&Oy(u);)u=Oy(u);return u||null}}const Fy=new Map;let NI=0;const Tg="__ngContext__";function Ar(i,s){tr(s)?(i[Tg]=s[20],function OI(i){Fy.set(i[20],i)}(s)):i[Tg]=s}function ka(i){return i instanceof Function?i():i}var Vo=(()=>((Vo=Vo||{})[Vo.Important=1]="Important",Vo[Vo.DashCase=2]="DashCase",Vo))();function Zy(i,s){return undefined(i,s)}function Ld(i){const s=i[3];return Ir(s)?s[3]:s}function xg(i){return z0(i[13])}function Mg(i){return z0(i[4])}function z0(i){for(;null!==i&&!Ir(i);)i=i[4];return i}function Ud(i,s,u,c,d){if(null!=c){let p,_=!1;Ir(c)?p=c:tr(c)&&(_=!0,c=c[0]);const w=In(c);0===i&&null!==u?null==d?tb(s,u,w):Bo(s,u,w,d||null,!0):1===i&&null!==u?Bo(s,u,w,d||null,!0):2===i?function KI(i,s,u){const c=Ng(i,s);c&&function zI(i,s,u,c){i.removeChild(s,u,c)}(i,c,s,u)}(s,w,_):3===i&&s.destroyNode(w),null!=p&&function AA(i,s,u,c,d){const p=u[7];p!==In(u)&&Ud(s,i,c,p,d);for(let w=10;w<u.length;w++){const E=u[w];ic(E[1],E,i,s,c,p)}}(s,i,p,u,d)}}function Rg(i,s,u){return i.createElement(s,u)}function J0(i,s){const u=i[9],c=u.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,En(d,-1)),u.splice(c,1)}function Hy(i,s){if(i.length<=10)return;const u=10+s,c=i[u];if(c){const d=c[17];null!==d&&d!==i&&J0(d,c),s>0&&(i[u-1][4]=c[4]);const p=Dr(i,10+s);!function $y(i,s){ic(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function gf(i,s){if(!(128&s[2])){const u=s[11];u.destroyNode&&ic(i,s,u,3,null,null),function DA(i){let s=i[13];if(!s)return Pg(i[1],i);for(;s;){let u=null;if(tr(s))u=s[13];else{const c=s[10];c&&(u=c)}if(!u){for(;s&&!s[4]&&s!==i;)tr(s)&&Pg(s[1],s),s=s[3];null===s&&(s=i),tr(s)&&Pg(s[1],s),u=s&&s[4]}s=u}}(s)}}function Pg(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Wy(i,s){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let c=0;c<u.length;c+=2){const d=s[u[c]];if(!(d instanceof bs)){const p=u[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=d[p[_]],E=p[_+1];try{E.call(w)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function Gy(i,s){const u=i.cleanup,c=s[7];let d=-1;if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+1],w="function"==typeof _?_(s):In(s[_]),E=c[d=u[p+2]],T=u[p+3];"boolean"==typeof T?w.removeEventListener(u[p],E,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),p+=2}else{const _=c[d=u[p+1]];u[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const u=s[17];if(null!==u&&Ir(s[3])){u!==s[3]&&J0(u,s);const c=s[19];null!==c&&c.detachView(i)}!function FI(i){Fy.delete(i[20])}(s)}}function X0(i,s,u){return function eb(i,s,u){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return u[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===it.None||d===it.Emulated)return null}return Cr(c,u)}(i,s.parent,u)}function Bo(i,s,u,c,d){i.insertBefore(s,u,c,d)}function tb(i,s,u){i.appendChild(s,u)}function nb(i,s,u,c,d){null!==c?Bo(i,s,u,c,d):tb(i,s,u)}function Ng(i,s){return i.parentNode(s)}let zy=function ib(i,s,u){return 40&i.type?Cr(i,u):null};function mf(i,s,u,c){const d=X0(i,c,s),p=s[11],w=function gr(i,s,u){return zy(i,s,u)}(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(u))for(let E=0;E<u.length;E++)nb(p,d,u[E],w,!1);else nb(p,d,u,w,!1)}function kg(i,s){if(null!==s){const u=s.type;if(3&u)return Cr(s,i);if(4&u)return sb(-1,i[s.index]);if(8&u){const c=s.child;if(null!==c)return kg(i,c);{const d=i[s.index];return Ir(d)?sb(-1,d):In(d)}}if(32&u)return Zy(s,i)()||In(i[s.index]);{const c=Ky(i,s);return null!==c?Array.isArray(c)?c[0]:kg(Ld(i[16]),c):kg(i,s.next)}}return null}function Ky(i,s){return null!==s?i[16][6].projection[s.projection]:null}function sb(i,s){const u=10+i+1;if(u<s.length){const c=s[u],d=c[1].firstChild;if(null!==d)return kg(c,d)}return s[7]}function Yy(i,s,u,c,d,p,_){for(;null!=u;){const w=c[u.index],E=u.type;if(_&&0===s&&(w&&Ar(In(w),c),u.flags|=4),64!=(64&u.flags))if(8&E)Yy(i,s,u.child,c,d,p,!1),Ud(s,i,d,w,p);else if(32&E){const T=Zy(u,c);let M;for(;M=T();)Ud(s,i,d,M,p);Ud(s,i,d,w,p)}else 16&E?yf(i,s,c,u,d,p):Ud(s,i,d,w,p);u=_?u.projectionNext:u.next}}function ic(i,s,u,c,d,p){Yy(u,c,i.firstChild,s,d,p,!1)}function yf(i,s,u,c,d,p){const _=u[16],E=_[6].projection[c.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Ud(s,i,d,E[T],p);else Yy(i,s,E,_[3],d,p,!0)}function sc(i,s,u){i.setAttribute(s,"style",u)}function _f(i,s,u){""===u?i.removeAttribute(s,"class"):i.setAttribute(s,"class",u)}function YI(i,s,u){let c=i.length;for(;;){const d=i.indexOf(s,u);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}u=d+1}}const Qy="ng-template";function Jy(i,s,u){let c=0;for(;c<i.length;){let d=i[c++];if(u&&"class"===d){if(d=i[c],-1!==YI(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function ub(i){return 4===i.type&&i.value!==Qy}function JI(i,s,u){return s===(4!==i.type||u?i.value:Qy)}function XI(i,s,u){let c=4;const d=i.attrs||[],p=function SA(i){for(let s=0;s<i.length;s++)if(Ks(i[s]))return s;return i.length}(d);let _=!1;for(let w=0;w<s.length;w++){const E=s[w];if("number"!=typeof E){if(!_)if(4&c){if(c=2|1&c,""!==E&&!JI(i,E,u)||""===E&&1===s.length){if(Os(c))return!1;_=!0}}else{const T=8&c?E:s[++w];if(8&c&&null!==i.attrs){if(!Jy(i.attrs,T,u)){if(Os(c))return!1;_=!0}continue}const N=eC(8&c?"class":E,d,ub(i),u);if(-1===N){if(Os(c))return!1;_=!0;continue}if(""!==T){let $;$=N>p?"":d[N+1].toLowerCase();const ee=8&c?$:null;if(ee&&-1!==YI(ee,T,0)||2&c&&T!==$){if(Os(c))return!1;_=!0}}}}else{if(!_&&!Os(c)&&!Os(E))return!1;if(_&&Os(E))continue;_=!1,c=E|1&c}}return Os(c)||_}function Os(i){return 0==(1&i)}function eC(i,s,u,c){if(null===s)return-1;let d=0;if(c||!u){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=s[++d];for(;"string"==typeof w;)w=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function lb(i,s){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const c=i[u];if("number"==typeof c)return-1;if(c===s)return u;u++}return-1}(s,i)}function tC(i,s,u=!1){for(let c=0;c<s.length;c++)if(XI(i,s[c],u))return!0;return!1}function cb(i,s){return i?":not("+s.trim()+")":s}function db(i){let s=i[0],u=1,c=2,d="",p=!1;for(;u<i.length;){let _=i[u];if("string"==typeof _)if(2&c){const w=i[++u];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Os(_)&&(s+=cb(p,d),d=""),c=_,p=p||!Os(c);u++}return""!==d&&(s+=cb(p,d)),s}const St={};function hb(i){fb(Ft(),Ce(),$n()+i,!1)}function fb(i,s,u,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&vo(s,p,u)}else{const p=i.preOrderHooks;null!==p&&bo(s,p,0,u)}Vr(u)}function uC(i,s=null,u=null,c){const d=gb(i,s,u,c);return d.resolveInjectorInitializers(),d}function gb(i,s=null,u=null,c,d=new Set){const p=[u||mt,Ry(i)];return c=c||("object"==typeof i?void 0:de(i)),new Sd(p,s||Ad(),c||null,d)}let ye=(()=>{class i{static create(u,c){if(Array.isArray(u))return uC({name:""},c,u,"");{const d=u.name??"";return uC({name:d},u.parent,u.providers,d)}}}return i.THROW_IF_NOT_FOUND=gi,i.NULL=new af,i.\u0275prov=Wt({token:i,providedIn:"any",factory:()=>pn(wd)}),i.__NG_ELEMENT_ID__=-1,i})();function Oa(i,s=We.Default){const u=Ce();return null===u?pn(i,s):Qs(Cn(),u,K(i),s)}function io(){throw new Error("invalid")}function qg(i,s){return i<<17|s<<2}function so(i){return i>>17&32767}function vf(i){return 2|i}function $o(i){return(131068&i)>>2}function r_(i,s){return-131069&i|s<<2}function jd(i){return 1|i}function c_(i,s){const u=i.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],p=u[c+1];if(-1!==p){const _=i.data[p];da(d),_.contentQueries(2,s[p],p)}}}function qd(i,s,u,c,d,p,_,w,E,T,M){const N=s.blueprint.slice();return N[0]=d,N[2]=76|c,(null!==M||i&&1024&i[2])&&(N[2]|=1024),hu(N),N[3]=N[15]=i,N[8]=u,N[10]=_||i&&i[10],N[11]=w||i&&i[11],N[12]=E||i&&i[12]||null,N[9]=T||i&&i[9]||null,N[6]=p,N[20]=function kI(){return NI++}(),N[21]=M,N[16]=2==s.type?i[16]:N,N}function uc(i,s,u,c,d){let p=i.data[s];if(null===p)p=function h_(i,s,u,c,d){const p=_u(),_=oa(),E=i.data[s]=function TC(i,s,u,c,d,p){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,s,c,d);return null===i.firstChild&&(i.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(i,s,u,c,d),function Kp(){return yt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=u,p.value=c,p.attrs=d;const _=function _o(){const i=yt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Yr(p,!0),p}function Fa(i,s,u,c){if(0===u)return-1;const d=s.length;for(let p=0;p<u;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Sf(i,s,u){wu(s);try{const c=i.viewQuery;null!==c&&I_(1,c,u);const d=i.template;null!==d&&f_(i,s,d,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&c_(i,s),i.staticViewQueries&&I_(2,i.viewQuery,u);const p=i.components;null!==p&&function CC(i,s){for(let u=0;u<s.length;u++)Lb(i,s[u])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Gs()}}function $d(i,s,u,c){const d=s[2];if(128!=(128&d)){wu(s);try{hu(s),function Tl(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&f_(i,s,u,2,c);const _=3==(3&d);if(_){const T=i.preOrderCheckHooks;null!==T&&vo(s,T,null)}else{const T=i.preOrderHooks;null!==T&&bo(s,T,0,null),rd(s,0)}if(function Fb(i){for(let s=xg(i);null!==s;s=Mg(s)){if(!s[2])continue;const u=s[9];for(let c=0;c<u.length;c++){const d=u[c],p=d[3];0==(512&d[2])&&En(p,1),d[2]|=512}}}(s),function Ob(i){for(let s=xg(i);null!==s;s=Mg(s))for(let u=10;u<s.length;u++){const c=s[u],d=c[1];$s(c)&&$d(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&c_(i,s),_){const T=i.contentCheckHooks;null!==T&&vo(s,T)}else{const T=i.contentHooks;null!==T&&bo(s,T,1),rd(s,1)}!function IC(i,s){const u=i.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)Vr(~d);else{const p=d,_=u[++c],w=u[++c];Yp(_,p),w(2,s[p])}}}finally{Vr(-1)}}(i,s);const w=i.components;null!==w&&function d_(i,s){for(let u=0;u<s.length;u++)SC(i,s[u])}(s,w);const E=i.viewQuery;if(null!==E&&I_(2,E,c),_){const T=i.viewCheckHooks;null!==T&&vo(s,T)}else{const T=i.viewHooks;null!==T&&bo(s,T,2),rd(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,En(s[3],-1))}finally{Gs()}}}function f_(i,s,u,c,d){const p=$n(),_=2&c;try{Vr(-1),_&&s.length>22&&fb(i,s,22,!1),u(c,d)}finally{Vr(p)}}function xb(i,s,u){if(su(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,u[p],p)}}}function lc(i,s,u){!Yi()||(function Pb(i,s,u,c){const d=u.directiveStart,p=u.directiveEnd;i.firstCreatePass||Ys(u,s),Ar(c,s);const _=u.initialInputs;for(let w=d;w<p;w++){const E=i.data[w],T=fr(E);T&&Rf(s,u,E);const M=Ji(s,i,w,u);Ar(M,s),null!==_&&w_(0,w-d,M,E,0,_),T&&(Zt(u.index,s)[8]=M)}}(i,s,u,Cr(u,s)),128==(128&u.flags)&&function m_(i,s,u){const c=u.directiveStart,d=u.directiveEnd,p=u.index,_=function Al(){return yt.lFrame.currentDirectiveIndex}();try{Vr(p);for(let w=c;w<d;w++){const E=i.data[w],T=s[w];vu(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&y_(E,T)}}finally{Vr(-1),vu(_)}}(i,s,u))}function Kg(i,s,u=Cr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],w=-1===_?u(s,i):i[_];i[d++]=w}}}function p_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Yg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Yg(i,s,u,c,d,p,_,w,E,T){const M=22+c,N=M+d,$=function Qg(i,s){const u=[];for(let c=0;c<s;c++)u.push(c<i?null:St);return u}(M,N),ee="function"==typeof T?T():T;return $[1]={type:i,blueprint:$,template:u,queries:null,viewQuery:w,declTNode:s,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function cc(i,s,u,c){const d=C_(s);null===u?d.push(c):(d.push(u),i.firstCreatePass&&Ub(i).push(c,d.length-1))}function Mb(i,s,u){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(s,d):u[c]=[s,d]}return u}function Wu(i,s){const c=s.directiveEnd,d=i.data,p=s.attrs,_=[];let w=null,E=null;for(let T=s.directiveStart;T<c;T++){const M=d[T],N=M.inputs,$=null===p||ub(s)?null:tm(N,p);_.push($),w=Mb(N,T,w),E=Mb(M.outputs,T,E)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=E}function ri(i,s,u,c,d,p,_,w){const E=Cr(s,u);let M,T=s.inputs;!w&&null!=T&&(M=T[c])?(zd(i,u,M,c,d),ra(s)&&g_(u,s.index)):3&s.type&&(c=function Rb(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,s.value||"",c):d,p.setProperty(E,c,d))}function g_(i,s){const u=Zt(s,i);16&u[2]||(u[2]|=32)}function Jg(i,s,u,c){let d=!1;if(Yi()){const p=function Nb(i,s,u){const c=i.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];tC(u,_.selectors,!1)&&(d||(d=[]),ws(Ys(u,s),i,_.type),fr(_)?(Gd(i,u),d.unshift(_)):d.push(_))}return d}(i,s,u),_=null===c?null:{"":-1};if(null!==p){d=!0,em(u,i.data.length,p.length);for(let M=0;M<p.length;M++){const N=p[M];N.providersResolver&&N.providersResolver(N)}let w=!1,E=!1,T=Fa(i,s,p.length,null);for(let M=0;M<p.length;M++){const N=p[M];u.mergedAttrs=ha(u.mergedAttrs,N.hostAttrs),Mf(i,u,s,T,N),v_(T,N,_),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const $=N.type.prototype;!w&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(u.index),w=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(u.index),E=!0),T++}Wu(i,u)}_&&function __(i,s,u){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=u[s[d+1]];if(null==p)throw new be(-301,!1);c.push(s[d],p)}}}(u,c,_)}return u.mergedAttrs=ha(u.mergedAttrs,u.attrs),d}function Hd(i,s,u,c,d,p){const _=p.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const E=~s.index;(function Xg(i){let s=i.length;for(;s>0;){const u=i[--s];if("number"==typeof u&&u<0)return u}return 0})(w)!=E&&w.push(E),w.push(c,d,_)}}function y_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Gd(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function v_(i,s,u){if(u){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)u[s.exportAs[c]]=i;fr(s)&&(u[""]=i)}}function em(i,s,u){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+u,i.providerIndexes=s}function Mf(i,s,u,c,d){i.data[c]=d;const p=d.factory||(d.factory=Ei(d.type)),_=new bs(p,fr(d),Oa);i.blueprint[c]=_,u[c]=_,Hd(i,s,0,c,Fa(i,u,d.hostVars,St),d)}function Rf(i,s,u){const c=Cr(s,i),d=p_(u),p=i[10],_=zu(i,qd(i,d,null,u.onPush?32:16,c,s,p,p.createRenderer(c,u),null,null,null));i[s.index]=_}function oo(i,s,u,c,d,p){const _=Cr(i,s);!function b_(i,s,u,c,d,p,_){if(null==p)i.removeAttribute(s,d,u);else{const w=null==_?me(p):_(p,c||"",d);i.setAttribute(s,d,w,u)}}(s[11],_,p,i.value,u,c,d)}function w_(i,s,u,c,d,p){const _=p[s];if(null!==_){const w=c.setInput;for(let E=0;E<_.length;){const T=_[E++],M=_[E++],N=_[E++];null!==w?c.setInput(u,N,T,M):u[M]=N}}}function tm(i,s){let u=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return u}function E_(i,s,u,c){return new Array(i,!0,!1,s,null,0,c,u,null,null)}function SC(i,s){const u=Zt(s,i);if($s(u)){const c=u[1];48&u[2]?$d(c,u,c.template,u[8]):u[5]>0&&dc(u)}}function dc(i){for(let c=xg(i);null!==c;c=Mg(c))for(let d=10;d<c.length;d++){const p=c[d];if($s(p))if(512&p[2]){const _=p[1];$d(_,p,_.template,p[8])}else p[5]>0&&dc(p)}const u=i[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=Zt(u[c],i);$s(d)&&d[5]>0&&dc(d)}}function Lb(i,s){const u=Zt(s,i),c=u[1];(function nm(i,s){for(let u=s.length;u<i.blueprint.length;u++)s.push(i.blueprint[u])})(c,u),Sf(c,u,u[8])}function zu(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function La(i){for(;i;){i[2]|=32;const s=Ld(i);if(Fh(i)&&!s)return i;i=s}return null}function Wd(i,s,u,c=!0){const d=s[10];d.begin&&d.begin();try{$d(i,s,i.template,u)}catch(_){throw c&&Go(s,_),_}finally{d.end&&d.end()}}function I_(i,s,u){da(0),s(i,u)}function C_(i){return i[7]||(i[7]=[])}function Ub(i){return i.cleanup||(i.cleanup=[])}function Go(i,s){const u=i[9],c=u?u.get(hf,null):null;c&&c.handleError(s)}function zd(i,s,u,c,d){for(let p=0;p<u.length;){const _=u[p++],w=u[p++],E=s[_],T=i.data[_];null!==T.setInput?T.setInput(E,d,c,w):E[w]=d}}function Fs(i,s,u){const c=Kr(s,i);!function K0(i,s,u){i.setValue(s,u)}(i[11],c,u)}function Pf(i,s,u){let c=u?i.styles:null,d=u?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?p=w:1==p?d=fe(d,w):2==p&&(c=fe(c,w+": "+s[++_]+";"))}u?i.styles=c:i.stylesWithoutHost=c,u?i.classes=d:i.classesWithoutHost=d}function bn(i,s,u,c,d=!1){for(;null!==u;){const p=s[u.index];if(null!==p&&c.push(In(p)),Ir(p))for(let w=10;w<p.length;w++){const E=p[w],T=E[1].firstChild;null!==T&&bn(E[1],E,T,c)}const _=u.type;if(8&_)bn(i,s,u.child,c);else if(32&_){const w=Zy(u,s);let E;for(;E=w();)c.push(E)}else if(16&_){const w=Ky(s,u);if(Array.isArray(w))c.push(...w);else{const E=Ld(s[16]);bn(E[1],E,w,c,!0)}}u=d?u.projectionNext:u.next}return c}class Yu{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return bn(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ir(s)){const u=s[8],c=u?u.indexOf(this):-1;c>-1&&(Hy(s,c),Dr(u,c))}this._attachedToViewContainer=!1}gf(this._lView[1],this._lView)}onDestroy(s){cc(this._lView[1],this._lView,null,s)}markForCheck(){La(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q0(i,s){ic(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=s}}class Nf extends Yu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Wd(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class hc extends g{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Tt(s);return new kf(u,this.ngModule)}}function Vb(i){const s=[];for(let u in i)i.hasOwnProperty(u)&&s.push({propName:i[u],templateName:u});return s}class MC{constructor(s,u){this.injector=s,this.parentInjector=u}get(s,u,c){const d=this.injector.get(s,ju,c);return d!==ju||u===ju?d:this.parentInjector.get(s,u,c)}}class kf extends df{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function rC(i){return i.map(db).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Vb(this.componentDef.inputs)}get outputs(){return Vb(this.componentDef.outputs)}create(s,u,c,d){let p=(d=d||this.ngModule)instanceof ks?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new MC(s,p):s,w=_.get(Le,null);if(null===w)throw new be(407,!1);const E=_.get(at,null),T=w.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=c?function DC(i,s,u){return i.selectRootElement(s,u===it.ShadowDom)}(T,c,this.componentDef.encapsulation):Rg(w.createRenderer(null,this.componentDef),M,function Bb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),$=this.componentDef.onPush?288:272,ee=Yg(0,null,null,1,0,null,null,null,null,null),_e=qd(null,ee,null,$,null,null,w,T,E,_,null);let Oe,$e;wu(_e);try{const Qe=function Zb(i,s,u,c,d,p){const _=u[1];u[22]=i;const E=uc(_,22,2,"#host",null),T=E.mergedAttrs=s.hostAttrs;null!==T&&(Pf(E,T,!0),null!==i&&(Io(d,i,T),null!==E.classes&&_f(d,i,E.classes),null!==E.styles&&sc(d,i,E.styles)));const M=c.createRenderer(i,s),N=qd(u,p_(s),null,s.onPush?32:16,u[22],E,c,M,p||null,null,null);return _.firstCreatePass&&(ws(Ys(E,u),_,s.type),Gd(_,E),em(E,u.length,1)),zu(u,N),u[22]=N}(N,this.componentDef,_e,w,T);if(N)if(c)Io(T,N,["ng-version",Ni.full]);else{const{attrs:dt,classes:Te}=function iC(i){const s=[],u=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&u.push(p);else{if(!Os(d))break;d=p}c++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);dt&&Io(T,N,dt),Te&&Te.length>0&&_f(T,N,Te.join(" "))}if($e=yo(ee,22),void 0!==u){const dt=$e.projection=[];for(let Te=0;Te<this.ngContentSelectors.length;Te++){const vt=u[Te];dt.push(null!=vt?Array.from(vt):null)}}Oe=function jb(i,s,u,c){const d=u[1],p=function yi(i,s,u){const c=Cn();i.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Mf(i,c,s,Fa(i,s,1,null),u),Wu(i,c));const d=Ji(s,i,c.directiveStart,c);Ar(d,s);const p=Cr(c,s);return p&&Ar(p,s),d}(d,u,s);if(i[8]=u[8]=p,null!==c)for(const w of c)w(p,s);if(s.contentQueries){const w=Cn();s.contentQueries(1,p,w.directiveStart)}const _=Cn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Vr(_.index),Hd(u[1],_,0,_.directiveStart,_.directiveEnd,s),y_(s,p)),p}(Qe,this.componentDef,_e,[qb]),Sf(ee,_e,null)}finally{Gs()}return new Of(this.componentType,Oe,A($e,_e),_e,$e)}}class Of extends class _g{}{constructor(s,u,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=u,this.hostView=this.changeDetectorRef=new Nf(d),this.componentType=s}setInput(s,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){const p=this._rootLView;zd(p[1],p,d,s,u),g_(p,this._tNode.index)}}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function qb(){const i=Cn();Ol(Ce()[1],i)}function D_(i){let s=function pc(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const c=[i];for(;s;){let d;if(fr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new be(903,!1);d=s.\u0275dir}if(d){if(u){c.push(d);const _=i;_.inputs=rm(i.inputs),_.declaredInputs=rm(i.declaredInputs),_.outputs=rm(i.outputs);const w=d.hostBindings;w&&Hb(i,w);const E=d.viewQuery,T=d.contentQueries;if(E&&NC(i,E),T&&$b(i,T),le(i.inputs,d.inputs),le(i.declaredInputs,d.declaredInputs),le(i.outputs,d.outputs),fr(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(i),w===D_&&(u=!1)}}s=Object.getPrototypeOf(s)}!function PC(i){let s=0,u=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=ha(d.hostAttrs,u=ha(u,d.hostAttrs))}}(c)}function rm(i){return i===wr?{}:i===mt?[]:i}function NC(i,s){const u=i.viewQuery;i.viewQuery=u?(c,d)=>{s(c,d),u(c,d)}:s}function $b(i,s){const u=i.contentQueries;i.contentQueries=u?(c,d,p)=>{s(c,d,p),u(c,d,p)}:s}function Hb(i,s){const u=i.hostBindings;i.hostBindings=u?(c,d)=>{s(c,d),u(c,d)}:s}let Ff=null;function Ua(){if(!Ff){const i=un.Symbol;if(i&&i.iterator)Ff=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const c=s[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Ff=c)}}}return Ff}function Lf(i){return!!gc(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ua()in i)}function gc(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ls(i,s,u){return i[s]=u}function cr(i,s,u){return!Object.is(i[s],u)&&(i[s]=u,!0)}function ao(i,s,u,c){const d=cr(i,s,u);return cr(i,s+1,c)||d}function am(i,s,u,c){const d=Ce();return cr(d,Hs(),s)&&(Ft(),oo(fn(),d,i,s,u,c)),am}function Qd(i,s,u,c){return cr(i,Hs(),u)?s+me(u)+c:St}function Jd(i,s,u,c,d,p){const w=ao(i,function Ci(){return yt.lFrame.bindingIndex}(),u,d);return Qi(2),w?s+me(u)+c+me(d)+p:St}function eh(i,s,u,c,d,p,_,w){const E=Ce(),T=Ft(),M=i+22,N=T.firstCreatePass?function Wb(i,s,u,c,d,p,_,w,E){const T=s.consts,M=uc(s,i,4,_||null,di(T,w));Jg(s,u,M,di(T,E)),Ol(s,M);const N=M.tViews=Yg(2,M,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,M),N.queries=s.queries.embeddedTView(M)),M}(M,T,E,s,u,c,d,p,_):T.data[M];Yr(N,!1);const $=E[11].createComment("");mf(T,E,$,N),Ar($,E),zu(E,E[M]=E_($,E,$,N)),yl(N)&&lc(T,E,N),null!=_&&Kg(E,N,w)}function P_(i){return Ki(function Dl(){return yt.lFrame.contextLView}(),22+i)}function Bf(i,s,u){const c=Ce();return cr(c,Hs(),s)&&ri(Ft(),fn(),c,i,s,c[11],u,!1),Bf}function Zf(i,s,u,c,d){const _=d?"class":"style";zd(i,u,s.inputs[_],_,c)}function bc(i,s,u,c){const d=Ce(),p=Ft(),_=22+i,w=d[11],E=d[_]=Rg(w,s,function Iu(){return yt.lFrame.currentNamespace}()),T=p.firstCreatePass?function Kb(i,s,u,c,d,p,_){const w=s.consts,T=uc(s,i,2,d,di(w,p));return Jg(s,u,T,di(w,_)),null!==T.attrs&&Pf(T,T.attrs,!1),null!==T.mergedAttrs&&Pf(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,p,d,0,s,u,c):p.data[_];Yr(T,!0);const M=T.mergedAttrs;null!==M&&Io(w,E,M);const N=T.classes;null!==N&&_f(w,E,N);const $=T.styles;return null!==$&&sc(w,E,$),64!=(64&T.flags)&&mf(p,d,E,T),0===function pu(){return yt.lFrame.elementDepthCount}()&&Ar(E,d),function gu(){yt.lFrame.elementDepthCount++}(),yl(T)&&(lc(p,d,T),xb(p,T,d)),null!==c&&Kg(d,T),bc}function jf(){let i=Cn();oa()?aa():(i=i.parent,Yr(i,!1));const s=i;!function El(){yt.lFrame.elementDepthCount--}();const u=Ft();return u.firstCreatePass&&(Ol(u,i),su(i)&&u.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Tu(i){return 0!=(16&i.flags)}(s)&&Zf(u,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function sd(i){return 0!=(32&i.flags)}(s)&&Zf(u,s,Ce(),s.stylesWithoutHost,!1),jf}function cm(i,s,u,c){return bc(i,s,u,c),jf(),cm}function qf(i,s,u){const c=Ce(),d=Ft(),p=i+22,_=d.firstCreatePass?function wc(i,s,u,c,d){const p=s.consts,_=di(p,c),w=uc(s,i,8,"ng-container",_);return null!==_&&Pf(w,_,!0),Jg(s,u,w,di(p,d)),null!==s.queries&&s.queries.elementStart(s,w),w}(p,d,c,s,u):d.data[p];Yr(_,!0);const w=c[p]=c[11].createComment("");return mf(d,c,w,_),Ar(w,c),yl(_)&&(lc(d,c,_),xb(d,_,c)),null!=u&&Kg(c,_),qf}function $f(){let i=Cn();const s=Ft();return oa()?aa():(i=i.parent,Yr(i,!1)),s.firstCreatePass&&(Ol(s,i),su(i)&&s.queries.elementEnd(i)),$f}function k_(){return Ce()}function th(i){return!!i&&"function"==typeof i.then}function Oi(i){return!!i&&"function"==typeof i.subscribe}const O_=Oi;function dm(i,s,u,c){const d=Ce(),p=Ft(),_=Cn();return function Yb(i,s,u,c,d,p,_,w){const E=yl(c),M=i.firstCreatePass&&Ub(i),N=s[8],$=C_(s);let ee=!0;if(3&c.type||w){const $e=Cr(c,s),Qe=w?w($e):$e,dt=$.length,Te=w?Jt=>w(In(Jt[c.index])):c.index;let vt=null;if(!w&&E&&(vt=function FC(i,s,u,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===u&&d[p+1]===c){const w=s[7],E=d[p+2];return w.length>E?w[E]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,c.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=p,vt.__ngLastListenerFn__=p,ee=!1;else{p=Qb(c,s,N,p,!1);const Jt=u.listen(Qe,d,p);$.push(p,Jt),M&&M.push(d,Te,dt,dt+1)}}else p=Qb(c,s,N,p,!1);const _e=c.outputs;let Oe;if(ee&&null!==_e&&(Oe=_e[d])){const $e=Oe.length;if($e)for(let Qe=0;Qe<$e;Qe+=2){const Nn=s[Oe[Qe]][Oe[Qe+1]].subscribe(p),nu=$.length;$.push(p,Nn),M&&M.push(d,c.index,nu,-(nu+1))}}}(p,d,d[11],_,i,s,0,c),dm}function hm(i,s,u,c){try{return!1!==u(c)}catch(d){return Go(i,d),!1}}function Qb(i,s,u,c,d){return function p(_){if(_===Function)return c;La(2&i.flags?Zt(i.index,s):s);let E=hm(s,0,c,_),T=p.__ngNextListenerFn__;for(;T;)E=hm(s,0,T,_)&&E,T=T.__ngNextListenerFn__;return d&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function Jb(i=1){return function Ws(i){return(yt.lFrame.contextLView=function Eu(i,s){for(;i>0;)s=s[15],i--;return s}(i,yt.lFrame.contextLView))[8]}(i)}function F_(i,s,u){return pm(i,"",s,"",u),F_}function pm(i,s,u,c,d){const p=Ce(),_=Qd(p,s,u,c);return _!==St&&ri(Ft(),fn(),p,i,_,p[11],d,!1),pm}function nw(i,s,u,c,d){const p=i[u+1],_=null===s;let w=c?so(p):$o(p),E=!1;for(;0!==w&&(!1===E||_);){const M=i[w+1];Ge(i[w],s)&&(E=!0,i[w+1]=c?jd(M):vf(M)),w=c?so(M):$o(M)}E&&(i[u+1]=c?vf(p):jd(p))}function Ge(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ts(i,s)>=0}function mm(i,s){return function uo(i,s,u,c){const d=Ce(),p=Ft(),_=Qi(2);p.firstUpdatePass&&function Gf(i,s,u,c){const d=i.data;if(null===d[u+1]){const p=d[$n()],_=function qe(i,s){return s>=i.expandoStartIndex}(i,u);(function vm(i,s){return 0!=(i.flags&(s?16:32))})(p,c)&&null===s&&!_&&(s=!1),s=function U_(i,s,u,c){const d=function ca(i){const s=yt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(u=Za(u=V_(null,i,s,u,c),s.attrs,c),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(u=V_(d,i,s,u,c),null===p){let E=function Dc(i,s,u){const c=u?s.classBindings:s.styleBindings;if(0!==$o(c))return i[so(c)]}(i,s,c);void 0!==E&&Array.isArray(E)&&(E=V_(null,i,s,E[1],c),E=Za(E,s.attrs,c),function jC(i,s,u,c){i[so(u?s.classBindings:s.styleBindings)]=c}(i,s,c,E))}else p=function ym(i,s,u){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=Za(c,i[p].hostAttrs,u);return Za(c,s.attrs,u)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),u}(d,p,s,c),function Xe(i,s,u,c,d,p){let _=p?s.classBindings:s.styleBindings,w=so(_),E=$o(_);i[c]=u;let M,T=!1;if(Array.isArray(u)){const N=u;M=N[1],(null===M||Ts(N,M)>0)&&(T=!0)}else M=u;if(d)if(0!==E){const $=so(i[w+1]);i[c+1]=qg($,w),0!==$&&(i[$+1]=r_(i[$+1],c)),i[w+1]=function wb(i,s){return 131071&i|s<<17}(i[w+1],c)}else i[c+1]=qg(w,0),0!==w&&(i[w+1]=r_(i[w+1],c)),w=c;else i[c+1]=qg(E,0),0===w?w=c:i[E+1]=r_(i[E+1],c),E=c;T&&(i[c+1]=vf(i[c+1])),nw(i,M,c,!0),nw(i,M,c,!1),function It(i,s,u,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Ts(p,s)>=0&&(u[c+1]=jd(u[c+1]))}(s,M,i,c,p),_=qg(w,E),p?s.classBindings=_:s.styleBindings=_}(d,p,s,u,_,c)}}(p,i,_,c),s!==St&&cr(d,_,s)&&function _m(i,s,u,c,d,p,_,w){if(!(3&s.type))return;const E=i.data,T=E[w+1];Wf(function i_(i){return 1==(1&i)}(T)?Z_(E,s,u,d,$o(T),_):void 0)||(Wf(p)||function ac(i){return 2==(2&i)}(T)&&(p=Z_(E,null,u,d,w,_)),function ab(i,s,u,c,d){if(s)d?i.addClass(u,c):i.removeClass(u,c);else{let p=-1===c.indexOf("-")?void 0:Vo.DashCase;null==d?i.removeStyle(u,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Vo.Important),i.setStyle(u,c,d,p))}}(c,_,Kr($n(),u),d,p))}(p,p.data[$n()],d,d[11],i,d[_+1]=function Ju(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(xi(i)))),i}(s,u),c,_)}(i,s,null,!0),mm}function V_(i,s,u,c,d){let p=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(p=s[w],c=Za(c,p.hostAttrs,d),p!==i);)w++;return null!==i&&(u.directiveStylingLast=w),c}function Za(i,s,u){const c=u?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),rt(i,_,!!u||s[++p]))}return void 0===i?null:i}function Z_(i,s,u,c,d,p){const _=null===s;let w;for(;d>0;){const E=i[d],T=Array.isArray(E),M=T?E[1]:E,N=null===M;let $=u[d+1];$===St&&($=N?mt:void 0);let ee=N?Ia($,c):M===c?$:void 0;if(T&&!Wf(ee)&&(ee=Ia(E,c)),Wf(ee)&&(w=ee,_))return w;const _e=i[d+1];d=_?so(_e):$o(_e)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(w=Ia(E,c))}return w}function Wf(i){return void 0!==i}function ae(i,s=""){const u=Ce(),c=Ft(),d=i+22,p=c.firstCreatePass?uc(c,d,1,s,null):c.data[d],_=u[d]=function qy(i,s){return i.createText(s)}(u[11],s);mf(c,u,_,p),Yr(p,!1)}function rh(i){return Fi("",i,""),rh}function Fi(i,s,u){const c=Ce(),d=Qd(c,i,s,u);return d!==St&&Fs(c,$n(),d),Fi}function j_(i,s,u,c,d){const p=Ce(),_=Jd(p,i,s,u,c,d);return _!==St&&Fs(p,$n(),_),j_}const ii=void 0;var nl=["en",[["a","p"],["AM","PM"],ii],[["AM","PM"],ii,ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ii,"{1} 'at' {0}",ii],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Kf(i){const u=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Sc={};function Qf(i){const s=function Cm(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=ch(s);if(u)return u;const c=s.split("-")[0];if(u=ch(c),u)return u;if("en"===c)return nl;throw new be(701,!1)}function Im(i){return Qf(i)[pt.PluralCase]}function ch(i){return i in Sc||(Sc[i]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[i]),Sc[i]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const dh="en-US";let wn=dh;function Pc(i,s,u,c,d){if(i=K(i),Array.isArray(i))for(let p=0;p<i.length;p++)Pc(i[p],s,u,c,d);else{const p=Ft(),_=Ce();let w=Pi(i)?i:K(i.provide),E=Md(i);const T=Cn(),M=1048575&T.providerIndexes,N=T.directiveStart,$=T.providerIndexes>>20;if(Pi(i)||!i.multi){const ee=new bs(E,d,Oa),_e=Rm(w,s,d?M:M+$,N);-1===_e?(ws(Ys(T,_),p,w),Mm(p,i,s.length),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(ee),_.push(ee)):(u[_e]=ee,_[_e]=ee)}else{const ee=Rm(w,s,M+$,N),_e=Rm(w,s,M,M+$),Oe=ee>=0&&u[ee],$e=_e>=0&&u[_e];if(d&&!$e||!d&&!Oe){ws(Ys(T,_),p,w);const Qe=function kt(i,s,u,c,d){const p=new bs(i,u,Oa);return p.multi=[],p.index=s,p.componentProviders=0,co(p,d,c&&!u),p}(d?oD:ap,u.length,d,c,E);!d&&$e&&(u[_e].providerFactory=Qe),Mm(p,i,s.length,0),s.push(w),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),u.push(Qe),_.push(Qe)}else Mm(p,i,ee>-1?ee:_e,co(u[d?_e:ee],E,!d&&c));!d&&c&&$e&&u[_e].componentProviders++}}}function Mm(i,s,u,c){const d=Pi(s),p=function lf(i){return!!i.useClass}(s);if(d||p){const E=(p?K(s.useClass):s).prototype.ngOnDestroy;if(E){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const M=T.indexOf(u);-1===M?T.push(u,[c,E]):T[M+1].push(c,E)}else T.push(u,E)}}}function co(i,s,u){return u&&i.componentProviders++,i.multi.push(s)-1}function Rm(i,s,u,c){for(let d=u;d<c;d++)if(s[d]===i)return d;return-1}function ap(i,s,u,c){return rv(this.multi,[])}function oD(i,s,u,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Ji(u,u[1],this.providerFactory.index,c);p=w.slice(0,_),rv(d,p);for(let E=_;E<w.length;E++)p.push(w[E])}else p=[],rv(d,p);return p}function rv(i,s){for(let u=0;u<i.length;u++)s.push((0,i[u])());return s}function qw(i,s=[]){return u=>{u.providersResolver=(c,d)=>function jw(i,s,u){const c=Ft();if(c.firstCreatePass){const d=fr(i);Pc(u,c.data,c.blueprint,d,!0),Pc(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Wa{}class yh{}function up(i,s){return new sv(i,s??null)}class sv extends Wa{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hc(this);const c=Er(s);this._bootstrapComponents=ka(c.bootstrap),this._r3Injector=gb(s,u,[{provide:Wa,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],de(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Pm extends yh{constructor(s){super(),this.moduleType=s}create(s){return new sv(this.moduleType,s)}}class $w extends Wa{constructor(s,u,c){super(),this.componentFactoryResolver=new hc(this),this.instance=null;const d=new Sd([...s,{provide:Wa,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],u||Ad(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function ov(i,s,u=null){return new $w(i,s,u).injector}let Hw=(()=>{class i{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=Id(0,u.type),d=c.length>0?ov([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Wt({token:i,providedIn:"environment",factory:()=>new i(pn(ks))}),i})();function av(i){i.getStandaloneInjector=s=>s.get(Hw).getOrCreateStandaloneInjector(i)}function bh(i,s,u,c){return function Nc(i,s,u,c,d,p){const _=s+u;return cr(i,_,d)?Ls(i,_+1,p?c.call(p,d):c(d)):cp(i,_+1)}(Ce(),Dn(),i,s,u,c)}function cp(i,s){const u=i[s];return u===St?void 0:u}function hv(i,s){const u=Ft();let c;const d=i+22;u.firstCreatePass?(c=function _i(i,s){if(s)for(let u=s.length-1;u>=0;u--){const c=s[u];if(i===c.name)return c}}(s,u.pipeRegistry),u.data[d]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(d,c.onDestroy)):c=u.data[d];const p=c.factory||(c.factory=Ei(c.type)),_=xn(Oa);try{const w=ga(!1),E=p();return ga(w),function zb(i,s,u,c){u>=i.data.length&&(i.data[u]=null,i.blueprint[u]=null),s[u]=c}(u,Ce(),d,E),E}finally{xn(_)}}function ho(i,s,u,c){const d=i+22,p=Ce(),_=Ki(p,d);return function dp(i,s){return i[1].data[s].pure}(p,d)?function kc(i,s,u,c,d,p,_){const w=s+u;return ao(i,w,d,p)?Ls(i,w+2,_?c.call(_,d,p):c(d,p)):cp(i,w+2)}(p,Dn(),s,_.transform,u,c,_):_.transform(u,c)}function fv(i){return s=>{setTimeout(i,void 0,s)}}const Ko=class gD extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,c){let d=s,p=u||(()=>null),_=c;if(s&&"object"==typeof s){const E=s;d=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=fv(p),d&&(d=fv(d)),_&&(_=fv(_)));const w=super.subscribe({next:d,error:p,complete:_});return s instanceof X.w0&&s.add(w),w}};function mD(){return this._results[Ua()]()}class pv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ua(),c=pv.prototype;c[u]||(c[u]=mD)}get changes(){return this._changes||(this._changes=new Ko)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const c=this;c.dirty=!1;const d=_n(s);(this._changesDetected=!function Qr(i,s,u){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(u&&(d=u(d),p=u(p)),p!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hp=(()=>{class i{}return i.__NG_ELEMENT_ID__=vD,i})();const yD=hp,_D=class extends yD{constructor(s,u,c){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(s,u){const c=this._declarationTContainer.tViews,d=qd(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,u||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),Sf(c,d,s),new Yu(d)}};function vD(){return Om(Cn(),Ce())}function Om(i,s){return 4&i.type?new _D(s,i,A(i,s)):null}let Fm=(()=>{class i{}return i.__NG_ELEMENT_ID__=bD,i})();function bD(){return yv(Cn(),Ce())}const wD=Fm,aE=class extends wD{constructor(s,u,c){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=c}get element(){return A(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const s=Mu(this._hostTNode,this._hostLView);if(ad(s)){const u=pa(s,this._hostLView),c=nr(s);return new Js(u[1].data[c+8],u)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=gv(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const _=s.createEmbeddedView(u||{},p);return this.insert(_,d),_}createComponent(s,u,c,d,p){const _=s&&!function fi(i){return"function"==typeof i}(s);let w;if(_)w=u;else{const N=u||{};w=N.index,c=N.injector,d=N.projectableNodes,p=N.environmentInjector||N.ngModuleRef}const E=_?s:new kf(Tt(s)),T=c||this.parentInjector;if(!p&&null==E.ngModule){const $=(_?T:this.parentInjector).get(ks,null);$&&(p=$)}const M=E.create(T,d,void 0,p);return this.insert(M.hostView,w),M}insert(s,u){const c=s._lView,d=c[1];if(function du(i){return Ir(i[3])}(c)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const N=c[3],$=new aE(N,N[6],N[3]);$.detach($.indexOf(s))}}const p=this._adjustIndex(u),_=this._lContainer;!function GI(i,s,u,c){const d=10+c,p=u.length;c>0&&(u[d-1][4]=s),c<p-10?(s[4]=u[d],wa(u,10+c,s)):(u.push(s),s[4]=null),s[3]=u;const _=s[17];null!==_&&u!==_&&function WI(i,s){const u=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===u?i[9]=[s]:u.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=64}(d,c,_,p);const w=sb(p,_),E=c[11],T=Ng(E,_[7]);return null!==T&&function Y0(i,s,u,c,d,p){c[0]=d,c[6]=s,ic(i,c,u,1,d,p)}(d,_[6],E,c,T,w),s.attachToViewContainerRef(),wa(mv(_),p,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=gv(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),c=Hy(this._lContainer,u);c&&(Dr(mv(this._lContainer),u),gf(c[1],c))}detach(s){const u=this._adjustIndex(s,-1),c=Hy(this._lContainer,u);return c&&null!=Dr(mv(this._lContainer),u)?new Yu(c):null}_adjustIndex(s,u=0){return s??this.length+u}};function gv(i){return i[8]}function mv(i){return i[8]||(i[8]=[])}function yv(i,s){let u;const c=s[i.index];if(Ir(c))u=c;else{let d;if(8&i.type)d=In(c);else{const p=s[11];d=p.createComment("");const _=Cr(i,s);Bo(p,Ng(p,_),d,function rb(i,s){return i.nextSibling(s)}(p,_),!1)}s[i.index]=u=E_(c,s,d,i),zu(s,u)}return new aE(u,i,s)}class dr{constructor(s){this.queryList=s,this.matches=null}clone(){return new dr(this.queryList)}setDirty(){this.queryList.setDirty()}}class fp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const c=null!==s.contentQueries?s.contentQueries[0]:u.length,d=[];for(let p=0;p<c;p++){const _=u.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new fp(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==Ev(s,u).matches&&this.queries[u].setDirty()}}class Lm{constructor(s,u,c=null){this.predicate=s,this.flags=u,this.read=c}}class pp{constructor(s=[]){this.queries=s}elementStart(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==u?u.push(p):u=[p])}return null!==u?new pp(u):null}template(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Yo{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new Yo(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,u,cE(u,p)),this.matchTNodeWithReadOption(s,u,Co(u,s,p,!1,!1))}else c===hp?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Co(u,s,c,!1,!1))}matchTNodeWithReadOption(s,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===P||d===Fm||d===hp&&4&u.type)this.addMatch(u.index,-2);else{const p=Co(u,s,d,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,c)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function cE(i,s){const u=i.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===s)return u[c+1];return null}function dE(i,s,u,c){return-1===u?function ID(i,s){return 11&i.type?A(i,s):4&i.type?Om(i,s):null}(s,i):-2===u?function Um(i,s,u){return u===P?A(s,i):u===hp?Om(s,i):u===Fm?yv(s,i):void 0}(i,s,c):Ji(i,i[1],u,s)}function sl(i,s,u,c){const d=s[19].queries[c];if(null===d.matches){const p=i.data,_=u.matches,w=[];for(let E=0;E<_.length;E+=2){const T=_[E];w.push(T<0?null:dE(s,p[T],_[E+1],u.metadata.read))}d.matches=w}return d.matches}function Ka(i,s,u,c){const d=i.queries.getByIndex(u),p=d.matches;if(null!==p){const _=sl(i,s,d,u);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)c.push(_[w/2]);else{const T=p[w+1],M=s[-E];for(let N=10;N<M.length;N++){const $=M[N];$[17]===$[3]&&Ka($[1],$,T,c)}if(null!==M[9]){const N=M[9];for(let $=0;$<N.length;$++){const ee=N[$];Ka(ee[1],ee,T,c)}}}}}return c}function ol(i){const s=Ce(),u=Ft(),c=Sl();da(c+1);const d=Ev(u,c);if(i.dirty&&function cu(i){return 4==(4&i[2])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Ka(u,s,c,[]):sl(u,s,d,c);i.reset(p,W),i.notifyOnChanges()}return!0}return!1}function _v(i,s,u,c){const d=Ft();if(d.firstCreatePass){const p=Cn();(function wv(i,s,u){null===i.queries&&(i.queries=new pp),i.queries.track(new Yo(s,u))})(d,new Lm(s,u,c),p.index),function CD(i,s){const u=i.contentQueries||(i.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,s)}(d,i),2==(2&u)&&(d.staticContentQueries=!0)}!function bv(i,s,u){const c=new pv(4==(4&u));cc(i,s,c,c.destroy),null===s[19]&&(s[19]=new fp),s[19].queries.push(new dr(c))}(d,Ce(),u)}function Vm(){return function vv(i,s){return i[19].queries[s].queryList}(Ce(),Sl())}function Ev(i,s){return i.queries.getByIndex(s)}function qm(...i){}const DE=new cn("Application Initializer");let Vc=(()=>{class i{constructor(u){this.appInits=u,this.resolve=qm,this.reject=qm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(th(p))u.push(p);else if(O_(p)){const _=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)(pn(DE,8))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const TE=new cn("AppId",{providedIn:"root",factory:function Nv(){return`${_p()}${_p()}${_p()}`}});function _p(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ch=new cn("Platform Initializer"),$m=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Hm=new cn("appBootstrapListener");let LD=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const vp=new cn("LocaleId",{providedIn:"root",factory:()=>I(vp,We.Optional|We.SkipSelf)||function xE(){return typeof $localize<"u"&&$localize.locale||dh}()}),kv=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ME{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let VD=(()=>{class i{compileModuleSync(u){return new Pm(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),p=ka(Er(u).declarations).reduce((_,w)=>{const E=Tt(w);return E&&_.push(new kf(E)),_},[]);return new ME(c,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ZD=(()=>Promise.resolve(0))();function Ep(i){typeof Zone>"u"?ZD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Bi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ko(!1),this.onMicrotaskEmpty=new Ko(!1),this.onStable=new Ko(!1),this.onError=new Ko(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function jD(){let i=un.requestAnimationFrame,s=un.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Wm(i){const s=()=>{!function Lv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(un,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Bc(i),i.isCheckStableRunning=!0,Gm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Bc(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,p,_,w)=>{try{return Ip(i),u.invokeTask(d,p,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),zm(i)}},onInvoke:(u,c,d,p,_,w,E)=>{try{return Ip(i),u.invoke(d,p,_,w,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),zm(i)}},onHasTask:(u,c,d,p)=>{u.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Bc(i),Gm(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,c,d,p)=>(u.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bi.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Bi.isInAngularZone())throw new be(909,!1)}run(s,u,c){return this._inner.run(s,u,c)}runTask(s,u,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,RE,qm,qm);try{return p.runTask(_,u,c)}finally{p.cancelTask(_)}}runGuarded(s,u,c){return this._inner.runGuarded(s,u,c)}runOutsideAngular(s){return this._outer.run(s)}}const RE={};function Gm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Bc(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ip(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zm(i){i._nesting--,Gm(i)}class Uv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ko,this.onMicrotaskEmpty=new Ko,this.onStable=new Ko,this.onError=new Ko}run(s,u,c){return s.apply(u,c)}runGuarded(s,u,c){return s.apply(u,c)}runOutsideAngular(s){return s()}runTask(s,u,c,d){return s.apply(u,c)}}const Km=new cn(""),Vv=new cn("");let Zv,qD=(()=>{class i{constructor(u,c,d){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zv||(function $D(i){Zv=i}(d),d.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bi.assertNotInAngularZone(),Ep(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ep(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,d){return[]}}return i.\u0275fac=function(u){return new(u||i)(pn(Bi),pn(Bv),pn(Vv))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})(),Bv=(()=>{class i{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Zv?.findTestabilityInTree(this,u,c)??null}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),ul=null;const jv=new cn("AllowMultipleToken"),Th=new cn("PlatformDestroyListeners");class WD{constructor(s,u){this.name=s,this.token=u}}function Qm(i,s,u=[]){const c=`Platform: ${s}`,d=new cn(c);return(p=[])=>{let _=Zc();if(!_||_.injector.get(jv,!1)){const w=[...u,...p,{provide:d,useValue:!0}];i?i(w):function zD(i){if(ul&&!ul.get(jv,!1))throw new be(400,!1);ul=i;const s=i.get(Xm);(function PE(i){const s=i.get(Ch,null);s&&s.forEach(u=>u())})(i)}(function Jm(i=[],s){return ye.create({name:s,providers:[{provide:Dd,useValue:"platform"},{provide:Th,useValue:new Set([()=>ul=null])},...i]})}(w,c))}return function Ah(i){const s=Zc();if(!s)throw new be(401,!1);return s}()}}function Zc(){return ul?.get(Xm)??null}let Xm=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const d=function ey(i,s){let u;return u="noop"===i?new Uv:("zone.js"===i?void 0:i)||new Bi(s),u}(c?.ngZone,function Hv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Bi,useValue:d}];return d.run(()=>{const _=ye.create({providers:p,parent:this.injector,name:u.moduleType.name}),w=u.create(_),E=w.injector.get(hf,null);if(!E)throw new be(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:M=>{E.handleError(M)}});w.onDestroy(()=>{ny(this._modules,w),T.unsubscribe()})}),function ty(i,s,u){try{const c=u();return th(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(E,d,()=>{const T=w.injector.get(Vc);return T.runInitializers(),T.donePromise.then(()=>(function mw(i){Vt(i,"Expected localeId to be defined"),"string"==typeof i&&(wn=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(vp,dh)||dh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,c=[]){const d=eu({},c);return function qv(i,s,u){const c=new Pm(u);return Promise.resolve(c)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(u){const c=u.injector.get(Cp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new be(403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(Th,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(pn(ye))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function eu(i,s){return Array.isArray(s)?s.reduce(eu,i):{...i,...s}}let Cp=(()=>{class i{constructor(u,c,d){this._zone=u,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new k.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Bi.assertNotInAngularZone(),Ep(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ue.T)(p,_.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const d=u instanceof df;if(!this._injector.get(Vc).done)throw!d&&bi(u),new be(405,false);let _;_=d?u:this._injector.get(g).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const w=function GD(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Wa),T=_.create(ye.NULL,[],c||_.selector,w),M=T.location.nativeElement,N=T.injector.get(Km,null);return N?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),ny(this.components,T),N?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;ny(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Hm,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ny(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new be(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(u){return new(u||i)(pn(Bi),pn(ks),pn(hf))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ny(i,s){const u=i.indexOf(s);u>-1&&i.splice(u,1)}let iy=!0,NE=!1;function Gv(){return NE=!0,iy}function sy(){if(NE)throw new Error("Cannot enable prod mode after platform setup.");iy=!1}let Wv=(()=>{class i{}return i.__NG_ELEMENT_ID__=JD,i})();function JD(i){return function XD(i,s,u){if(ra(i)&&!u){const c=Zt(i.index,s);return new Yu(c,c)}return 47&i.type?new Yu(s[16],s):null}(Cn(),Ce(),16==(16&i))}class FE{constructor(){}supports(s){return Lf(s)}create(s){return new Qv(s)}}const Yv=(i,s)=>s;class Qv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Yv}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,c=this._removalsHead,d=0,p=null;for(;u||c;){const _=!c||u&&u.currentIndex<UE(c,d,p)?u:c,w=UE(_,d,p),E=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)d++;else{p||(p=[]);const T=w-d,M=E-d;if(T!=M){for(let $=0;$<T;$++){const ee=$<p.length?p[$]:p[$]=0,_e=ee+$;M<=_e&&_e<T&&(p[$]=ee+1)}p[_.previousIndex]=M-T}}w!==E&&s(_,w,E)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!Lf(s))throw new be(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,u=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],_=this._trackByFn(w,p),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,p,_,w)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,w),c=!0),u=u._next}else d=0,function im(i,s){if(Array.isArray(i))for(let u=0;u<i.length;u++)s(i[u]);else{const u=i[Ua()]();let c;for(;!(c=u.next()).done;)s(c.value)}}(s,w=>{_=this._trackByFn(d,w),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,w,_,d)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,p,d)):s=this._addAfter(new Jv(u,c),p,d),s}_verifyReinsertion(s,u,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,u,c),this._addToMoves(s,c),s}_moveAfter(s,u,c){return this._unlink(s),this._insertAfter(s,u,c),this._addToMoves(s,c),s}_addAfter(s,u,c){return this._insertAfter(s,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,c){const d=null===u?this._itHead:u._next;return s._next=d,s._prev=u,null===d?this._itTail=s:d._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new LE),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,c=s._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Jv{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xv{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const u=s._prevDup,c=s._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class LE{constructor(){this.map=new Map}put(s){const u=s.trackById;let c=this.map.get(u);c||(c=new Xv,this.map.set(u,c)),c.add(s)}get(s,u){const d=this.map.get(s);return d?d.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UE(i,s,u){const c=i.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+s+d}class ly{constructor(){}supports(s){return s instanceof Map||gc(s)}create(){return new e0}}class e0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||gc(s)))throw new be(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const c=s._prev;return u._next=s,u._prev=c,s._prev=u,c&&(c._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,u);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new iT(s);return this._records.set(s,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(c=>u(s[c],c))}}class iT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function t0(){return new n0([new FE])}let n0=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||t0()),deps:[[i,new ft,new Re]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new be(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:t0}),i})();function r0(){return new cy([new ly])}let cy=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||r0()),deps:[[i,new ft,new Re]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new be(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:r0}),i})();const aT=Qm(null,"core",[]);let s0=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(pn(Cp))},i.\u0275mod=tt({type:i}),i.\u0275inj=Rt({}),i})();function o0(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(st,De,O)=>{O.d(De,{Z:()=>be});var a=O(2090),X=O(4859),k=O(9681),ue=O(1877);class ie{constructor(me,pe){this._delegate=me,this.firebase=pe,(0,k._addComponent)(me,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(me,pe=k._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(me);return!et.isInitialized()&&"EXPLICIT"===(null===(ze=et.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&et.initialize(),et.getImmediate({identifier:pe})}_removeServiceInstance(me,pe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(pe)}_addComponent(me){(0,k._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,k._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function fe(){const Ye=function de(Ye){const me={},pe={__esModule:!0,initializeApp:function Ae(Ze,U={}){const ge=k.initializeApp(Ze,U);if((0,a.r3)(me,ge.name))return me[ge.name];const z=new Ye(ge,pe);return me[ge.name]=z,z},app:et,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Ze){const U=Ze.name,ge=U.replace("-compat","");if(k._registerComponent(Ze)&&"PUBLIC"===Ze.type){const z=(J=et())=>{if("function"!=typeof J[ge])throw le.create("invalid-app-argument",{appName:U});return J[ge]()};void 0!==Ze.serviceProps&&(0,a.ZB)(z,Ze.serviceProps),pe[ge]=z,Ye.prototype[ge]=function(...J){return this._getService.bind(this,U).apply(this,Ze.multipleInstances?J:[])}}return"PUBLIC"===Ze.type?pe[ge]:null},removeApp:function ze(Ze){delete me[Ze]},useAsService:function Be(Ze,U){return"serverAuth"===U?null:U},modularAPIs:k}};function et(Ze){if(!(0,a.r3)(me,Ze=Ze||k._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Ze});return me[Ze]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function ve(){return Object.keys(me).map(Ze=>me[Ze])}}),et.App=Ye,pe}(ie);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(pe){(0,a.ZB)(Ye,pe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ye}(),B=new ue.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const be=V;!function Se(Ye){(0,k.registerVersion)("@firebase/app-compat","0.1.34",Ye)}()},9681:(st,De,O)=>{O.r(De),O.d(De,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>hs,_DEFAULT_ENTRY_NAME:()=>Vt,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>Wt,_apps:()=>rn,_clearComponents:()=>ta,_components:()=>Sn,_getProvider:()=>Rt,_registerComponent:()=>br,_removeServiceInstance:()=>en,deleteApp:()=>fo,getApp:()=>Fr,getApps:()=>oi,initializeApp:()=>vi,onLog:()=>qi,registerVersion:()=>Lr,setLogLevel:()=>xn});var a=O(5861),X=O(4859),k=O(1877),ue=O(2090),ie=O(8766);class he{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(H=>{if(function le(L){return"VERSION"===L.getComponent()?.type}(H)){const Ie=H.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(H=>H).join(" ")}}const de="@firebase/app",V=new k.Yd("@firebase/app"),Vt="[DEFAULT]",He={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rn=new Map,Sn=new Map;function Gt(L,q){try{L.container.addComponent(q)}catch(H){V.debug(`Component ${q.name} failed to register with FirebaseApp ${L.name}`,H)}}function Wt(L,q){L.container.addOrOverwriteComponent(q)}function br(L){const q=L.name;if(Sn.has(q))return V.debug(`There were multiple attempts to register component ${q}.`),!1;Sn.set(q,L);for(const H of rn.values())Gt(H,L);return!0}function Rt(L,q){const H=L.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),L.container.getProvider(q)}function en(L,q,H=Vt){Rt(L,q).clearInstance(H)}function ta(){Sn.clear()}const hr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Or{constructor(q,H,Ie){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const hs="9.10.0";function vi(L,q={}){"object"!=typeof q&&(q={name:q});const H=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},q),Ie=H.name;if("string"!=typeof Ie||!Ie)throw hr.create("bad-app-name",{appName:String(Ie)});const Ve=rn.get(Ie);if(Ve){if((0,ue.vZ)(L,Ve.options)&&(0,ue.vZ)(H,Ve.config))return Ve;throw hr.create("duplicate-app",{appName:Ie})}const tt=new X.H0(Ie);for(const Kt of Sn.values())tt.addComponent(Kt);const ln=new Or(L,H,tt);return rn.set(Ie,ln),ln}function Fr(L=Vt){const q=rn.get(L);if(!q)throw hr.create("no-app",{appName:L});return q}function oi(){return Array.from(rn.values())}function fo(L){return We.apply(this,arguments)}function We(){return(We=(0,a.Z)(function*(L){const q=L.name;rn.has(q)&&(rn.delete(q),yield Promise.all(L.container.getProviders().map(H=>H.delete())),L.isDeleted=!0)})).apply(this,arguments)}function Lr(L,q,H){var Ie;let Ve=null!==(Ie=He[L])&&void 0!==Ie?Ie:L;H&&(Ve+=`-${H}`);const tt=Ve.match(/\s|\//),ln=q.match(/\s|\//);if(tt||ln){const Kt=[`Unable to register library "${Ve}" with version "${q}":`];return tt&&Kt.push(`library name "${Ve}" contains illegal characters (whitespace or "/")`),tt&&ln&&Kt.push("and"),ln&&Kt.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void V.warn(Kt.join(" "))}br(new X.wA(`${Ve}-version`,()=>({library:Ve,version:q}),"VERSION"))}function qi(L,q){if(null!==L&&"function"!=typeof L)throw hr.create("invalid-log-argument");(0,k.Am)(L,q)}function xn(L){(0,k.Ub)(L)}const Mn="firebase-heartbeat-store";let Bn=null;function dn(){return Bn||(Bn=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(L,q)=>{0===q&&L.createObjectStore(Mn)}}).catch(L=>{throw hr.create("idb-open",{originalErrorMessage:L.message})})),Bn}function it(){return(it=(0,a.Z)(function*(L){var q;try{return(yield dn()).transaction(Mn).objectStore(Mn).get(Xn(L))}catch(H){if(H instanceof ue.ZR)V.warn(H.message);else{const Ie=hr.create("idb-get",{originalErrorMessage:null===(q=H)||void 0===q?void 0:q.message});V.warn(Ie.message)}}})).apply(this,arguments)}function un(L,q){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(L,q){var H;try{const Ve=(yield dn()).transaction(Mn,"readwrite");return yield Ve.objectStore(Mn).put(q,Xn(L)),Ve.done}catch(Ie){if(Ie instanceof ue.ZR)V.warn(Ie.message);else{const Ve=hr.create("idb-set",{originalErrorMessage:null===(H=Ie)||void 0===H?void 0:H.message});V.warn(Ve.message)}}})).apply(this,arguments)}function Xn(L){return`${L.name}!${L.options.appId}`}class $i{constructor(q){this.container=q,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this._storage=new $t(H),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var q=this;return(0,a.Z)(function*(){const Ie=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ve=zt();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==Ve&&!q._heartbeatsCache.heartbeats.some(tt=>tt.date===Ve))return q._heartbeatsCache.heartbeats.push({date:Ve,agent:Ie}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(tt=>{const ln=new Date(tt.date).valueOf();return Date.now()-ln<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,a.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const H=zt(),{heartbeatsToSend:Ie,unsentEntries:Ve}=function ui(L,q=1024){const H=[];let Ie=L.slice();for(const Ve of L){const tt=H.find(ln=>ln.agent===Ve.agent);if(tt){if(tt.dates.push(Ve.date),G(H)>q){tt.dates.pop();break}}else if(H.push({agent:Ve.agent,dates:[Ve.date]}),G(H)>q){H.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:H,unsentEntries:Ie}}(q._heartbeatsCache.heartbeats),tt=(0,ue.L)(JSON.stringify({version:2,heartbeats:Ie}));return q._heartbeatsCache.lastSentHeartbeatDate=H,Ve.length>0?(q._heartbeatsCache.heartbeats=Ve,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),tt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class $t{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,a.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function ct(L){return it.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var H=this;return(0,a.Z)(function*(){var Ie;if(yield H._canUseIndexedDBPromise){const tt=yield H.read();return un(H.app,{lastSentHeartbeatDate:null!==(Ie=q.lastSentHeartbeatDate)&&void 0!==Ie?Ie:tt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var H=this;return(0,a.Z)(function*(){var Ie;if(yield H._canUseIndexedDBPromise){const tt=yield H.read();return un(H.app,{lastSentHeartbeatDate:null!==(Ie=q.lastSentHeartbeatDate)&&void 0!==Ie?Ie:tt.lastSentHeartbeatDate,heartbeats:[...tt.heartbeats,...q.heartbeats]})}})()}}function G(L){return(0,ue.L)(JSON.stringify({version:2,heartbeats:L})).length}!function j(L){br(new X.wA("platform-logger",q=>new he(q),"PRIVATE")),br(new X.wA("heartbeat",q=>new $i(q),"PRIVATE")),Lr(de,"0.7.33",L),Lr(de,"0.7.33","esm2017"),Lr("fire-js","")}("")},4859:(st,De,O)=>{O.d(De,{H0:()=>de,wA:()=>k});var a=O(5861),X=O(2090);class k{constructor(V,B,K){this.name=V,this.instanceFactory=B,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ue="[DEFAULT]";class ie{constructor(V,B){this.name=V,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const B=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(B)){const K=new X.BH;if(this.instancesDeferred.set(B,K),this.isInitialized(B)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:B});Ue&&K.resolve(Ue)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(V){var B;const K=this.normalizeInstanceIdentifier(V?.identifier),Ue=null!==(B=V?.optional)&&void 0!==B&&B;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Se){if(Ue)return null;throw Se}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function le(fe){return"EAGER"===fe.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[B,K]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(B);try{const Se=this.getOrInitializeService({instanceIdentifier:Ue});K.resolve(Se)}catch{}}}}clearInstance(V=ue){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,a.Z)(function*(){const B=Array.from(V.instances.values());yield Promise.all([...B.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...B.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ue){return this.instances.has(V)}getOptions(V=ue){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:B={}}=V,K=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:K,options:B});for(const[Se,be]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Se)&&be.resolve(Ue);return Ue}onInit(V,B){var K;const Ue=this.normalizeInstanceIdentifier(B),Se=null!==(K=this.onInitCallbacks.get(Ue))&&void 0!==K?K:new Set;Se.add(V),this.onInitCallbacks.set(Ue,Se);const be=this.instances.get(Ue);return be&&V(be,Ue),()=>{Se.delete(V)}}invokeOnInitCallbacks(V,B){const K=this.onInitCallbacks.get(B);if(K)for(const Ue of K)try{Ue(V,B)}catch{}}getOrInitializeService({instanceIdentifier:V,options:B={}}){let K=this.instances.get(V);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=V,fe===ue?void 0:fe),options:B}),this.instances.set(V,K),this.instancesOptions.set(V,B),this.invokeOnInitCallbacks(K,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,K)}catch{}var fe;return K||null}normalizeInstanceIdentifier(V=ue){return this.component?this.component.multipleInstances?V:ue:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const B=this.getProvider(V.name);if(B.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);B.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const B=new ie(V,this);return this.providers.set(V,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(st,De,O)=>{O.d(De,{Am:()=>fe,Ub:()=>de,Yd:()=>le,in:()=>X});const a=[];var X=(()=>{return(V=X||(X={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",X;var V})();const k={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ue=X.INFO,ie={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},he=(V,B,...K)=>{if(B<V.logLevel)return;const Ue=(new Date).toISOString(),Se=ie[B];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Se](`[${Ue}]  ${V.name}:`,...K)};class le{constructor(B){this.name=B,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in X))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?k[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...B),this._logHandler(this,X.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...B),this._logHandler(this,X.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,X.INFO,...B),this._logHandler(this,X.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,X.WARN,...B),this._logHandler(this,X.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...B),this._logHandler(this,X.ERROR,...B)}}function de(V){a.forEach(B=>{B.setLogLevel(V)})}function fe(V,B){for(const K of a){let Ue=null;B&&B.level&&(Ue=k[B.level]),K.userLogHandler=null===V?null:(Se,be,...Ye)=>{const me=Ye.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");be>=(Ue??Se.logLevel)&&V({level:X[be].toLowerCase(),message:me,args:Ye,type:Se.name})}}}},8766:(st,De,O)=>{O.d(De,{Lj:()=>Ae,X3:()=>et});var a=O(5861);let k,ue;const le=new WeakMap,de=new WeakMap,fe=new WeakMap,V=new WeakMap,B=new WeakMap;let Se={get(U,ge,z){if(U instanceof IDBTransaction){if("done"===ge)return de.get(U);if("objectStoreNames"===ge)return U.objectStoreNames||fe.get(U);if("store"===ge)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return pe(U[ge])},set:(U,ge,z)=>(U[ge]=z,!0),has:(U,ge)=>U instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in U};function me(U){return"function"==typeof U?function Ye(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...ge){return U.apply(ze(this),ge),pe(le.get(this))}:function(...ge){return pe(U.apply(ze(this),ge))}:function(ge,...z){const J=U.call(ze(this),ge,...z);return fe.set(J,ge.sort?ge.sort():[ge]),pe(J)}}(U):(U instanceof IDBTransaction&&function Ue(U){if(de.has(U))return;const ge=new Promise((z,J)=>{const se=()=>{U.removeEventListener("complete",te),U.removeEventListener("error",ke),U.removeEventListener("abort",ke)},te=()=>{z(),se()},ke=()=>{J(U.error||new DOMException("AbortError","AbortError")),se()};U.addEventListener("complete",te),U.addEventListener("error",ke),U.addEventListener("abort",ke)});de.set(U,ge)}(U),((U,ge)=>ge.some(z=>U instanceof z))(U,function ie(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Se):U)}function pe(U){if(U instanceof IDBRequest)return function K(U){const ge=new Promise((z,J)=>{const se=()=>{U.removeEventListener("success",te),U.removeEventListener("error",ke)},te=()=>{z(pe(U.result)),se()},ke=()=>{J(U.error),se()};U.addEventListener("success",te),U.addEventListener("error",ke)});return ge.then(z=>{z instanceof IDBCursor&&le.set(z,U)}).catch(()=>{}),B.set(ge,U),ge}(U);if(V.has(U))return V.get(U);const ge=me(U);return ge!==U&&(V.set(U,ge),B.set(ge,U)),ge}const ze=U=>B.get(U);function et(U,ge,{blocked:z,upgrade:J,blocking:se,terminated:te}={}){const ke=indexedDB.open(U,ge),Ne=pe(ke);return J&&ke.addEventListener("upgradeneeded",ut=>{J(pe(ke.result),ut.oldVersion,ut.newVersion,pe(ke.transaction))}),z&&ke.addEventListener("blocked",()=>z()),Ne.then(ut=>{te&&ut.addEventListener("close",()=>te()),se&&ut.addEventListener("versionchange",()=>se())}).catch(()=>{}),Ne}function Ae(U,{blocked:ge}={}){const z=indexedDB.deleteDatabase(U);return ge&&z.addEventListener("blocked",()=>ge()),pe(z).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Be=new Map;function Ze(U,ge){if(!(U instanceof IDBDatabase)||ge in U||"string"!=typeof ge)return;if(Be.get(ge))return Be.get(ge);const z=ge.replace(/FromIndex$/,""),J=ge!==z,se=Ee.includes(z);if(!(z in(J?IDBIndex:IDBObjectStore).prototype)||!se&&!ve.includes(z))return;const te=function(){var ke=(0,a.Z)(function*(Ne,...ut){const jt=this.transaction(Ne,se?"readwrite":"readonly");let Vt=jt.store;return J&&(Vt=Vt.index(ut.shift())),(yield Promise.all([Vt[z](...ut),se&&jt.done]))[0]});return function(ut){return ke.apply(this,arguments)}}();return Be.set(ge,te),te}!function be(U){Se=U(Se)}(U=>({...U,get:(ge,z,J)=>Ze(ge,z)||U.get(ge,z,J),has:(ge,z)=>!!Ze(ge,z)||U.has(ge,z)}))},5861:(st,De,O)=>{function a(k,ue,ie,he,le,de,fe){try{var V=k[de](fe),B=V.value}catch(K){return void ie(K)}V.done?ue(B):Promise.resolve(B).then(he,le)}function X(k){return function(){var ue=this,ie=arguments;return new Promise(function(he,le){var de=k.apply(ue,ie);function fe(B){a(de,he,le,fe,V,"next",B)}function V(B){a(de,he,le,fe,V,"throw",B)}fe(void 0)})}}O.d(De,{Z:()=>X})}},st=>{st(st.s=1235)}]);