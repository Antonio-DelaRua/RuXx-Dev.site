"use strict";(self.webpackChunkwikikar=self.webpackChunkwikikar||[]).push([[179],{2011:(st,De,k)=>{k.d(De,{Dh:()=>de,GT:()=>he,cc:()=>Se,hO:()=>Ve,on:()=>U,pX:()=>ie,xv:()=>fe});var l=k(4650),X=k(127),O=k(5813);st=k.hmd(st);const ue=["ngOnDestroy"],ie=(pe,We,et,Ae={})=>new Proxy(pe,{get:(ve,Ee)=>et.runOutsideAngular(()=>{var Be;if(pe[Ee])return!(null===(Be=Ae?.spy)||void 0===Be)&&Be.get&&Ae.spy.get(Ee,pe[Ee]),pe[Ee];if(ue.indexOf(Ee)>-1)return()=>{};const je=We.toPromise().then(V=>{const ge=V&&V[Ee];return"function"==typeof ge?ge.bind(V):ge&&ge.then?ge.then(W=>et.run(()=>W)):et.run(()=>ge)});return new Proxy(()=>{},{get:(V,ge)=>je[ge],apply:(V,ge,W)=>je.then(J=>{var se;const te=J&&J(...W);return!(null===(se=Ae?.spy)||void 0===se)&&se.apply&&Ae.spy.apply(Ee,W,te),te})})})}),he=(pe,We)=>{We.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Ae=>{Object.defineProperty(pe.prototype,Ae,Object.getOwnPropertyDescriptor(et.prototype||et,Ae))})})};class ce{constructor(We){return We}}const de=new l.OlP("angularfire2.app.options"),fe=new l.OlP("angularfire2.app.name");function U(pe,We,et){const ve="object"==typeof et&&et||{};ve.name=ve.name||"string"==typeof et&&et||"[DEFAULT]";const Be=X.Z.apps.filter(je=>je&&je.name===ve.name)[0]||We.runOutsideAngular(()=>X.Z.initializeApp(pe,ve));try{JSON.stringify(pe)!==JSON.stringify(Be.options)&&B("error",`${Be.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(Be)}const B=(pe,...We)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...We)},K={provide:ce,useFactory:U,deps:[de,l.R0b,[new l.FiY,fe]]};let Ve=(()=>{class pe{constructor(et){X.Z.registerVersion("angularfire",O.q4.full,"core"),X.Z.registerVersion("angularfire",O.q4.full,"app-compat"),X.Z.registerVersion("angular",l.q4F.full,et.toString())}static initializeApp(et,Ae){return{ngModule:pe,providers:[{provide:de,useValue:et},{provide:fe,useValue:Ae}]}}}return pe.\u0275fac=function(et){return new(et||pe)(l.LFG(l.Lbi))},pe.\u0275mod=l.oAB({type:pe}),pe.\u0275inj=l.cJS({providers:[K]}),pe})();function Se(pe,We,et,Ae,ve){const[,Ee,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(Ee)return function we(pe,We){try{return pe.toString()===We.toString()}catch{return pe===We}}(ve,Be)||(me("error",`${We} was already initialized on the ${et} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:ve,was:Be})),Ee;{const je=Ae();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,ve]),je}}const Ye=!!st.hot,me=(pe,...We)=>{(0,l.X6Q)()&&typeof console<"u"&&console[pe](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,De,k)=>{k.d(De,{q4:()=>rt,iC:()=>ts,HU:()=>Po,vb:()=>As,JM:()=>Da});var l=k(4650),X=k(5867),O=k(5861),ue=k(9681),ie=k(2090),he=k(4859),ce=k(1877),de=k(8766);const fe="@firebase/installations",U="0.5.12",K=`w:${U}`,Ve="FIS_v2",We=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(b){return b instanceof ie.ZR&&b.code.includes("request-failed")}function Ae({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function ve(b){return{token:b.token,requestStatus:2,expiresIn:J(b.expiresIn),creationTime:Date.now()}}function Ee(b,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,O.Z)(function*(b,D){const F=(yield D.json()).error;return We.create("request-failed",{requestName:b,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function V(b,{refreshToken:D}){const x=je(b);return x.append("Authorization",function se(b){return`${Ve} ${b}`}(D)),x}function ge(b){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function J(b){return Number(b.replace("s","000"))}function te(b,D){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:x}){const F=Ae(b),Y=je(b),re=D.getImmediate({optional:!0});if(re){const ft=yield re.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Re={method:"POST",headers:Y,body:JSON.stringify({fid:x,authVersion:Ve,appId:b.appId,sdkVersion:K})},Je=yield ge(()=>fetch(F,Re));if(Je.ok){const ft=yield Je.json();return{fid:ft.fid||x,registrationStatus:2,refreshToken:ft.refreshToken,authToken:ve(ft.authToken)}}throw yield Ee("Create Installation",Je)})).apply(this,arguments)}function Pe(b){return new Promise(D=>{setTimeout(D,b)})}const $t=/^[cdef][\w-]{21}$/;function Ge(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const x=function rn(b){return function ut(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return $t.test(x)?x:""}catch{return""}}function Sn(b){return`${b.appName}!${b.appId}`}const qt=new Map;function zt(b,D){const x=Sn(b);en(x,D),function ta(b,D){const x=function hr(){return!Or&&"BroadcastChannel"in self&&(Or=new BroadcastChannel("[Firebase] FID Change"),Or.onmessage=b=>{en(b.data.key,b.data.fid)}),Or}();x&&x.postMessage({key:b,fid:D}),function kr(){0===qt.size&&Or&&(Or.close(),Or=null)}()}(x,D)}function en(b,D){const x=qt.get(b);if(x)for(const F of x)F(D)}let Or=null;const Fr="firebase-installations-store";let oi=null;function fo(){return oi||(oi=(0,de.X3)("firebase-installations-database",1,{upgrade:(b,D)=>{0===D&&b.createObjectStore(Fr)}})),oi}function ze(b,D){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,O.Z)(function*(b,D){const x=Sn(b),Y=(yield fo()).transaction(Fr,"readwrite"),re=Y.objectStore(Fr),Ie=yield re.get(x);return yield re.put(D,x),yield Y.done,(!Ie||Ie.fid!==D.fid)&&zt(b,D.fid),D})).apply(this,arguments)}function Hi(b){return xn.apply(this,arguments)}function xn(){return(xn=(0,O.Z)(function*(b){const D=Sn(b),F=(yield fo()).transaction(Fr,"readwrite");yield F.objectStore(Fr).delete(D),yield F.done})).apply(this,arguments)}function ai(b,D){return qr.apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(b,D){const x=Sn(b),Y=(yield fo()).transaction(Fr,"readwrite"),re=Y.objectStore(Fr),Ie=yield re.get(x),Re=D(Ie);return void 0===Re?yield re.delete(x):yield re.put(Re,x),yield Y.done,Re&&(!Ie||Ie.fid!==Re.fid)&&zt(b,Re.fid),Re})).apply(this,arguments)}function Mn(b){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,O.Z)(function*(b){let D;const x=yield ai(b.appConfig,F=>{const Y=dn(F),re=lt(b,Y);return D=re.registrationPromise,re.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function dn(b){return mt(b||{fid:Ge(),registrationStatus:0})}function lt(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(We.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function it(b,D){return un.apply(this,arguments)}(b,x);return{installationEntry:x,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Jn(b)}:{installationEntry:D}}function un(){return(un=(0,O.Z)(function*(b,D){try{const x=yield te(b,D);return ze(b.appConfig,x)}catch(x){throw et(x)&&409===x.customData.serverCode?yield Hi(b.appConfig):yield ze(b.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Jn(b){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,O.Z)(function*(b){let D=yield Ir(b.appConfig);for(;1===D.registrationStatus;)yield Pe(100),D=yield Ir(b.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:F}=yield Mn(b);return F||x}return D})).apply(this,arguments)}function Ir(b){return ai(b,D=>{if(!D)throw We.create("installation-not-found");return mt(D)})}function mt(b){return function Zi(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Wt(b,D){return ui.apply(this,arguments)}function ui(){return(ui=(0,O.Z)(function*({appConfig:b,heartbeatServiceProvider:D},x){const F=Zt(b,x),Y=V(b,x),re=D.getImmediate({optional:!0});if(re){const ft=yield re.getHeartbeatsHeader();ft&&Y.append("x-firebase-client",ft)}const Re={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:K,appId:b.appId}})},Je=yield ge(()=>fetch(F,Re));if(Je.ok)return ve(yield Je.json());throw yield Ee("Generate Auth Token",Je)})).apply(this,arguments)}function Zt(b,{fid:D}){return`${Ae(b)}/${D}/authTokens:generate`}function q(b){return $.apply(this,arguments)}function $(){return($=(0,O.Z)(function*(b,D=!1){let x;const F=yield ai(b.appConfig,re=>{if(!tt(re))throw We.create("not-registered");const Ie=re.authToken;if(!D&&cn(Ie))return re;if(1===Ie.requestStatus)return x=L(b,D),re;{if(!navigator.onLine)throw We.create("app-offline");const Re=jn(re);return x=be(b,Re),Re}});return x?yield x:F.authToken})).apply(this,arguments)}function L(b,D){return H.apply(this,arguments)}function H(){return(H=(0,O.Z)(function*(b,D){let x=yield G(b.appConfig);for(;1===x.authToken.requestStatus;)yield Pe(100),x=yield G(b.appConfig);const F=x.authToken;return 0===F.requestStatus?q(b,D):F})).apply(this,arguments)}function G(b){return ai(b,D=>{if(!tt(D))throw We.create("not-registered");return function kt(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function be(b,D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,O.Z)(function*(b,D){try{const x=yield Wt(b,D),F=Object.assign(Object.assign({},D),{authToken:x});return yield ze(b.appConfig,F),x}catch(x){if(!et(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ze(b.appConfig,F)}else yield Hi(b.appConfig);throw x}})).apply(this,arguments)}function tt(b){return void 0!==b&&2===b.registrationStatus}function cn(b){return 2===b.requestStatus&&!function Kt(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function jn(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function mn(){return(mn=(0,O.Z)(function*(b){const D=b,{installationEntry:x,registrationPromise:F}=yield Mn(D);return F?F.catch(console.error):q(D).catch(console.error),x.fid})).apply(this,arguments)}function wi(){return(wi=(0,O.Z)(function*(b,D=!1){const x=b;return yield Er(x),(yield q(x,D)).token})).apply(this,arguments)}function Er(b){return kn.apply(this,arguments)}function kn(){return(kn=(0,O.Z)(function*(b){const{registrationPromise:D}=yield Mn(b);D&&(yield D)})).apply(this,arguments)}function fs(b){return We.create("missing-app-config-values",{valueName:b})}const po="installations",yn=b=>{const D=b.getProvider("app").getImmediate(),x=function hn(b){if(!b||!b.options)throw fs("App Configuration");if(!b.name)throw fs("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!b.options[x])throw fs(x);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,ue._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},js=b=>{const D=b.getProvider("app").getImmediate(),x=(0,ue._getProvider)(D,po).getImmediate();return{getId:()=>function Tt(b){return mn.apply(this,arguments)}(x),getToken:Y=>function On(b){return wi.apply(this,arguments)}(x,Y)}};(function fc(){(0,ue._registerComponent)(new he.wA(po,yn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("installations-internal",js,"PRIVATE"))})(),(0,ue.registerVersion)(fe,U),(0,ue.registerVersion)(fe,U,"esm2017");const Ii="@firebase/remote-config",Ln=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fh{constructor(D,x,F,Y){this.client=D,this.storage=x,this.storageCache=F,this.logger=Y}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-x,Y=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var x=this;return(0,O.Z)(function*(){const[F,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(D.cacheMaxAgeMillis,F))return Y;D.eTag=Y&&Y.eTag;const re=yield x.client.fetch(D),Ie=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&Ie.push(x.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(Ie),re})()}}function _c(b=navigator){return b.languages&&b.languages[0]||b.language}class vc{constructor(D,x,F,Y,re,Ie){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=F,this.projectId=Y,this.apiKey=re,this.appId=Ie}fetch(D){var x=this;return(0,O.Z)(function*(){var F,Y,re;const[Ie,Re]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,It={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},ot={sdk_version:x.sdkVersion,app_instance_id:Ie,app_instance_id_token:Re,app_id:x.appId,language_code:_c()},vn={method:"POST",headers:It,body:JSON.stringify(ot)},ur=fetch(ft,vn),Oo=new Promise((ko,eo)=>{D.signal.addEventListener(()=>{const mi=new Error("The operation was aborted.");mi.name="AbortError",eo(mi)})});let Ms;try{yield Promise.race([ur,Oo]),Ms=yield ur}catch(ko){let eo="fetch-client-network";throw"AbortError"===(null===(F=ko)||void 0===F?void 0:F.name)&&(eo="fetch-timeout"),Ln.create(eo,{originalErrorMessage:null===(Y=ko)||void 0===Y?void 0:Y.message})}let Et=Ms.status;const Ai=Ms.headers.get("ETag")||void 0;let Rs,Jr;if(200===Ms.status){let ko;try{ko=yield Ms.json()}catch(eo){throw Ln.create("fetch-client-parse",{originalErrorMessage:null===(re=eo)||void 0===re?void 0:re.message})}Rs=ko.entries,Jr=ko.state}if("INSTANCE_STATE_UNSPECIFIED"===Jr?Et=500:"NO_CHANGE"===Jr?Et=304:("NO_TEMPLATE"===Jr||"EMPTY_CONFIG"===Jr)&&(Rs={}),304!==Et&&200!==Et)throw Ln.create("fetch-status",{httpStatus:Et});return{status:Et,eTag:Ai,config:Rs}})()}}class Hp{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,O.Z)(function*(){const F=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:F}){var Y=this;return(0,O.Z)(function*(){yield function Hn(b,D){return new Promise((x,F)=>{const Y=Math.max(D-Date.now(),0),re=setTimeout(x,Y);b.addEventListener(()=>{clearTimeout(re),F(Ln.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const re=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),re}catch(re){if(!function ql(b){if(!(b instanceof ie.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(re))throw re;const Ie={throttleEndTimeMillis:Date.now()+(0,ie.$s)(F),backoffCount:F+1};return yield Y.storage.setThrottleMetadata(Ie),Y.attemptFetch(D,Ie)}})()}}class zl{constructor(D,x,F,Y,re){this.app=D,this._client=x,this._storageCache=F,this._storage=Y,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wc(b,D){var x;const F=b.target.error||void 0;return Ln.create(D,{originalErrorMessage:F&&(null===(x=F)||void 0===x?void 0:x.message)})}const ys="app_namespace_store";class zp{constructor(D,x,F,Y=function qp(){return new Promise((b,D)=>{var x;try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{D(wc(Y,"storage-open"))},F.onsuccess=Y=>{b(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(F){D(Ln.create("storage-open",{originalErrorMessage:null===(x=F)||void 0===x?void 0:x.message}))}})}()){this.appId=D,this.appName=x,this.namespace=F,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((Y,re)=>{var Ie;const Je=F.transaction([ys],"readonly").objectStore(ys),ft=x.createCompositeKey(D);try{const It=Je.get(ft);It.onerror=ot=>{re(wc(ot,"storage-get"))},It.onsuccess=ot=>{const vn=ot.target.result;Y(vn?vn.value:void 0)}}catch(It){re(Ln.create("storage-get",{originalErrorMessage:null===(Ie=It)||void 0===Ie?void 0:Ie.message}))}})})()}set(D,x){var F=this;return(0,O.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((re,Ie)=>{var Re;const ft=Y.transaction([ys],"readwrite").objectStore(ys),It=F.createCompositeKey(D);try{const ot=ft.put({compositeKey:It,value:x});ot.onerror=vn=>{Ie(wc(vn,"storage-set"))},ot.onsuccess=()=>{re()}}catch(ot){Ie(Ln.create("storage-set",{originalErrorMessage:null===(Re=ot)||void 0===Re?void 0:Re.message}))}})})()}delete(D){var x=this;return(0,O.Z)(function*(){const F=yield x.openDbPromise;return new Promise((Y,re)=>{var Ie;const Je=F.transaction([ys],"readwrite").objectStore(ys),ft=x.createCompositeKey(D);try{const It=Je.delete(ft);It.onerror=ot=>{re(wc(ot,"storage-delete"))},It.onsuccess=()=>{Y()}}catch(It){re(Ln.create("storage-delete",{originalErrorMessage:null===(Ie=It)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Kl{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const x=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),re=yield x;re&&(D.lastFetchStatus=re);const Ie=yield F;Ie&&(D.lastSuccessfulFetchTimestampMillis=Ie);const Re=yield Y;Re&&(D.activeConfig=Re)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ou(){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function _s(){(0,ue._registerComponent)(new he.wA("remote-config",function b(D,{instanceIdentifier:x}){const F=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ln.create("registration-window");if(!(0,ie.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:re,apiKey:Ie,appId:Re}=F.options;if(!re)throw Ln.create("registration-project-id");if(!Ie)throw Ln.create("registration-api-key");if(!Re)throw Ln.create("registration-app-id");const Je=new zp(Re,F.name,x=x||"firebase"),ft=new Kl(Je),It=new ce.Yd(Ii);It.logLevel=ce.in.ERROR;const ot=new vc(Y,ue.SDK_VERSION,x,re,Ie,Re),vn=new Hp(ot,Je),ur=new Fh(vn,Je,ft,It),Oo=new zl(F,ur,ft,Je,It);return function er(b){const D=(0,ie.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Oo),Oo},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Ii,"0.3.11"),(0,ue.registerVersion)(Ii,"0.3.11","esm2017")}();const Ei="/firebase-messaging-sw.js",bi="/firebase-cloud-messaging-push-scope",zi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ia="google.c.a.c_id",au="google.c.a.c_l",Ic="google.c.a.ts",Vh="google.c.a.e";var Wi=(()=>{return(b=Wi||(Wi={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Wi;var b})();function Wr(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vr(b){const x=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(x),Y=new Uint8Array(F.length);for(let re=0;re<F.length;++re)Y[re]=F.charCodeAt(re);return Y}const mo="fcm_token_details_db",ar="fcm_token_object_Store";function Uh(b){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,O.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(mo))return null;let D=null;return(yield(0,de.X3)(mo,5,{upgrade:(F=(0,O.Z)(function*(Y,re,Ie,Re){var Je;if(re<2||!Y.objectStoreNames.contains(ar))return;const ft=Re.objectStore(ar),It=yield ft.index("fcmSenderId").get(b);if(yield ft.clear(),It)if(2===re){const ot=It;if(!ot.auth||!ot.p256dh||!ot.endpoint)return;D={token:ot.fcmToken,createTime:null!==(Je=ot.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:ot.auth,p256dh:ot.p256dh,endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:"string"==typeof ot.vapidKey?ot.vapidKey:Wr(ot.vapidKey)}}}else if(3===re){const ot=It;D={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Wr(ot.auth),p256dh:Wr(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Wr(ot.vapidKey)}}}else if(4===re){const ot=It;D={token:ot.fcmToken,createTime:ot.createTime,subscriptionOptions:{auth:Wr(ot.auth),p256dh:Wr(ot.p256dh),endpoint:ot.endpoint,swScope:ot.swScope,vapidKey:Wr(ot.vapidKey)}}}}),function(re,Ie,Re,Je){return F.apply(this,arguments)})})).close(),yield(0,de.Lj)(mo),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),bn(D)?D:null;var F}),Bh.apply(this,arguments)}function bn(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Kr="firebase-messaging-store";let Cr=null;function cu(){return Cr||(Cr=(0,de.X3)("firebase-messaging-database",1,{upgrade:(b,D)=>{0===D&&b.createObjectStore(Kr)}})),Cr}function yo(b){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,O.Z)(function*(b){const D=di(b),F=yield(yield cu()).transaction(Kr).objectStore(Kr).get(D);if(F)return F;{const Y=yield Uh(b.appConfig.senderId);if(Y)return yield jt(b,Y),Y}})).apply(this,arguments)}function jt(b,D){return lu.apply(this,arguments)}function lu(){return(lu=(0,O.Z)(function*(b,D){const x=di(b),Y=(yield cu()).transaction(Kr,"readwrite");return yield Y.objectStore(Kr).put(D,x),yield Y.done,D})).apply(this,arguments)}function Zs(b){return du.apply(this,arguments)}function du(){return(du=(0,O.Z)(function*(b){const D=di(b),F=(yield cu()).transaction(Kr,"readwrite");yield F.objectStore(Kr).delete(D),yield F.done})).apply(this,arguments)}function di({appConfig:b}){return b.appId}const En=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yt(b,D){return fu.apply(this,arguments)}function fu(){return(fu=(0,O.Z)(function*(b,D){var x;const F=yield bc(b),Y=Ce(D),re={method:"POST",headers:F,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(Yi(b.appConfig),re)).json()}catch(Re){throw En.create("token-subscribe-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(Ie.error)throw En.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw En.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function $h(b,D){return pu.apply(this,arguments)}function pu(){return(pu=(0,O.Z)(function*(b,D){var x;const F=yield bc(b),Y=Ce(D.subscriptionOptions),re={method:"PATCH",headers:F,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(`${Yi(b.appConfig)}/${D.token}`,re)).json()}catch(Re){throw En.create("token-update-failed",{errorInfo:null===(x=Re)||void 0===x?void 0:x.toString()})}if(Ie.error)throw En.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw En.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function gu(b,D){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,O.Z)(function*(b,D){var x;const Y={method:"DELETE",headers:yield bc(b)};try{const Ie=yield(yield fetch(`${Yi(b.appConfig)}/${D}`,Y)).json();if(Ie.error)throw En.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(re){throw En.create("token-unsubscribe-failed",{errorInfo:null===(x=re)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function Yi({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function bc(b){return sa.apply(this,arguments)}function sa(){return(sa=(0,O.Z)(function*({appConfig:b,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Ce({p256dh:b,auth:D,endpoint:x,vapidKey:F}){const Y={web:{endpoint:x,auth:D,p256dh:b}};return F!==zi&&(Y.web.applicationPubKey=F),Y}const Ft=6048e5;function mu(b){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(b){const D=yield Cc(b.swRegistration,b.vapidKey),x={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:Wr(D.getKey("auth")),p256dh:Wr(D.getKey("p256dh"))},F=yield yo(b.firebaseDependencies);if(F){if(Xl(F.subscriptionOptions,x))return Date.now()>=F.createTime+Ft?_o(b,{token:F.token,createTime:Date.now(),subscriptionOptions:x}):F.token;try{yield gu(b.firebaseDependencies,F.token)}catch(Y){console.warn(Y)}return oa(b.firebaseDependencies,x)}return oa(b.firebaseDependencies,x)})).apply(this,arguments)}function Cn(b){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(b){const D=yield yo(b.firebaseDependencies);D&&(yield gu(b.firebaseDependencies,D.token),yield Zs(b.firebaseDependencies));const x=yield b.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function _o(b,D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,O.Z)(function*(b,D){try{const x=yield $h(b.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield jt(b.firebaseDependencies,F),x}catch(x){throw yield Cn(b),x}})).apply(this,arguments)}function oa(b,D){return aa.apply(this,arguments)}function aa(){return(aa=(0,O.Z)(function*(b,D){const F={token:yield yt(b,D),createTime:Date.now(),subscriptionOptions:D};return yield jt(b,F),F.token})).apply(this,arguments)}function Cc(b,D){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,O.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vr(D)})})).apply(this,arguments)}function Xl(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function ua(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function Dn(b,D){if(!D.notification)return;b.notification={};const x=D.notification.title;x&&(b.notification.title=x);const F=D.notification.body;F&&(b.notification.body=F);const Y=D.notification.image;Y&&(b.notification.image=Y)}(D,b),function Ci(b,D){!D.data||(b.data=D.data)}(D,b),function Tc(b,D){var x,F,Y,re,Ie;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;b.fcmOptions={};const Re=null!==(Y=null===(F=D.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==Y?Y:null===(re=D.notification)||void 0===re?void 0:re.click_action;Re&&(b.fcmOptions.link=Re);const Je=null===(Ie=D.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Je&&(b.fcmOptions.analyticsLabel=Je)}(D,b),D}function Gs(b){return"object"==typeof b&&!!b&&ia in b}function Qi(b,D){const x=[];for(let F=0;F<b.length;F++)x.push(b.charAt(F)),F<D.length&&x.push(D.charAt(F));return x.join("")}function ca(b){return En.create("missing-app-config-values",{valueName:b})}Qi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Kp{constructor(D,x,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function Wp(b){if(!b||!b.options)throw ca("App Configuration Object");if(!b.name)throw ca("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=b;for(const F of D)if(!x[F])throw ca(F);return{appName:b.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:x,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Ac(b){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(b){var D;try{b.swRegistration=yield navigator.serviceWorker.register(Ei,{scope:bi}),b.swRegistration.update().catch(()=>{})}catch(x){throw En.create("failed-service-worker-registration",{browserErrorMessage:null===(D=x)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function la(b,D){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,O.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Ac(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function da(b,D){return xc.apply(this,arguments)}function xc(){return(xc=(0,O.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=zi)})).apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(b,D){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield da(b,D?.vapidKey),yield la(b,D?.serviceWorkerRegistration),mu(b)})).apply(this,arguments)}function Mc(b,D,x){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,O.Z)(function*(b,D,x){const F=Nc(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:x[ia],message_name:x[au],message_time:x[Ic],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nc(b){switch(b){case Wi.NOTIFICATION_CLICKED:return"notification_open";case Wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qs(){return(qs=(0,O.Z)(function*(b,D){const x=D.data;if(!x.isFirebaseMessaging)return;b.onMessageHandler&&x.messageType===Wi.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(ua(x)):b.onMessageHandler.next(ua(x)));const F=x.data;Gs(F)&&"1"===F[Vh]&&(yield Mc(b,x.messageType,F))})).apply(this,arguments)}const zs="@firebase/messaging",Zn=b=>{const D=new Kp(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function ed(b,D){return qs.apply(this,arguments)}(D,x)),D},Ur=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:F=>function wu(b,D){return Iu.apply(this,arguments)}(D,F)}};function td(){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function fn(){(0,ue._registerComponent)(new he.wA("messaging",Zn,"PUBLIC")),(0,ue._registerComponent)(new he.wA("messaging-internal",Ur,"PRIVATE")),(0,ue.registerVersion)(zs,"0.9.16"),(0,ue.registerVersion)(zs,"0.9.16","esm2017")}();const Io="analytics",id="firebase_id",Ws="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cu="https://www.googletagmanager.com/gtag/js",Tn=new ce.Yd("@firebase/analytics");function Du(b){return Promise.all(b.map(D=>D.catch(x=>x)))}function Tu(b,D){const x=document.createElement("script");x.src=`${Cu}?l=${b}&id=${D}`,x.async=!0,document.head.appendChild(x)}function Zh(b,D,x,F,Y,re){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,O.Z)(function*(b,D,x,F,Y,re){const Ie=F[Y];try{if(Ie)yield D[Ie];else{const Je=(yield Du(x)).find(ft=>ft.measurementId===Y);Je&&(yield D[Je.appId])}}catch(Re){Tn.error(Re)}b("config",Y,re)})).apply(this,arguments)}function bo(b,D,x,F,Y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(b,D,x,F,Y){try{let re=[];if(Y&&Y.send_to){let Ie=Y.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Re=yield Du(x);for(const Je of Ie){const ft=Re.find(ot=>ot.measurementId===Je),It=ft&&D[ft.appId];if(!It){re=[];break}re.push(It)}}0===re.length&&(re=Object.values(D)),yield Promise.all(re),b("event",F,Y||{})}catch(re){Tn.error(re)}})).apply(this,arguments)}function od(){const b=window.document.getElementsByTagName("script");for(const D of Object.values(b))if(D.src&&D.src.includes(Cu))return D;return null}const nr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ga=new class Di{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function ud(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function ma(b){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,O.Z)(function*(b){var D;const{appId:x,apiKey:F}=b,Y={method:"GET",headers:ud(F)},re=Ws.replace("{app-id}",x),Ie=yield fetch(re,Y);if(200!==Ie.status&&304!==Ie.status){let Re="";try{const Je=yield Ie.json();null!==(D=Je.error)&&void 0!==D&&D.message&&(Re=Je.error.message)}catch{}throw nr.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Re})}return Ie.json()})).apply(this,arguments)}function Rn(b){return hi.apply(this,arguments)}function hi(){return(hi=(0,O.Z)(function*(b,D=ga,x){const{appId:F,apiKey:Y,measurementId:re}=b.options;if(!F)throw nr.create("no-app-id");if(!Y){if(re)return{measurementId:re,appId:F};throw nr.create("no-api-key")}const Ie=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Mu;return setTimeout((0,O.Z)(function*(){Re.abort()}),void 0!==x?x:6e4),Su({appId:F,apiKey:Y,measurementId:re},Ie,Re,D)})).apply(this,arguments)}function Su(b,D,x){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,O.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:x},F,Y=ga){var re,Ie;const{appId:Re,measurementId:Je}=b;try{yield ya(F,D)}catch(ft){if(Je)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${null===(re=ft)||void 0===re?void 0:re.message}]`),{appId:Re,measurementId:Je};throw ft}try{const ft=yield ma(b);return Y.deleteThrottleMetadata(Re),ft}catch(ft){const It=ft;if(!xu(It)){if(Y.deleteThrottleMetadata(Re),Je)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Je} provided in the "measurementId" field in the local Firebase config. [${It?.message}]`),{appId:Re,measurementId:Je};throw ft}const ot=503===Number(null===(Ie=It?.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,ie.$s)(x,Y.intervalMillis,30):(0,ie.$s)(x,Y.intervalMillis),vn={throttleEndTimeMillis:Date.now()+ot,backoffCount:x+1};return Y.setThrottleMetadata(Re,vn),Tn.debug(`Calling attemptFetch again in ${ot} millis`),Su(b,vn,F,Y)}})).apply(this,arguments)}function ya(b,D){return new Promise((x,F)=>{const Y=Math.max(D-Date.now(),0),re=setTimeout(x,Y);b.addEventListener(()=>{clearTimeout(re),F(nr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function xu(b){if(!(b instanceof ie.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Mu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Is,va;function Es(){return(Es=(0,O.Z)(function*(b,D,x,F,Y){if(Y&&Y.global)b("event",x,F);else{const re=yield D;b("event",x,Object.assign(Object.assign({},F),{send_to:re}))}})).apply(this,arguments)}function Js(b){va=b}function Uc(b){Is=b}function Xi(){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,O.Z)(function*(){var b;if(!(0,ie.hl)())return Tn.warn(nr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return Tn.warn(nr.create("indexeddb-unavailable",{errorInfo:null===(b=D)||void 0===b?void 0:b.toString()}).message),!1}return!0})).apply(this,arguments)}function To(){return(To=(0,O.Z)(function*(b,D,x,F,Y,re,Ie){var Re;const Je=Rn(b);Je.then(ur=>{x[ur.measurementId]=ur.appId,b.options.measurementId&&ur.measurementId!==b.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>Tn.error(ur)),D.push(Je);const ft=Xi().then(ur=>{if(ur)return F.getId()}),[It,ot]=yield Promise.all([Je,ft]);od()||Tu(re,It.measurementId),va&&(Y("consent","default",va),Js(void 0)),Y("js",new Date);const vn=null!==(Re=Ie?.config)&&void 0!==Re?Re:{};return vn.origin="firebase",vn.update=!0,null!=ot&&(vn[id]=ot),Y("config",It.measurementId,vn),Is&&(Y("set",Is),Uc(void 0)),It.measurementId})).apply(this,arguments)}class Pu{constructor(D){this.app=D}_delete(){return delete Br[this.app.options.appId],Promise.resolve()}}let Br={},bs=[];const Ao={};let xo,Xs,So="dataLayer",wa=!1;function my(b,D,x){!function Yp(){const b=[];if((0,ie.ru)()&&b.push("This is a browser extension environment."),(0,ie.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((F,Y)=>`(${Y+1}) ${F}`).join(" "),x=nr.create("invalid-analytics-context",{errorInfo:D});Tn.warn(x.message)}}();const F=b.options.appId;if(!F)throw nr.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw nr.create("no-api-key");Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Br[F])throw nr.create("already-exists",{id:F});if(!wa){!function sd(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(So);const{wrappedGtag:re,gtagCore:Ie}=function ha(b,D,x,F,Y){let re=function(...Ie){window[F].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(re=window[Y]),window[Y]=function Au(b,D,x,F){function re(){return(re=(0,O.Z)(function*(Ie,Re,Je){try{"event"===Ie?yield bo(b,D,x,Re,Je):"config"===Ie?yield Zh(b,D,x,F,Re,Je):"consent"===Ie?b("consent","update",Je):b("set",Re)}catch(ft){Tn.error(ft)}})).apply(this,arguments)}return function Y(Ie,Re,Je){return re.apply(this,arguments)}}(re,b,D,x),{gtagCore:re,wrappedGtag:window[Y]}}(Br,bs,Ao,So,"gtag");Xs=re,xo=Ie,wa=!0}return Br[F]=function Do(b,D,x,F,Y,re,Ie){return To.apply(this,arguments)}(b,bs,Ao,D,xo,So,x),new Pu(b)}function _y(){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const nt="@firebase/analytics";!function _n(){(0,ue._registerComponent)(new he.wA(Io,(D,{options:x})=>my(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ue._registerComponent)(new he.wA("analytics-internal",function b(D){try{const x=D.getProvider(Io).getImmediate();return{logEvent:(F,Y,re)=>function on(b,D,x,F){b=(0,ie.m9)(b),function cd(b,D,x,F,Y){return Es.apply(this,arguments)}(Xs,Br[b.app.options.appId],D,x,F).catch(Y=>Tn.error(Y))}(x,F,Y,re)}}catch(x){throw nr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ue.registerVersion)(nt,"0.8.0"),(0,ue.registerVersion)(nt,"0.8.0","esm2017")}();var pi=k(4408),Dr=k(7565);const ku=new class Cs extends Dr.v{}(class Ia extends pi.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,x,F):(D.flush(this),0)}});var jc=k(4986),Ea=k(8505),Mo=k(9468),Ds=k(5363);const rt=new l.GfV("7.4.1"),ba="__angularfire_symbol__analyticsIsSupportedValue",Ts="__angularfire_symbol__analyticsIsSupported",Ca="__angularfire_symbol__remoteConfigIsSupportedValue",Ro="__angularfire_symbol__remoteConfigIsSupported",Gn="__angularfire_symbol__messagingIsSupportedValue",$c="__angularfire_symbol__messagingIsSupported";function Da(b,D,x){if(D){if(1===D.length)return D[0];const re=D.filter(Ie=>Ie.app===x);if(1===re.length)return re[0]}return x.container.getProvider(b).getImmediate({optional:!0})}globalThis[Ts]||(globalThis[Ts]=_y().then(b=>globalThis[ba]=b).catch(()=>globalThis[ba]=!1)),globalThis[$c]||(globalThis[$c]=td().then(b=>globalThis[Gn]=b).catch(()=>globalThis[Gn]=!1)),globalThis[Ro]||(globalThis[Ro]=ou().then(b=>globalThis[Ca]=b).catch(()=>globalThis[Ca]=!1));const As=(b,D)=>{const x=D?[D]:(0,X.C6)(),F=[];return x.forEach(Y=>{Y.container.getProvider(b).instances.forEach(Ie=>{F.includes(Ie)||F.push(Ie)})}),F};function Ss(){}class gi{constructor(D,x=ku){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,F){const Y=this.zone;return this.delegate.schedule(function(Ie){Y.runGuarded(()=>{D.apply(this,[Ie])})},x,F)}}class Zc{constructor(D){this.zone=D,this.task=null}call(D,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),x.pipe((0,Ea.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Po=(()=>{class b{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new gi(Zone.current)),this.insideAngular=x.run(()=>new gi(Zone.current,jc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(x){return new(x||b)(l.LFG(l.R0b))},b.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function jr(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function ts(b){return jr(),function Vn(b){return function(x){return(x=x.lift(new Zc(b.ngZone))).pipe((0,Mo.R)(b.outsideAngular),(0,Ds.Q)(b.insideAngular))}}(jr())(b)}},2090:(st,De,k)=>{k.d(De,{$s:()=>Zi,BH:()=>Ve,G6:()=>je,L:()=>de,LL:()=>Oe,Sg:()=>Se,UG:()=>me,US:()=>he,ZB:()=>B,ZR:()=>te,b$:()=>et,eu:()=>ge,hl:()=>V,jU:()=>pe,m9:()=>Zt,ne:()=>fo,pd:()=>Fr,r3:()=>wr,ru:()=>We,tV:()=>fe,uI:()=>Ye,vZ:()=>Or,w1:()=>ve,xO:()=>hs,xb:()=>en,z$:()=>we,zI:()=>W,zd:()=>vi});const ue=function(q){const $=[];let L=0;for(let H=0;H<q.length;H++){let G=q.charCodeAt(H);G<128?$[L++]=G:G<2048?($[L++]=G>>6|192,$[L++]=63&G|128):55296==(64512&G)&&H+1<q.length&&56320==(64512&q.charCodeAt(H+1))?(G=65536+((1023&G)<<10)+(1023&q.charCodeAt(++H)),$[L++]=G>>18|240,$[L++]=G>>12&63|128,$[L++]=G>>6&63|128,$[L++]=63&G|128):($[L++]=G>>12|224,$[L++]=G>>6&63|128,$[L++]=63&G|128)}return $},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,$){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const L=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,H=[];for(let G=0;G<q.length;G+=3){const be=q[G],Ue=G+1<q.length,tt=Ue?q[G+1]:0,cn=G+2<q.length,Kt=cn?q[G+2]:0;let Tt=(15&tt)<<2|Kt>>6,mn=63&Kt;cn||(mn=64,Ue||(Tt=64)),H.push(L[be>>2],L[(3&be)<<4|tt>>4],L[Tt],L[mn])}return H.join("")},encodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(q):this.encodeByteArray(ue(q),$)},decodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(q):function(q){const $=[];let L=0,H=0;for(;L<q.length;){const G=q[L++];if(G<128)$[H++]=String.fromCharCode(G);else if(G>191&&G<224){const be=q[L++];$[H++]=String.fromCharCode((31&G)<<6|63&be)}else if(G>239&&G<365){const cn=((7&G)<<18|(63&q[L++])<<12|(63&q[L++])<<6|63&q[L++])-65536;$[H++]=String.fromCharCode(55296+(cn>>10)),$[H++]=String.fromCharCode(56320+(1023&cn))}else{const be=q[L++],Ue=q[L++];$[H++]=String.fromCharCode((15&G)<<12|(63&be)<<6|63&Ue)}}return $.join("")}(this.decodeStringToByteArray(q,$))},decodeStringToByteArray(q,$){this.init_();const L=$?this.charToByteMapWebSafe_:this.charToByteMap_,H=[];for(let G=0;G<q.length;){const be=L[q.charAt(G++)],tt=G<q.length?L[q.charAt(G)]:0;++G;const Kt=G<q.length?L[q.charAt(G)]:64;++G;const kt=G<q.length?L[q.charAt(G)]:64;if(++G,null==be||null==tt||null==Kt||null==kt)throw Error();H.push(be<<2|tt>>4),64!==Kt&&(H.push(tt<<4&240|Kt>>2),64!==kt&&H.push(Kt<<6&192|kt))}return H},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},de=function(q){return function(q){const $=ue(q);return he.encodeByteArray($,!0)}(q).replace(/\./g,"")},fe=function(q){try{return he.decodeString(q,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function B(q,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return $}for(const L in $)!$.hasOwnProperty(L)||!K(L)||(q[L]=B(q[L],$[L]));return q}function K(q){return"__proto__"!==q}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,L)=>{this.resolve=$,this.reject=L})}wrapCallback($){return(L,H)=>{L?this.reject(L):this.resolve(H),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(L):$(L,H))}}}function Se(q,$){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const H=$||"demo-project",G=q.iat||0,be=q.sub||q.user_id;if(!be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${H}`,aud:H,iat:G,exp:G+3600,auth_time:G,sub:be,user_id:be,firebase:{sign_in_provider:"custom",identities:{}}},q);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Ue)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function We(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){const q=we();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function je(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){return"object"==typeof indexedDB}function ge(){return new Promise((q,$)=>{try{let L=!0;const H="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(H);G.onsuccess=()=>{G.result.close(),L||self.indexedDB.deleteDatabase(H),q(!0)},G.onupgradeneeded=()=>{L=!1},G.onerror=()=>{var be;$((null===(be=G.error)||void 0===be?void 0:be.message)||"")}}catch(L){$(L)}})}function W(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class te extends Error{constructor($,L,H){super(L),this.code=$,this.customData=H,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor($,L,H){this.service=$,this.serviceName=L,this.errors=H}create($,...L){const H=L[0]||{},G=`${this.service}/${$}`,be=this.errors[$],Ue=be?function Pe(q,$){return q.replace(ut,(L,H)=>{const G=$[H];return null!=G?String(G):`<${H}?>`})}(be,H):"Error";return new te(G,`${this.serviceName}: ${Ue} (${G}).`,H)}}const ut=/\{\$([^}]+)}/g;function wr(q,$){return Object.prototype.hasOwnProperty.call(q,$)}function en(q){for(const $ in q)if(Object.prototype.hasOwnProperty.call(q,$))return!1;return!0}function Or(q,$){if(q===$)return!0;const L=Object.keys(q),H=Object.keys($);for(const G of L){if(!H.includes(G))return!1;const be=q[G],Ue=$[G];if(hr(be)&&hr(Ue)){if(!Or(be,Ue))return!1}else if(be!==Ue)return!1}for(const G of H)if(!L.includes(G))return!1;return!0}function hr(q){return null!==q&&"object"==typeof q}function hs(q){const $=[];for(const[L,H]of Object.entries(q))Array.isArray(H)?H.forEach(G=>{$.push(encodeURIComponent(L)+"="+encodeURIComponent(G))}):$.push(encodeURIComponent(L)+"="+encodeURIComponent(H));return $.length?"&"+$.join("&"):""}function vi(q){const $={};return q.replace(/^\?/,"").split("&").forEach(H=>{if(H){const[G,be]=H.split("=");$[decodeURIComponent(G)]=decodeURIComponent(be)}}),$}function Fr(q){const $=q.indexOf("?");if(!$)return"";const L=q.indexOf("#",$);return q.substring($,L>0?L:void 0)}function fo(q,$){const L=new ze(q,$);return L.subscribe.bind(L)}class ze{constructor($,L){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=L,this.task.then(()=>{$(this)}).catch(H=>{this.error(H)})}next($){this.forEachObserver(L=>{L.next($)})}error($){this.forEachObserver(L=>{L.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,L,H){let G;if(void 0===$&&void 0===L&&void 0===H)throw new Error("Missing Observer.");G=function Hi(q,$){if("object"!=typeof q||null===q)return!1;for(const L of $)if(L in q&&"function"==typeof q[L])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:L,complete:H},void 0===G.next&&(G.next=xn),void 0===G.error&&(G.error=xn),void 0===G.complete&&(G.complete=xn);const be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),be}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let L=0;L<this.observers.length;L++)this.sendOne(L,$)}sendOne($,L){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{L(this.observers[$])}catch(H){typeof console<"u"&&console.error&&console.error(H)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function Zi(q,$=1e3,L=2){const H=$*Math.pow(L,q),G=Math.round(.5*H*(Math.random()-.5)*2);return Math.min(144e5,H+G)}function Zt(q){return q&&q._delegate?q._delegate:q}},9162:(st,De,k)=>{var l=k(4650);let X=null;function O(){return X}const ce=new l.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function fe(){return(0,l.LFG)(B)}()},providedIn:"platform"}),n})();const U=new l.OlP("Location Initialized");let B=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){K()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){K()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ve(){return new B((0,l.LFG)(ce))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Se(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(We)},providedIn:"root"}),n})();const pe=new l.OlP("appBaseHref");let We=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Se(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ye(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+Ye(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+Ye(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Se(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+Ye(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+Ye(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(pe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=we(Be(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ye(r))}normalize(t){return n.stripTrailingSlash(function Ee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=Se,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(l.LFG(me))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return new Ae((0,l.LFG)(me))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}var V=(()=>((V=V||{})[V.Decimal=0]="Decimal",V[V.Percent=1]="Percent",V[V.Currency=2]="Currency",V[V.Scientific=3]="Scientific",V))(),te=(()=>((te=te||{})[te.Decimal=0]="Decimal",te[te.Group=1]="Group",te[te.List=2]="List",te[te.PercentSign=3]="PercentSign",te[te.PlusSign=4]="PlusSign",te[te.MinusSign=5]="MinusSign",te[te.Exponential=6]="Exponential",te[te.SuperscriptingExponent=7]="SuperscriptingExponent",te[te.PerMille=8]="PerMille",te[te.Infinity=9]="Infinity",te[te.NaN=10]="NaN",te[te.TimeSeparator=11]="TimeSeparator",te[te.CurrencyDecimal=12]="CurrencyDecimal",te[te.CurrencyGroup=13]="CurrencyGroup",te))();function Rt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===te.CurrencyDecimal)return t[l.wAp.NumberSymbols][te.Decimal];if(e===te.CurrencyGroup)return t[l.wAp.NumberSymbols][te.Group]}return r}const Er=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Fn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class na{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new na(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,h),ms(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ms(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ms(n,e){n.context.$implicit=e.item}let er=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mc{constructor(){this.$implicit=null,this.ngIf=null}}function tr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let bi=(()=>{class n{constructor(t){this._locale=t}transform(t,r,o){if(!function ia(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale;try{return function At(n,e,t){return function hn(n,e,t,r,o,u,h=!1){let m="",w=!1;if(isFinite(n)){let C=function fc(n){let r,o,u,h,m,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(o<0&&(o=u),o+=+e.slice(u+1),e=e.substring(0,u)):o<0&&(o=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],o=1;else{for(m--;"0"===e.charAt(m);)m--;for(o-=u,r=[],h=0;u<=m;u++,h++)r[h]=Number(e.charAt(u))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);h&&(C=function js(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(C));let S=e.minInt,R=e.minFrac,j=e.maxFrac;if(u){const Dt=u.match(Er);if(null===Dt)throw new Error(`${u} is not a valid digit info`);const Vt=Dt[1],Mt=Dt[3],Pt=Dt[5];null!=Vt&&(S=Fn(Vt)),null!=Mt&&(R=Fn(Mt)),null!=Pt?j=Fn(Pt):null!=Mt&&R>j&&(j=R)}!function Ii(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(e,o),t);let h=u+n.integerLen,m=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let R=h;R<r.length;R++)r[R]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,h=u+1),r[0]=0;for(let R=1;R<h;R++)r[R]=0}if(m>=5)if(h-1<0){for(let R=0;R>h;R--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;o<Math.max(0,u);o++)r.push(0);let w=0!==u;const C=e+n.integerLen,S=r.reduceRight(function(R,j,Q,oe){return oe[Q]=(j+=R)<10?j:j-10,w&&(0===oe[Q]&&Q>=C?oe.pop():w=!1),j>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(C,R,j);let Q=C.digits,oe=C.integerLen;const Me=C.exponent;let Fe=[];for(w=Q.every(Dt=>!Dt);oe<S;oe++)Q.unshift(0);for(;oe<0;oe++)Q.unshift(0);oe>0?Fe=Q.splice(oe,Q.length):(Fe=Q,Q=[0]);const wt=[];for(Q.length>=e.lgSize&&wt.unshift(Q.splice(-e.lgSize,Q.length).join(""));Q.length>e.gSize;)wt.unshift(Q.splice(-e.gSize,Q.length).join(""));Q.length&&wt.unshift(Q.join("")),m=wt.join(Rt(t,r)),Fe.length&&(m+=Rt(t,o)+Fe.join("")),Me&&(m+=Rt(t,te.Exponential)+"+"+Me)}else m=Rt(t,te.Infinity);return m=n<0&&!w?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,function yn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],u=r[1],h=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=h[0],w=h[1]||"";t.posPre=m.substring(0,m.indexOf("#"));for(let S=0;S<w.length;S++){const R=w.charAt(S);"0"===R?t.minFrac=t.maxFrac=S+1:"#"===R?t.maxFrac=S+1:t.posSuf+=R}const C=m.split(",");if(t.gSize=C[1]?C[1].length:0,t.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,u){const S=o.length-t.posPre.length-t.posSuf.length,R=u.indexOf("#");t.negPre=u.substring(0,R).replace(/'/g,""),t.negSuf=u.slice(R+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function en(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,V.Decimal),Rt(e,te.MinusSign)),e,te.Group,te.Decimal,t)}(function au(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,r)}catch(u){throw function Hn(n,e){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function ar(n){return"server"===n}let uu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new jh((0,l.LFG)(ce),window)}),n})();class jh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Kr(this.window.history)||Kr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qs extends class ed extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){X||(X=n)}(new qs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Eu(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}();return null==t?null:function Ur(n){Zn=Zn||document.createElement("a"),Zn.setAttribute("href",n);const e=Zn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function iu(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Zn,zs=null;const fn=new l.OlP("TRANSITION_ID"),Pc=[{provide:l.ip1,useFactory:function td(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=O(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[fn,ce,l.zs3],multi:!0}];let Oc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const bu=new l.OlP("EventManagerPlugins");let nd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bu),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class kc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=O().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let vo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),wo=(()=>{class n extends vo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(rd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(rd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function rd(n){O().remove(n)}const Io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},id=/%COMP%/g;function Tu(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Tu(n,o,t):(o=o.replace(id,n),t.push(o))}return t}function sd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Eo=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new bo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new od(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case l.ifc.ShadowDom:return new ad(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Tu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(nd),l.LFG(wo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class bo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Io[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ha(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ha(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=Io[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Io[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,o&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,sd(r)):this.eventManager.addEventListener(e,t,sd(r))}}function ha(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class od extends bo{constructor(e,t,r,o){super(e),this.component=r;const u=Tu(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Tn(n){return"_ngcontent-%COMP%".replace(id,n)}(o+"-"+r.id),this.hostAttr=function Du(n){return"_nghost-%COMP%".replace(id,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ad extends bo{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Tu(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const m=document.createElement("style");m.textContent=u[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nr=(()=>{class n extends kc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const fa=["alt","control","meta","shift"],pa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Di={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ga=(()=>{class n extends kc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),h="code."),fa.forEach(C=>{const S=r.indexOf(C);S>-1&&(r.splice(S,1),h+=C+".")}),h+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=o,w.fullKey=h,w}static matchEventFullKeyCode(t,r){let o=pa[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),fa.forEach(h=>{h!==o&&(0,Di[h])(t)&&(u+=h+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{n.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Mu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function Su(){qs.makeCurrent()},multi:!0},{provide:ce,useFactory:function ya(){return(0,l.RDi)(document),document},deps:[]}]),Is=new l.OlP(""),cd=[{provide:l.rWj,useClass:class Hh{addToWindow(e){l.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const m=function(w){h=h||w,u--,0==u&&r(h)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Es=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ys(){return new l.qLn},deps:[]},{provide:bu,useClass:nr,multi:!0,deps:[ce,l.R0b,l.Lbi]},{provide:bu,useClass:ga,multi:!0,deps:[ce]},{provide:Eo,useClass:Eo,deps:[nd,wo,l.AFp]},{provide:l.FYo,useExisting:Eo},{provide:vo,useExisting:wo},{provide:wo,useClass:wo,deps:[ce]},{provide:nd,useClass:nd,deps:[bu,l.R0b]},{provide:class yo{},useClass:Oc,deps:[]},[]];let Lc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:fn,useExisting:l.AFp},Pc]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Is,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Es,...cd],imports:[go,l.hGG]}),n})(),Ji=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Co(){return new Ji((0,l.LFG)(ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var on=k(8996),fi=k(7669);function nt(...n){const e=(0,fi.yG)(n);return(0,on.D)(n,e)}var Qr=k(7579);class _n extends Qr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ia=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Dr=k(9751);const{isArray:Cs}=Array,{getPrototypeOf:ku,prototype:Jp,keys:jc}=Object;function Ea(n){if(1===n.length){const e=n[0];if(Cs(e))return{args:e,keys:null};if(function Mo(n){return n&&"object"==typeof n&&ku(n)===Jp}(e)){const t=jc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ds=k(4671),rt=k(4004);const{isArray:ba}=Array;function Ca(n){return(0,rt.U)(e=>function Ts(n,e){return ba(e)?n(...e):n(e)}(n,e))}function Ro(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Gn=k(5403),$c=k(9672);function No(...n){const e=(0,fi.yG)(n),t=(0,fi.jO)(n),{args:r,keys:o}=Ea(n);if(0===r.length)return(0,on.D)([],e);const u=new Dr.y(function Xp(n,e,t=Ds.y){return r=>{Hc(e,()=>{const{length:o}=n,u=new Array(o);let h=o,m=o;for(let w=0;w<o;w++)Hc(e,()=>{const C=(0,on.D)(n[w],e);let S=!1;C.subscribe((0,Gn.x)(r,R=>{u[w]=R,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>Ro(o,h):Ds.y));return t?u.pipe(Ca(t)):u}function Hc(n,e,t){n?(0,$c.f)(t,n,e):e()}var Fu=k(8189);function As(...n){return function Da(){return(0,Fu.J)(1)}()((0,on.D)(n,(0,fi.yG)(n)))}var Ss=k(8421);function gi(n){return new Dr.y(e=>{(0,Ss.Xf)(n()).subscribe(e)})}var Zc=k(9635),Po=k(576);function jr(n,e){const t=(0,Po.m)(n)?n:()=>n,r=o=>o.error(t());return new Dr.y(e?o=>e.schedule(r,0,o):r)}var es=k(515),Ti=k(727),pr=k(4482);function xs(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ts extends Dr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ti.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ti.w0.EMPTY)}return e}refCount(){return xs()(this)}}function Vn(n,e){return(0,pr.e)((t,r)=>{let o=null,u=0,h=!1;const m=()=>h&&!o&&r.complete();t.subscribe((0,Gn.x)(r,w=>{o?.unsubscribe();let C=0;const S=u++;(0,Ss.Xf)(n(w,S)).subscribe(o=(0,Gn.x)(r,R=>r.next(e?e(w,R,S,C++):R),()=>{o=null,m()}))},()=>{h=!0,m()}))})}function pn(n){return n<=0?()=>es.E:(0,pr.e)((e,t)=>{let r=0;e.subscribe((0,Gn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Lu(...n){const e=(0,fi.yG)(n);return(0,pr.e)((t,r)=>{(e?As(n,t,e):As(n,t)).subscribe(r)})}function b(n,e){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,Gn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}var D=k(5577);function x(n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function F(n=Y){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Y(){return new Ia}function re(n,e){const t=arguments.length>=2;return r=>r.pipe(n?b((o,u)=>n(o,u,r)):Ds.y,pn(1),t?x(e):F(()=>new Ia))}function Ie(n,e){return(0,Po.m)(e)?(0,D.z)(n,e,1):(0,D.z)(n,1)}var Re=k(8505);function Je(n){return(0,pr.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,h=>{u=(0,Ss.Xf)(n(h,Je(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ft(n,e,t,r,o){return(u,h)=>{let m=t,w=e,C=0;u.subscribe((0,Gn.x)(h,S=>{const R=C++;w=m?n(w,S,R):(m=!0,S),r&&h.next(w)},o&&(()=>{m&&h.next(w),h.complete()})))}}function It(n,e){return(0,pr.e)(ft(n,e,arguments.length>=2,!0))}function ot(n){return n<=0?()=>es.E:(0,pr.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function vn(n,e){const t=arguments.length>=2;return r=>r.pipe(n?b((o,u)=>n(o,u,r)):Ds.y,ot(1),t?x(e):F(()=>new Ia))}function Ms(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Et="primary",Ai=Symbol("RouteTitle");class Rs{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Jr(n){return new Rs(n)}function ko(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],m=n[u];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!qh(n[o],e[o]))return!1;return!0}function qh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function eg(n){return Array.prototype.concat.apply([],n)}function tg(n){return n.length>0?n[n.length-1]:null}function qn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Si(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,on.D)(Promise.resolve(n)):nt(n)}const A0={exact:function rg(n,e,t){if(!no(n.segments,e.segments)||!to(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rg(n.children[r],e.children[r],t))return!1;return!0},subset:Ta},Wh={exact:function Kh(n,e){return mi(n,e)},subset:function ig(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qh(n[t],e[t]))},ignored:()=>!0};function Ey(n,e,t){return A0[t.paths](n.root,e.root,t.matrixParams)&&Wh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ta(n,e,t){return dd(n,e,e.segments,t)}function dd(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!no(o,t)||e.hasChildren()||!to(o,t,r))}if(n.segments.length===t.length){if(!no(n.segments,t)||!to(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!Ta(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(no(n.segments,o)&&to(n.segments,o,r)&&n.children[Et])&&dd(n.children[Et],e,u,r)}}function to(n,e,t){return e.every((r,o)=>Wh[t](n[o].parameters,r.parameters))}class Aa{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return pd.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,qn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gd(this)}}class hd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Jr(this.parameters)),this._parameterMap}toString(){return ag(this)}}function no(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Yh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new fd},providedIn:"root"}),n})();class fd{parse(e){const t=new Ty(e);return new Aa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Sa(e.root,!0)}`,r=function x0(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${qc(t)}=${qc(o)}`).join("&"):`${qc(t)}=${qc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function by(n){return encodeURI(n)}(e.fragment)}`:""}`}}const pd=new fd;function gd(n){return n.segments.map(e=>ag(e)).join("/")}function Sa(n,e){if(!n.hasChildren())return gd(n);if(e){const t=n.children[Et]?Sa(n.children[Et],!1):"",r=[];return qn(n.children,(o,u)=>{u!==Et&&r.push(`${u}:${Sa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function sg(n,e){let t=[];return qn(n.children,(r,o)=>{o===Et&&(t=t.concat(e(r,o)))}),qn(n.children,(r,o)=>{o!==Et&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Et?[Sa(n.children[Et],!1)]:[`${o}:${Sa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Et]?`${gd(n)}/${t[0]}`:`${gd(n)}/(${t.join("//")})`}}function og(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qc(n){return og(n).replace(/%3B/gi,";")}function xi(n){return og(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fo(n){return decodeURIComponent(n)}function Qh(n){return Fo(n.replace(/\+/g,"%20"))}function ag(n){return`${xi(n.path)}${function S0(n){return Object.keys(n).map(e=>`;${xi(e)}=${xi(n[e])}`).join("")}(n.parameters)}`}const M0=/^[^\/()?;=#]+/;function ug(n){const e=n.match(M0);return e?e[0]:""}const Lo=/^[^=?&#]+/,Dy=/^[^&#]+/;class Ty{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Et]=new Lt(e,t)),r}parseSegment(){const e=ug(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new hd(Fo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ug(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ug(this.remaining);o&&(r=o,this.capture(r))}e[Fo(t)]=Fo(r)}parseQueryParam(e){const t=function Cy(n){const e=n.match(Lo);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Jh(n){const e=n.match(Dy);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Qh(t),u=Qh(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ug(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new l.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Et);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[Et]:new Lt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function xa(n){return n.segments.length>0?new Lt([],{[Et]:n}):n}function Mi(n){const e={};for(const r of Object.keys(n.children)){const u=Mi(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function zc(n){if(1===n.numberOfChildren&&n.children[Et]){const e=n.children[Et];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}function Ns(n){return n instanceof Aa}function N0(n,e,t,r,o){if(0===t.length)return Wc(e.root,e.root,e.root,r,o);const u=function dg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kc(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return qn(u.outlets,(w,C)=>{m[C]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new Kc(t,e,r)}(t);return u.toRoot()?Wc(e.root,e.root,new Lt([],{}),r,o):function h(w){const C=function ef(n,e,t,r){if(n.isAbsolute)return new Vu(e.root,!0,0);if(-1===r)return new Vu(t,t===e.root,0);return function tf(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new l.vHH(4005,!1);o=r.segments.length}return new Vu(r,!1,o-u)}(t,r+(Ma(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),S=C.processChildren?Na(C.segmentGroup,C.index,u.commands):Uu(C.segmentGroup,C.index,u.commands);return Wc(e.root,C.segmentGroup,S,r,o)}(n.snapshot?._lastPathIndex)}function Ma(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ra(n){return"object"==typeof n&&null!=n&&n.outlets}function Wc(n,e,t,r,o){let h,u={};r&&qn(r,(w,C)=>{u[C]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),h=n===e?t:lg(n,e,t);const m=xa(Mi(h));return new Aa(m,u,o)}function lg(n,e,t){const r={};return qn(n.children,(o,u)=>{r[u]=o===e?t:lg(o,e,t)}),new Lt(n.segments,r)}class Kc{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ma(r[0]))throw new l.vHH(4003,!1);const o=r.find(Ra);if(o&&o!==tg(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Uu(n,e,t){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return Na(n,e,t);const r=function Sy(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],m=t[r];if(Ra(m))break;const w=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&C&&"object"==typeof C&&void 0===C.outlets){if(!_d(w,C,h))return u;r+=2}else{if(!_d(w,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Lt(n.segments.slice(0,r.pathIndex),{});return u.children[Et]=new Lt(n.segments.slice(r.pathIndex),n.children),Na(u,0,o)}return r.match&&0===o.length?new Lt(n.segments,{}):r.match&&!n.hasChildren()?Nn(n,e,t):r.match?Na(n,0,o):Nn(n,e,t)}function Na(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const r=function yd(n){return Ra(n[0])?n[0].outlets:{[Et]:n}}(t),o={};return qn(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=Uu(n.children[h],e,u))}),qn(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new Lt(n.segments,o)}}function Nn(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Ra(u)){const w=hg(u.outlets);return new Lt(r,w)}if(0===o&&Ma(t[0])){r.push(new hd(n.segments[e].path,fg(t[0]))),o++;continue}const h=Ra(u)?u.outlets[Et]:`${u}`,m=o<t.length-1?t[o+1]:null;h&&m&&Ma(m)?(r.push(new hd(h,fg(m))),o+=2):(r.push(new hd(h,{})),o++)}return new Lt(r,{})}function hg(n){const e={};return qn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Nn(new Lt([],{}),0,t))}),e}function fg(n){const e={};return qn(n,(t,r)=>e[r]=`${t}`),e}function _d(n,e,t){return n==t.path&&mi(e,t.parameters)}class Ps{constructor(e,t){this.id=e,this.url=t}}class nf extends Ps{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ns extends Ps{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vd extends Ps{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rf extends Ps{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xy extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P0 extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O0 extends Ps{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yc extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wd extends Ps{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Id{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ed{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sf{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class My{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bd{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class af{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Qc(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Qc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Bu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Bu(e,this._root).map(t=>t.value)}}function Qc(n,e){if(n===e.value)return e;for(const t of e.children){const r=Qc(n,t);if(r)return r}return null}function Bu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Bu(n,t);if(r.length)return r.unshift(e),r}return[]}class Ri{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ni(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class uf extends af{constructor(e,t){super(e),this.snapshot=t,cr(this,e)}toString(){return this.snapshot.toString()}}function Dd(n,e){const t=function rs(n,e){const h=new Os([],{},{},"",{},Et,e,null,n.root,-1,{});return new Sd("",new Ri(h,[]))}(n,e),r=new _n([new hd("",{})]),o=new _n({}),u=new _n({}),h=new _n({}),m=new _n(""),w=new Vo(r,o,h,m,u,Et,e,t.root);return w.snapshot=t.root,new uf(new Ri(w,[]),t)}class Vo{constructor(e,t,r,o,u,h,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this.title=this.data?.pipe((0,rt.U)(C=>C[Ai]))??nt(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(e=>Jr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(e=>Jr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Td(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Ad(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Os{constructor(e,t,r,o,u,h,m,w,C,S,R,j){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=m,this.title=this.data?.[Ai],this.routeConfig=w,this._urlSegment=C,this._lastPathIndex=S,this._correctedLastPathIndex=j??S,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sd extends af{constructor(e,t){super(t),this.url=e,cr(this,t)}toString(){return xd(this._root)}}function cr(n,e){e.value._routerState=n,e.children.forEach(t=>cr(n,t))}function xd(n){const e=n.children.length>0?` { ${n.children.map(xd).join(", ")} } `:"";return`${n.value}${e}`}function Jc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mi(e.params,t.params)||n.params.next(t.params),function eo(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Md(n,e){const t=mi(n.params,e.params)&&function Gc(n,e){return no(n,e)&&n.every((t,r)=>mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Md(n.parent,e.parent))}function ro(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function gg(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ro(n,r,o);return ro(n,r)})}(n,e,t);return new Ri(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(m=>ro(n,m)),h}}const r=function mg(n){return new Vo(new _n(n.url),new _n(n.params),new _n(n.queryParams),new _n(n.fragment),new _n(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>ro(n,u));return new Ri(r,o)}}const cf="ngNavigationCancelingError";function ju(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=yg(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function yg(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[cf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function lf(n){return _g(n)&&Ns(n.url)}function _g(n){return n&&n[cf]}class vg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new y,this.attachRef=null}}let y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new vg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f=!1;let g=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=o||Et,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,f);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,f);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,f);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,f);this._activatedRoute=t;const o=this.location,h=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new v(t,m,o.injector);if(r&&function A(n){return!!n.resolveComponentFactory}(r)){const C=r.resolveComponentFactory(h);this.activated=o.createComponent(C,o.length,w)}else this.activated=o.createComponent(h,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(y),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class v{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Vo?this.route:e===y?this.childContexts:this.parent.get(e,t)}}let N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[g],encapsulation:2}),n})();function z(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rd(n){const e=n.children&&n.children.map(Rd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Et&&(t.component=N),t}function ei(n){return n.outlet||Et}function Xc(n,e){const t=n.filter(r=>ei(r)===e);return t.push(...n.filter(r=>ei(r)!==e)),t}function el(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Nd{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ni(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),qn(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ni(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Ni(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ni(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new pg(u.value.snapshot))}),e.children.length&&this.forwardEvent(new My(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Jc(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Jc(m.route.value),this.activateChildRoutes(e,null,h.children)}else{const m=el(o.snapshot),w=m?.get(l._Vd)??null;h.attachRef=null,h.route=o,h.resolver=w,h.injector=m,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Ig{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tl{constructor(e,t){this.component=e,this.route=t}}function Ry(n,e,t){const r=n._root;return nl(r,e?e._root:null,t,[r.value])}function Pa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function nl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ni(e);return n.children.forEach(h=>{(function F0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const w=function Ny(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!no(n.url,e.url);case"pathParamsOrQueryParamsChange":return!no(n.url,e.url)||!mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Md(n,e)||!mi(n.queryParams,e.queryParams);default:return!Md(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new Ig(r)):(u.data=h.data,u._resolvedData=h._resolvedData),nl(n,e,u.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new tl(m.outlet.component,h))}else h&&Pd(e,m,o),o.canActivateChecks.push(new Ig(r)),nl(n,null,u.component?m?m.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),qn(u,(h,m)=>Pd(h,t.getContext(m),o)),o}function Pd(n,e,t){const r=Ni(n),o=n.value;qn(r,(u,h)=>{Pd(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new tl(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Od(n){return"function"==typeof n}function Eg(n){return n instanceof Ia||"EmptyError"===n?.name}const bg=Symbol("INITIAL_VALUE");function kd(){return Vn(n=>No(n.map(e=>e.pipe(pn(1),Lu(bg)))).pipe((0,rt.U)(e=>{for(const t of e)if(!0!==t){if(t===bg)return bg;if(!1===t||t instanceof Aa)return t}return!0}),b(e=>e!==bg),pn(1)))}function ti(n){return(0,Zc.z)((0,Re.b)(e=>{if(Ns(e))throw ju(0,e)}),(0,rt.U)(e=>!0===e))}const Cg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dg(n,e,t,r,o){const u=Ar(n,e,t);return u.matched?function Fy(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?nt(o.map(h=>{const m=Pa(h,n);return Si(function Sb(n){return n&&Od(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(kd(),ti()):nt(!0)}(r=z(e,r),e,t).pipe((0,rt.U)(h=>!0===h?u:{...Cg})):nt(u)}function Ar(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Cg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||ko)(t,n,e);if(!o)return{...Cg};const u={};qn(o.posParams,(m,w)=>{u[w]=m.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function Hu(n,e,t,r,o="corrected"){if(t.length>0&&function Vb(n,e,t){return t.some(r=>Tg(n,e,r)&&ei(r)!==Et)}(n,t,r)){const h=new Lt(e,function Lb(n,e,t,r){const o={};o[Et]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ei(u)!==Et){const h=new Lt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[ei(u)]=h}return o}(n,e,r,new Lt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function B0(n,e,t){return t.some(r=>Tg(n,e,r))}(n,t,r)){const h=new Lt(n.segments,function U0(n,e,t,r,o,u){const h={};for(const m of r)if(Tg(n,t,m)&&!o[ei(m)]){const w=new Lt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[ei(m)]=w}return{...o,...h}}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new Lt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Tg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ly(n,e,t,r){return!!(ei(n)===r||r!==Et&&Tg(e,t,n))&&("**"===n.path||Ar(e,n,t).matched)}function j0(n,e,t){return 0===e.length&&!n.children[t]}const hf=!1;class Ag{constructor(e){this.segmentGroup=e||null}}class $0{constructor(e){this.urlTree=e}}function ff(n){return jr(new Ag(n))}function H0(n){return jr(new $0(n))}class Bb{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=Hu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Et).pipe((0,rt.U)(u=>this.createUrlTree(Mi(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Je(u=>{if(u instanceof $0)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ag?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Et).pipe((0,rt.U)(o=>this.createUrlTree(Mi(o),e.queryParams,e.fragment))).pipe(Je(o=>{throw o instanceof Ag?this.noMatchError(o):o}))}noMatchError(e){return new l.vHH(4002,hf)}createUrlTree(e,t,r){const o=xa(e);return new Aa(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,rt.U)(u=>new Lt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,on.D)(o).pipe(Ie(u=>{const h=r.children[u],m=Xc(t,u);return this.expandSegmentGroup(e,m,h,u).pipe((0,rt.U)(w=>({segment:w,outlet:u})))}),It((u,h)=>(u[h.outlet]=h.segment,u),{}),vn())}expandSegment(e,t,r,o,u,h){return(0,on.D)(r).pipe(Ie(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,h).pipe(Je(C=>{if(C instanceof Ag)return nt(null);throw C}))),re(m=>!!m),Je((m,w)=>{if(Eg(m))return j0(t,o,u)?nt(new Lt([],{})):ff(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,h,m){return Ly(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):ff(t):ff(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?H0(u):this.lineralizeSegments(r,u).pipe((0,D.z)(h=>{const m=new Lt(h,{});return this.expandSegment(e,m,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:m,consumedSegments:w,remainingSegments:C,positionalParamSegments:S}=Ar(t,o,u);if(!m)return ff(t);const R=this.applyRedirectCommands(w,o.redirectTo,S);return o.redirectTo.startsWith("/")?H0(R):this.lineralizeSegments(o,R).pipe((0,D.z)(j=>this.expandSegment(e,t,r,j.concat(C),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){return"**"===r.path?(e=z(r,e),r.loadChildren?(r._loadedRoutes?nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,rt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Lt(o,{})))):nt(new Lt(o,{}))):Dg(t,r,o,e).pipe(Vn(({matched:h,consumedSegments:m,remainingSegments:w})=>h?this.getChildConfig(e=r._injector??e,r,o).pipe((0,D.z)(S=>{const R=S.injector??e,j=S.routes,{segmentGroup:Q,slicedSegments:oe}=Hu(t,m,w,j),Me=new Lt(Q.segments,Q.children);if(0===oe.length&&Me.hasChildren())return this.expandChildren(R,j,Me).pipe((0,rt.U)(Vt=>new Lt(m,Vt)));if(0===j.length&&0===oe.length)return nt(new Lt(m,{}));const Fe=ei(r)===u;return this.expandSegment(R,Me,j,oe,Fe?Et:u,!0).pipe((0,rt.U)(Dt=>new Lt(m.concat(Dt.segments),Dt.children)))})):ff(t)))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Fb(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?nt(!0):nt(o.map(h=>{const m=Pa(h,n);return Si(function Py(n){return n&&Od(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(kd(),ti())}(e,t,r).pipe((0,D.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Re.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function Fd(n){return jr(yg(hf,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return nt(r);if(o.numberOfChildren>1||!o.children[Et])return jr(new l.vHH(4e3,hf));o=o.children[Et]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Aa(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return qn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return qn(t.children,(m,w)=>{h[w]=this.createSegmentGroup(e,m,r,o)}),new Lt(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new l.vHH(4001,hf);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class EA{}class Uo{constructor(e,t,r,o,u,h,m,w){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m,this.urlSerializer=w}recognize(){const e=Hu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Et).pipe((0,rt.U)(t=>{if(null===t)return null;const r=new Os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ri(r,t),u=new Sd(this.url,o);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=Td(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return(0,on.D)(Object.keys(r.children)).pipe(Ie(o=>{const u=r.children[o],h=Xc(t,o);return this.processSegmentGroup(e,h,u,o)}),It((o,u)=>o&&u?(o.push(...u),o):null),function ur(n,e=!1){return(0,pr.e)((t,r)=>{let o=0;t.subscribe((0,Gn.x)(r,u=>{const h=n(u,o++);(h||e)&&r.next(u),!h&&r.complete()}))})}(o=>null!==o),x(null),vn(),(0,rt.U)(o=>{if(null===o)return null;const u=jy(o);return function Uy(n){n.sort((e,t)=>e.value.outlet===Et?-1:t.value.outlet===Et?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,o,u){return(0,on.D)(t).pipe(Ie(h=>this.processSegmentAgainstRoute(h._injector??e,h,r,o,u)),re(h=>!!h),Je(h=>{if(Eg(h))return j0(r,o,u)?nt([]):nt(null);throw h}))}processSegmentAgainstRoute(e,t,r,o,u){if(t.redirectTo||!Ly(t,r,o,u))return nt(null);let h;if("**"===t.path){const m=o.length>0?tg(o).parameters:{},w=G0(r)+o.length;h=nt({snapshot:new Os(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sg(t),ei(t),t.component??t._loadedComponent??null,t,Ld(r),w,xg(t),w),consumedSegments:[],remainingSegments:[]})}else h=Dg(r,t,o,e).pipe((0,rt.U)(({matched:m,consumedSegments:w,remainingSegments:C,parameters:S})=>{if(!m)return null;const R=G0(r)+w.length;return{snapshot:new Os(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Sg(t),ei(t),t.component??t._loadedComponent??null,t,Ld(r),R,xg(t),R),consumedSegments:w,remainingSegments:C}}));return h.pipe(Vn(m=>{if(null===m)return nt(null);const{snapshot:w,consumedSegments:C,remainingSegments:S}=m;e=t._injector??e;const R=t._loadedInjector??e,j=function By(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Q,slicedSegments:oe}=Hu(r,C,S,j.filter(Fe=>void 0===Fe.redirectTo),this.relativeLinkResolution);if(0===oe.length&&Q.hasChildren())return this.processChildren(R,j,Q).pipe((0,rt.U)(Fe=>null===Fe?null:[new Ri(w,Fe)]));if(0===j.length&&0===oe.length)return nt([new Ri(w,[])]);const Me=ei(t)===u;return this.processSegment(R,j,Q,oe,Me?Et:u).pipe((0,rt.U)(Fe=>null===Fe?null:[new Ri(w,Fe)]))}))}}function $b(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jy(n){const e=[],t=new Set;for(const r of n){if(!$b(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=jy(r.children);e.push(new Ri(r.value,o))}return e.filter(r=>!t.has(r))}function Ld(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function G0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Sg(n){return n.data||{}}function xg(n){return n.resolve||{}}function Mg(n){return"string"==typeof n.title||null===n.title}function Hy(n){return Vn(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,rt.U)(()=>e)):nt(e)})}let K0=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===Et);return r}getResolvedTitleForRoute(t){return t.data[Ai]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Y0)},providedIn:"root"}),n})(),Y0=(()=>{class n extends K0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ji))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gb{}class Q0 extends class qb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pf=new l.OlP("",{providedIn:"root",factory:()=>({})}),Gy=new l.OlP("ROUTES");let qy=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Si(t.loadComponent()).pipe((0,Re.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ms(()=>{this.componentLoaders.delete(t)})),o=new ts(r,()=>new Qr.x).pipe(xs());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,rt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,C,S=!1;Array.isArray(m)?C=m:(w=m.create(t).injector,C=eg(w.get(Gy,[],l.XFs.Self|l.XFs.Optional)));return{routes:C.map(Rd),injector:w}}),Ms(()=>{this.childrenLoaders.delete(r)})),h=new ts(u,()=>new Qr.x).pipe(xs());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(t){return Si(t()).pipe((0,D.z)(r=>r instanceof l.YKP||Array.isArray(r)?nt(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class J0{}class X0{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ew(n){throw n}function tw(n,e,t){return e.parse("/")}const zb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function nw(){const n=(0,l.f3M)(Yh),e=(0,l.f3M)(y),t=(0,l.f3M)(Ae),r=(0,l.f3M)(l.zs3),o=(0,l.f3M)(l.Sil),u=(0,l.f3M)(Gy,{optional:!0})??[],h=(0,l.f3M)(pf,{optional:!0})??{},m=(0,l.f3M)(Y0),w=(0,l.f3M)(K0,{optional:!0}),C=(0,l.f3M)(J0,{optional:!0}),S=(0,l.f3M)(Gb,{optional:!0}),R=new gr(null,n,e,t,r,o,eg(u));return C&&(R.urlHandlingStrategy=C),S&&(R.routeReuseStrategy=S),R.titleStrategy=w??m,function Ng(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,R),R}let gr=(()=>{class n{constructor(t,r,o,u,h,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qr.x,this.errorHandler=ew,this.malformedUriErrorHandler=tw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new X0,this.routeReuseStrategy=new Q0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(qy),this.configLoader.onLoadEndListener=j=>this.triggerEvent(new Ed(j)),this.configLoader.onLoadStartListener=j=>this.triggerEvent(new Id(j)),this.ngModule=h.get(l.h0i),this.console=h.get(l.c2e);const R=h.get(l.R0b);this.isNgZoneEnabled=R instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function ng(){return new Aa(new Lt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dd(this.currentUrlTree,this.rootComponentType),this.transitions=new _n({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(b(o=>0!==o.id),(0,rt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Vn(o=>{let u=!1,h=!1;return nt(o).pipe((0,Re.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Vn(m=>{const w=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return zy(m.source)&&(this.browserUrlTree=m.extractedUrl),nt(m).pipe(Vn(R=>{const j=this.transitions.getValue();return r.next(new nf(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),j!==this.transitions.getValue()?es.E:Promise.resolve(R)}),function jb(n,e,t,r){return Vn(o=>function Oa(n,e,t,r,o){return new Bb(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,rt.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Re.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},o.urlAfterRedirects=R.urlAfterRedirects}),function z0(n,e,t,r,o,u){return(0,D.z)(h=>function bA(n,e,t,r,o,u,h="emptyOnly",m="legacy"){return new Uo(n,e,t,r,o,h,m,u).recognize().pipe(Vn(w=>null===w?function Z0(n){return new Dr.y(e=>e.error(n))}(new EA):nt(w)))}(n,e,t,h.urlAfterRedirects,r.serialize(h.urlAfterRedirects),r,o,u).pipe((0,rt.U)(m=>({...h,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Re.b)(R=>{if(o.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(Q,R)}this.browserUrlTree=R.urlAfterRedirects}const j=new xy(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(j)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:Q,source:oe,restoredState:Me,extras:Fe}=m,wt=new nf(j,this.serializeUrl(Q),oe,Me);r.next(wt);const Dt=Dd(Q,this.rootComponentType).snapshot;return nt(o={...m,targetSnapshot:Dt,urlAfterRedirects:Q,extras:{...Fe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),es.E}),(0,Re.b)(m=>{const w=new P0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,rt.U)(m=>o={...m,guards:Ry(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function Mb(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?nt({...t,guardsResult:!0}):function Rb(n,e,t,r){return(0,on.D)(n).pipe((0,D.z)(o=>function kb(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?nt(u.map(m=>{const w=el(e)??o,C=Pa(m,w);return Si(function df(n){return n&&Od(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):w.runInContext(()=>C(n,e,t,r))).pipe(re())})).pipe(kd()):nt(!0)}(o.component,o.route,t,e,r)),re(o=>!0!==o,!0))}(h,r,o,n).pipe((0,D.z)(m=>m&&function L0(n){return"boolean"==typeof n}(m)?function ky(n,e,t,r){return(0,on.D)(e).pipe(Ie(o=>As(function Pb(n,e){return null!==n&&e&&e(new sf(n)),nt(!0)}(o.route.parent,r),function Nb(n,e){return null!==n&&e&&e(new bd(n)),nt(!0)}(o.route,r),function V0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function k0(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>gi(()=>nt(h.guards.map(w=>{const C=el(h.node)??t,S=Pa(w,C);return Si(function Oy(n){return n&&Od(n.canActivateChild)}(S)?S.canActivateChild(r,n):C.runInContext(()=>S(r,n))).pipe(re())})).pipe(kd())));return nt(u).pipe(kd())}(n,o.path,t),function Ob(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const o=r.map(u=>gi(()=>{const h=el(e)??t,m=Pa(u,h);return Si(function Ab(n){return n&&Od(n.canActivate)}(m)?m.canActivate(e,n):h.runInContext(()=>m(e,n))).pipe(re())}));return nt(o).pipe(kd())}(n,o.route,t))),re(o=>!0!==o,!0))}(r,u,n,e):nt(m)),(0,rt.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Re.b)(m=>{if(o.guardsResult=m.guardsResult,Ns(m.guardsResult))throw ju(0,m.guardsResult);const w=new O0(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),b(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),Hy(m=>{if(m.guards.canActivateChecks.length)return nt(m).pipe((0,Re.b)(w=>{const C=new Yc(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(C)}),Vn(w=>{let C=!1;return nt(w).pipe(function CA(n,e){return(0,D.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return nt(t);let u=0;return(0,on.D)(o).pipe(Ie(h=>function Vd(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!Mg(o)&&(u[Ai]=o.title),function $y(n,e,t,r){const o=function W0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return nt({});const u={};return(0,on.D)(o).pipe((0,D.z)(h=>function Zb(n,e,t,r){const o=el(e)??r,u=Pa(n,o);return Si(u.resolve?u.resolve(e,t):o.runInContext(()=>u(e,t)))}(n[h],e,t,r).pipe(re(),(0,Re.b)(m=>{u[h]=m}))),ot(1),function Oo(n){return(0,rt.U)(()=>n)}(u),Je(h=>Eg(h)?es.E:jr(h)))}(u,n,e,r).pipe((0,rt.U)(h=>(n._resolvedData=h,n.data=Td(n,t).resolve,o&&Mg(o)&&(n.data[Ai]=o.title),null)))}(h.route,r,n,e)),(0,Re.b)(()=>u++),ot(1),(0,D.z)(h=>u===o.length?nt(t):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Re.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,Re.b)(w=>{const C=new wd(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(C)}))}),Hy(m=>{const w=C=>{const S=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Re.b)(R=>{C.component=R}),(0,rt.U)(()=>{})));for(const R of C.children)S.push(...w(R));return S};return No(w(m.targetSnapshot.root)).pipe(x(),pn(1))}),Hy(()=>this.afterPreactivation()),(0,rt.U)(m=>{const w=function Xr(n,e,t){const r=ro(n,e._root,t?t._root:void 0);return new uf(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return o={...m,targetRouterState:w}}),(0,Re.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,rt.U)(r=>(new Nd(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Re.b)({next(){u=!0},complete(){u=!0}}),Ms(()=>{u||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Je(m=>{if(h=!0,_g(m)){lf(m)||(this.navigated=!0,this.restoreHistory(o,!0));const w=new vd(o.id,this.serializeUrl(o.extractedUrl),m.message,m.cancellationCode);if(r.next(w),lf(m)){const C=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zy(o.source)};this.scheduleNavigation(C,"imperative",null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new rf(o.id,this.serializeUrl(o.extractedUrl),m,o.targetSnapshot??void 0);r.next(w);try{o.resolve(this.errorHandler(m))}catch(C){o.reject(C)}}return es.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Rd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:m,preserveFragment:w}=r,C=o||this.routerState.root,S=w?this.currentUrlTree.fragment:h;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...u};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),N0(C,this.currentUrlTree,t,R,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ns(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function rw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...zb}:!1===r?{...TA}:r,Ns(t))return Ey(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Ey(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ns(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){if(this.disposed)return Promise.resolve(!1);let m,w,C;h?(m=h.resolve,w=h.reject,C=h.promise):C=new Promise((j,Q)=>{m=j,w=Q});const S=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),R=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:S,targetPageId:R,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(j=>Promise.reject(j))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,o){const u=new vd(t.id,this.serializeUrl(t.extractedUrl),r,o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return nw()},providedIn:"root"}),n})();function zy(n){return"imperative"!==n}let rl=(()=>{class n{constructor(t,r,o,u,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Qr.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr),l.Y36(Vo),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),Ud=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Qr.x,this.subscription=t.events.subscribe(u=>{u instanceof ns&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,h){return!!(0!==t||r||o||u||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr),l.Y36(Vo),l.Y36(me))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),gf=(()=>{class n{constructor(t,r,o,u,h,m){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=h,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(w=>{w instanceof ns&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,Fu.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,on.D)(t).pipe((0,Fu.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Pg(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(rl,8),l.Y36(Ud,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(l.Suo(o,rl,5),l.Suo(o,Ud,5)),2&t){let u;l.iGM(u=l.CRH())&&(r.links=u),l.iGM(u=l.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class Wy{}let Ky=(()=>{class n{constructor(t,r,o,u,h){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(b(t=>t instanceof ns),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,t,`Route: ${u.path}`));const h=u._injector??t,m=u._loadedInjector??h;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(h,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,on.D)(o).pipe((0,Fu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const u=o.pipe((0,D.z)(h=>null===h?nt(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,on.D)([u,h]).pipe((0,Fu.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Wy),l.LFG(qy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const il=new l.OlP("");let sw=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ns&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Tr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function sl(n,e){return{\u0275kind:n,\u0275providers:e}}function yf(n){return[{provide:Gy,multi:!0,useValue:n}]}function Yb(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(gr),o=n.get(Yy);1===n.get(Qy)&&r.initialNavigation(),n.get(ks,null,l.XFs.Optional)?.setUpPreloading(),n.get(il,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.next(),o.complete()}}const Yy=new l.OlP("",{factory:()=>new Qr.x}),Qy=new l.OlP("",{providedIn:"root",factory:()=>1});const ks=new l.OlP("");function Xb(n){return sl(0,[{provide:ks,useExisting:Ky},{provide:Wy,useExisting:n}])}const uw=new l.OlP("ROUTER_FORROOT_GUARD"),tC=[Ae,{provide:Yh,useClass:fd},{provide:gr,useFactory:nw},y,{provide:Vo,useFactory:function ow(n){return n.routerState.root},deps:[gr]},qy];function cw(){return new l.PXZ("Router",gr)}let lw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tC,[],yf(t),{provide:uw,useFactory:dw,deps:[[gr,new l.FiY,new l.tp0]]},{provide:pf,useValue:r||{}},r?.useHash?{provide:me,useClass:et}:{provide:me,useClass:We},{provide:il,useFactory:()=>{const n=(0,l.f3M)(gr),e=(0,l.f3M)(uu),t=(0,l.f3M)(pf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new sw(n,e,t)}},r?.preloadingStrategy?Xb(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:cw},r?.initialNavigation?hw(r):[],[{provide:Jy,useFactory:Yb},{provide:l.tb,multi:!0,useExisting:Jy}]]}}static forChild(t){return{ngModule:n,providers:[yf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uw,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[N]}),n})();function dw(n){return"guarded"}function hw(n){return["disabled"===n.initialNavigation?sl(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(gr);return()=>{e.setUpLocationChangeListener()}}},{provide:Qy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?sl(2,[{provide:Qy,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(U,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const h=e.get(gr),m=e.get(Yy);(function o(u){e.get(gr).events.pipe(b(m=>m instanceof ns||m instanceof vd||m instanceof rf),(0,rt.U)(m=>m instanceof ns||m instanceof vd&&(0===m.code||1===m.code)&&null),b(m=>null!==m),pn(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),h.afterPreactivation=()=>(u(!0),r||m.closed?nt(void 0):m),h.initialNavigation()}))}}]).\u0275providers:[]]}const Jy=new l.OlP("");var fw=k(4986),Sr=k(5813);function kg(){return(0,pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function oC(n,e){return n===e}var ct,jo=k(2011),pw=(k(2476),k(3942)),ye=k(5861),ol=k(9681),Bd=k(4859),$o=k(1877),tn=k(2090),MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zu={},Xy=Xy||{},Ct=MA||self;function e_(){}function Fg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ho(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Lg="closure_uid_"+(1e9*Math.random()>>>0),Vg=0;function cC(n,e,t){return n.call.apply(n.bind,arguments)}function gw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ni(n,e,t){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cC:gw).apply(null,arguments)}function Ug(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $r(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return e.prototype[o].apply(r,h)}}function Gu(){this.s=this.s,this.o=this.o}var mw={};Gu.prototype.s=!1,Gu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function uC(n){return Object.prototype.hasOwnProperty.call(n,Lg)&&n[Lg]||(n[Lg]=++Vg)}(this);delete mw[n]}},Gu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Bg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function t_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Fg(r)){const o=n.length||0,u=r.length||0;n.length=o+u;for(let h=0;h<u;h++)n[o+h]=r[h]}else n.push(r)}}function xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var RA=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ct.addEventListener("test",e_,e),Ct.removeEventListener("test",e_,e)}catch{}return n}();function jd(n){return/^[\s\xa0]*$/.test(n)}var _w=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vw(n,e){return n<e?-1:n>e?1:0}function ka(){var n=Ct.navigator;return n&&(n=n.userAgent)?n:""}function io(n){return-1!=ka().indexOf(n)}function jg(n){return jg[" "](n),n}jg[" "]=e_;var $d,n,so=io("Opera"),al=io("Trident")||io("MSIE"),ww=io("Edge"),_f=ww||al,Zo=io("Gecko")&&!(-1!=ka().toLowerCase().indexOf("webkit")&&!io("Edge"))&&!(io("Trident")||io("MSIE"))&&!io("Edge"),n_=-1!=ka().toLowerCase().indexOf("webkit")&&!io("Edge");function r_(){var n=Ct.document;return n?n.documentMode:void 0}e:{var Iw="",Hg=(n=ka(),Zo?/rv:([^\);]+)(\)|;)/.exec(n):ww?/Edge\/([\d\.]+)/.exec(n):al?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):n_?/WebKit\/(\S+)/.exec(n):so?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Hg&&(Iw=Hg?Hg[1]:""),al){var Ew=r_();if(null!=Ew&&Ew>parseFloat(Iw)){$d=String(Ew);break e}}$d=Iw}var Zg={};var i_=Ct.document&&al&&(r_()||parseInt($d,10))||void 0;function zg(n,e){if(xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Zo){e:{try{jg(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zg.X.h.call(this)}}$r(zg,xr);var dC={2:"touch",3:"pen",4:"mouse"};zg.prototype.h=function(){zg.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wf="closure_listenable_"+(1e6*Math.random()|0),hC=0;function fC(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=o,this.key=++hC,this.ba=this.ea=!1}function If(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function bw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Cw(n){const e={};for(const t in n)e[t]=n[t];return e}const pC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function s_(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<pC.length;u++)t=pC[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ef(n){this.src=n,this.g={},this.h=0}function o_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=yw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(If(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bf(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return o}return-1}Ef.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=bf(n,e,r,o);return-1<h?(e=n[h],t||(e.ea=!1)):((e=new fC(e,this.src,u,!!r,o)).ea=t,n.push(e)),e};var Dw="closure_lm_"+(1e6*Math.random()|0),Tw={};function gC(n,e,t,r,o){if(r&&r.once)return yC(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)gC(n,e[u],t,r,o);return null}return t=a_(t),n&&n[wf]?n.N(e,t,Ho(r)?!!r.capture:!!r,o):mC(n,e,t,!1,r,o)}function mC(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=Ho(o)?!!o.capture:!!o,m=Go(n);if(m||(n[Dw]=m=new Ef(n)),(t=m.add(e,t,r,h,u)).proxy)return t;if(r=function NA(){const e=PA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)RA||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(vC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function yC(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)yC(n,e[u],t,r,o);return null}return t=a_(t),n&&n[wf]?n.O(e,t,Ho(r)?!!r.capture:!!r,o):mC(n,e,t,!0,r,o)}function _C(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)_C(n,e[u],t,r,o);else r=Ho(r)?!!r.capture:!!r,t=a_(t),n&&n[wf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bf(u=n.g[e],t,r,o))&&(If(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Go(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bf(e,t,r,o)),(t=-1<n?e[n]:null)&&Aw(t))}function Aw(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[wf])o_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Go(e))?(o_(t,n),0==t.h&&(t.src=null,e[Dw]=null)):If(n)}}}function vC(n){return n in Tw?Tw[n]:Tw[n]="on"+n}function PA(n,e){if(n.ba)n=!0;else{e=new zg(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Aw(n),n=t.call(r,e)}return n}function Go(n){return(n=n[Dw])instanceof Ef?n:null}var Cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function a_(n){return"function"==typeof n?n:(n[Cf]||(n[Cf]=function(e){return n.handleEvent(e)}),n[Cf])}function mr(){Gu.call(this),this.i=new Ef(this),this.P=this,this.I=null}function yr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new xr(e,n);else if(e instanceof xr)e.target=e.target||n;else{var o=e;s_(e=new xr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=Df(h,r,!0,e)&&o}if(o=Df(h=e.g=n,r,!0,e)&&o,o=Df(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Df(h=e.g=t[u],r,!1,e)&&o}function Df(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ba&&h.capture==t){var m=h.listener,w=h.ha||h.src;h.ea&&o_(n.i,h),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}$r(mr,Gu),mr.prototype[wf]=!0,mr.prototype.removeEventListener=function(n,e,t,r){_C(this,n,e,t,r)},mr.prototype.M=function(){if(mr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)If(t[r]);delete n.g[e],n.h--}}this.I=null},mr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},mr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Tf=Ct.JSON.stringify;function wC(){var n=ul;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var l_,u_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new IC,n=>n.reset());class IC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function EC(n){Ct.setTimeout(()=>{throw n},0)}function c_(n,e){l_||function bC(){var n=Ct.Promise.resolve(void 0);l_=function(){n.then(d_)}}(),Hd||(l_(),Hd=!0),ul.add(n,e)}var Hd=!1,ul=new class qu{constructor(){this.h=this.g=null}add(e,t){const r=u_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function d_(){for(var n;n=wC();){try{n.h.call(n.g)}catch(t){EC(t)}var e=u_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Hd=!1}function Fa(n,e){mr.call(this),this.h=n||1,this.g=e||Ct,this.j=ni(this.kb,this),this.l=Date.now()}function Af(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Zd(n,e,t){if("function"==typeof n)t&&(n=ni(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ni(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ct.setTimeout(n,e||0)}function h_(n){n.g=Zd(()=>{n.g=null,n.i&&(n.i=!1,h_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$r(Fa,mr),(ct=Fa.prototype).ca=!1,ct.R=null,ct.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yr(this,"tick"),this.ca&&(Af(this),this.start()))}},ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Fa.X.M.call(this),Af(this),delete this.g};class Sw extends Gu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:h_(this)}M(){super.M(),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cl(n){Gu.call(this),this.h=n,this.g={}}$r(cl,Gu);var Wg=[];function f_(n,e,t,r){Array.isArray(t)||(t&&(Wg[0]=t.toString()),t=Wg);for(var o=0;o<t.length;o++){var u=gC(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Kg(n){bw(n.g,function(e,t){this.g.hasOwnProperty(t)&&Aw(e)},n),n.g={}}function Yg(){this.g=!0}function ll(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return Tf(t)}catch{return e}}(n,t)+(r?" "+r:"")})}cl.prototype.M=function(){cl.X.M.call(this),Kg(this)},cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yg.prototype.Aa=function(){this.g=!1},Yg.prototype.info=function(){};var zu={},Mw=null;function ri(){return Mw=Mw||new mr}function p_(n){xr.call(this,zu.Oa,n)}function Sf(n){const e=ri();yr(e,new p_(e,n))}function TC(n,e){xr.call(this,zu.STAT_EVENT,n),this.stat=e}function yi(n){const e=ri();yr(e,new TC(e,n))}function Qg(n,e){xr.call(this,zu.Pa,n),this.size=e}function Gd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){n()},e)}zu.Oa="serverreachability",$r(p_,xr),zu.STAT_EVENT="statevent",$r(TC,xr),zu.Pa="timingevent",$r(Qg,xr);var Jg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},Rw={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function g_(){}function Nw(){}g_.prototype.h=null;var Xg,qd={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function y_(){xr.call(this,"d")}function __(){xr.call(this,"c")}function xf(){}function Mf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new cl(this),this.O=v_,this.T=new Fa(n=_f?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}$r(y_,xr),$r(__,xr),$r(xf,g_),xf.prototype.g=function(){return new XMLHttpRequest},xf.prototype.i=function(){return{}},Xg=new xf;var v_=45e3,w_={},em={};function Pw(n,e,t){n.K=1,n.v=Yu(qo(e)),n.s=t,n.P=!0,I_(n,null)}function I_(n,e){n.F=Date.now(),dl(n),n.A=qo(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),$w(t.i,"t",r),n.C=0,t=n.l.H,n.h=new oo,n.g=N_(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Sw(ni(n.Ka,n,n.g),n.N)),f_(n.S,n.g,"readystatechange",n.hb),e=n.H?Cw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Sf(1),function OA(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",m=u.split("&"),w=0;w<m.length;w++){var C=m[w].split("=");if(1<C.length){var S=C[0];C=C[1];var R=S.split("_");h=2<=R.length&&"type"==R[1]?h+(S+"=")+C+"&":h+(S+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Ow(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function kw(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=AC(n,t),o==em){4==e&&(n.o=4,yi(14),r=!1),ll(n.j,n.m,null,"[Incomplete Response]");break}if(o==w_){n.o=4,yi(15),ll(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ll(n.j,n.m,o,null),zd(n,o)}Ow(n)&&o!=em&&o!=w_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Bf(e),e.K=!0,yi(11))):(ll(n.j,n.m,t,"[Invalid Chunked Response]"),La(n),Wu(n))}function AC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?em:(t=Number(e.substring(t,r)),isNaN(t)?w_:(r+=1)+t>e.length?em:(e=e.substr(r,t),n.C=r+t,e))}function dl(n){n.V=Date.now()+n.O,Fw(n,n.O)}function Fw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gd(ni(n.fb,n),e)}function tm(n){n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Wu(n){0==n.l.G||n.I||jf(n.l,n)}function La(n){tm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Af(n.T),Kg(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function zd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||D_(t.h,n)))if(!n.J&&D_(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;wl(t),Lf(t)}Uf(t),yi(18)}}else t.Ba=o[1],0<t.Ba-t.T&&37500>o[2]&&t.L&&0==t.A&&!t.v&&(t.v=Gd(ni(t.bb,t),6e3));if(1>=Zw(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Il(t,11)}else if((n.J||t.g==n)&&wl(t),!jd(e))for(o=t.Fa.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.T=C[0],C=C[1],2==t.G)if("c"==C[0]){t.I=C[1],t.ka=C[2];const S=C[3];null!=S&&(t.ma=S,t.j.info("VER="+t.ma));const R=C[4];null!=R&&(t.Ca=R,t.j.info("SVER="+t.Ca));const j=C[5];null!=j&&"number"==typeof j&&0<j&&(t.J=r=1.5*j,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const oe=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var u=r.h;u.g||-1==oe.indexOf("spdy")&&-1==oe.indexOf("quic")&&-1==oe.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(T_(u,u.h),u.h=null))}if(r.D){const Me=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.za=Me,wn(r.F,r.D,Me))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var h=n;if((r=t).sa=Hf(r,r.H?r.ka:null,r.V),h.J){Gw(r.h,h);var m=h,w=r.J;w&&m.setTimeout(w),m.B&&(tm(m),dl(m)),r.g=h}else R_(r);0<t.i.length&&Vf(t)}else"stop"!=C[0]&&"close"!=C[0]||Il(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Il(t,7):um(t):"noop"!=C[0]&&t.l&&t.l.wa(C),t.A=0)}Sf(4)}catch{}}function SC(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function E_(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Fg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function kA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Fg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}(ct=Mf.prototype).setTimeout=function(n){this.O=n},ct.hb=function(n){n=n.target;const e=this.L;e&&3==Oi(n)?e.l():this.Ka(n)},ct.Ka=function(n){try{if(n==this.g)e:{const S=Oi(this.g);var e=this.g.Ea();const R=this.g.aa();if(!(3>S)&&(3!=S||_f||this.g&&(this.h.h||this.g.fa()||A_(this.g)))){this.I||4!=S||7==e||Sf(8==e||0>=R?3:2),tm(this);var t=this.g.aa();this.Y=t;t:if(Ow(this)){var r=A_(this.g);n="";var o=r.length,u=4==Oi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){La(this),Wu(this);var h="";break t}this.h.i=new Ct.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.fa();if(this.i=200==t,function CC(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.U,S,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jd(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,yi(12),La(this),Wu(this);break e}ll(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zd(this,t)}this.P?(kw(this,S,h),_f&&this.i&&3==S&&(f_(this.S,this.T,"tick",this.gb),this.T.start())):(ll(this.j,this.m,h,null),zd(this,h)),4==S&&La(this),this.i&&!this.I&&(4==S?jf(this.l,this):(this.i=!1,dl(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),La(this),Wu(this)}}}catch{}},ct.gb=function(){if(this.g){var n=Oi(this.g),e=this.g.fa();this.C<e.length&&(tm(this),kw(this,n,e),this.i&&4!=n&&dl(this))}},ct.cancel=function(){this.I=!0,La(this)},ct.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function DC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sf(3),yi(17)),La(this),this.o=2,Wu(this)):Fw(this,this.V-n)};var b_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ku(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ku){this.h=void 0!==e?e:n.h,Wd(this,n.j),this.s=n.s,this.g=n.g,Fs(this,n.m),this.l=n.l,e=n.i;var t=new Of;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Rf(this,t),this.o=n.o}else n&&(t=String(n).match(b_))?(this.h=!!e,Wd(this,t[1]||"",!0),this.s=Nf(t[2]||""),this.g=Nf(t[3]||"",!0),Fs(this,t[4]),this.l=Nf(t[5]||"",!0),Rf(this,t[6]||"",!0),this.o=Nf(t[7]||"")):(this.h=!!e,this.i=new Of(null,this.h))}function qo(n){return new Ku(n)}function Wd(n,e,t){n.j=t?Nf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fs(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Rf(n,e,t){e instanceof Of?(n.i=e,function C_(n,e){e&&!n.j&&(fl(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Bw(this,r),$w(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hl(e,MC)),n.i=new Of(e,n.h))}function wn(n,e,t){n.i.set(e,t)}function Yu(n){return wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Vw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Vw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ku.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hl(e,Uw,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hl(e,Uw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hl(t,"/"==t.charAt(0)?Pf:xC,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hl(t,FA)),n.join("")};var Uw=/[#\/\?@]/g,xC=/[#\?:]/g,Pf=/[#\?]/g,MC=/[#\?@]/g,FA=/#/g;function Of(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fl(n){n.g||(n.g=new Map,n.h=0,n.i&&function Lw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Bw(n,e){fl(n),e=pl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function jw(n,e){return fl(n),e=pl(n,e),n.g.has(e)}function $w(n,e,t){Bw(n,e),0<t.length&&(n.i=null,n.g.set(pl(n,e),Bg(t)),n.h+=t.length)}function pl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function nm(n){this.l=n||NC,n=Ct.PerformanceNavigationTiming?0<(n=Ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ga&&Ct.g.Ga()&&Ct.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Of.prototype).add=function(n,e){fl(this),this.i=null,n=pl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){fl(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},ct.oa=function(){fl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let u=0;u<o.length;u++)t.push(e[r])}return t},ct.W=function(n){fl(this);let e=[];if("string"==typeof n)jw(this,n)&&(e=e.concat(this.g.get(pl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ct.set=function(n,e){return fl(this),this.i=null,jw(this,n=pl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),h=this.W(r);for(r=0;r<h.length;r++){var o=u;""!==h[r]&&(o+="="+encodeURIComponent(String(h[r]))),n.push(o)}}return this.i=n.join("&")};var NC=10;function Hw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Zw(n){return n.h?1:n.g?n.g.size:0}function D_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function T_(n,e){n.g?n.g.add(e):n.h=e}function Gw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Bg(n.i)}function Va(){}function LA(){this.g=new Va}function Ff(n,e,t){const r=t||"";try{SC(n,function(o,u){let h=o;Ho(o)&&(h=Tf(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function rm(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function gl(n){this.l=n.$b||null,this.j=n.ib||!1}function im(n,e){mr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ls,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nm.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Va.prototype.stringify=function(n){return Ct.JSON.stringify(n,void 0)},Va.prototype.parse=function(n){return Ct.JSON.parse(n,void 0)},$r(gl,g_),gl.prototype.g=function(){return new im(this.l,this.j)},gl.prototype.i=function(n){return function(){return n}}({}),$r(im,mr);var Ls=0;function Kd(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function lr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ao(n)}function ao(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=im.prototype).open=function(n,e){if(this.readyState!=Ls)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ao(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lr(this)),this.readyState=Ls},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ao(this)),this.g&&(this.readyState=3,ao(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Ct.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Kd(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lr(this):ao(this),3==this.readyState&&Kd(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,lr(this))},ct.Ta=function(n){this.g&&(this.response=n,lr(this))},ct.ga=function(){this.g&&lr(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(im.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var sm=Ct.JSON.parse;function an(n){mr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=om,this.K=this.L=!1}$r(an,mr);var om="",Yd=/^https?$/i,Qd=["POST","PUT"];function ml(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,yl(n),Ua(n)}function yl(n){n.D||(n.D=!0,yr(n,"complete"),yr(n,"error"))}function _l(n){if(n.h&&typeof Xy<"u"&&(!n.C[1]||4!=Oi(n)||2!=n.aa()))if(n.v&&4==Oi(n))Zd(n.Ha,0,n);else if(yr(n,"readystatechange"),4==Oi(n)){n.h=!1;try{const m=n.aa();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(b_)[1]||null;if(!o&&Ct.self&&Ct.self.location){var u=Ct.self.location.protocol;o=u.substr(0,u.length-1)}r=!Yd.test(o?o.toLowerCase():"")}t=r}if(t)yr(n,"complete"),yr(n,"success");else{n.m=6;try{var h=2<Oi(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.aa()+"]",yl(n)}}finally{Ua(n)}}}function Ua(n,e){if(n.g){vl(n);const t=n.g,r=n.C[0]?e_:null;n.g=null,n.C=null,e||yr(n,"ready");try{t.onreadystatechange=r}catch{}}}function vl(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ct.clearTimeout(n.A),n.A=null)}function Oi(n){return n.g?n.g.readyState:0}function A_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case om:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function S_(n){let e="";return bw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function am(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=S_(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wn(n,e,t))}function Xd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function x_(n){this.Ca=0,this.i=[],this.j=new Yg,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Xd("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Xd("baseRetryDelayMs",5e3,n),this.ab=Xd("retryDelaySeedMs",1e4,n),this.Za=Xd("forwardChannelMaxRetries",2,n),this.ta=Xd("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new nm(n&&n.concurrentRequestLimit),this.Fa=new LA,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function um(n){if(M_(n),3==n.G){var e=n.U++,t=qo(n.F);wn(t,"SID",n.I),wn(t,"RID",e),wn(t,"TYPE","terminate"),eh(n,t),(e=new Mf(n,n.j,e,void 0)).K=2,e.v=Yu(qo(t)),t=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(t=Ct.navigator.sendBeacon(e.v.toString(),"")),!t&&Ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=N_(e.l,null),e.g.da(e.v)),e.F=Date.now(),dl(e)}$f(n)}function Lf(n){n.g&&(Bf(n),n.g.cancel(),n.g=null)}function M_(n){Lf(n),n.u&&(Ct.clearTimeout(n.u),n.u=null),wl(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ct.clearTimeout(n.m),n.m=null)}function Vf(n){Hw(n.h)||n.m||(n.m=!0,c_(n.Ja,n),n.C=0)}function qw(n,e){var t;t=e?e.m:n.U++;const r=qo(n.F);wn(r,"SID",n.I),wn(r,"RID",t),wn(r,"AID",n.T),eh(n,r),n.o&&n.s&&am(r,n.o,n.s),t=new Mf(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=zw(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),T_(n.h,t),Pw(t,r,e)}function eh(n,e){n.ia&&bw(n.ia,function(t,r){wn(e,r,t)}),n.l&&SC({},function(t,r){wn(e,r,t)})}function zw(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ni(n.l.Qa,n.l,n):null;e:{var o=n.i;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let C=o[w].h;const S=o[w].g;if(C-=u,0>C)u=Math.max(0,o[w].h-100),m=!1;else try{Ff(S,h,"req"+C+"_")}catch{r&&r(S)}}if(m){r=h.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function R_(n){n.g||n.u||(n.Z=1,c_(n.Ia,n),n.A=0)}function Uf(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Gd(ni(n.Ia,n),cm(n,n.A)),n.A++,0))}function Bf(n){null!=n.B&&(Ct.clearTimeout(n.B),n.B=null)}function Ww(n){n.g=new Mf(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=qo(n.sa);wn(e,"RID","rpc"),wn(e,"SID",n.I),wn(e,"CI",n.L?"0":"1"),wn(e,"AID",n.T),wn(e,"TYPE","xmlhttp"),eh(n,e),n.o&&n.s&&am(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Yu(qo(e)),t.s=null,t.P=!0,I_(t,n)}function wl(n){null!=n.v&&(Ct.clearTimeout(n.v),n.v=null)}function jf(n,e){var t=null;if(n.g==e){wl(n),Bf(n),n.g=null;var r=2}else{if(!D_(n.h,e))return;t=e.D,Gw(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;yr(r=ri(),new Qg(r,t,e,o)),Vf(n)}else R_(n);else if(3==(o=e.o)||0==o&&0<n.pa||!(1==r&&function OC(n,e){return!(Zw(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Gd(ni(n.Ja,n,e),cm(n,n.C)),n.C++,0)))}(n,e)||2==r&&Uf(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),o){case 1:Il(n,5);break;case 4:Il(n,10);break;case 3:Il(n,6);break;default:Il(n,2)}}function cm(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function Il(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ni(n.jb,n);t||(t=new Ku("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||Wd(t,"https"),Yu(t)),function PC(n,e){const t=new Yg;if(Ct.Image){const r=new Image;r.onload=Ug(rm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ug(rm,t,r,"TestLoadImage: error",!1,e),r.onabort=Ug(rm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ug(rm,t,r,"TestLoadImage: timeout",!1,e),Ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.G=0,n.l&&n.l.va(e),$f(n),M_(n)}function $f(n){if(n.G=0,n.la=[],n.l){const e=kf(n.h);(0!=e.length||0!=n.i.length)&&(t_(n.la,e),t_(n.la,n.i),n.h.i.length=0,Bg(n.i),n.i.length=0),n.l.ua()}}function Hf(n,e,t){var r=t instanceof Ku?qo(t):new Ku(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Fs(r,r.m);else{var o=Ct.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var u=new Ku(null,void 0);r&&Wd(u,r),e&&(u.g=e),o&&Fs(u,o),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&wn(r,t,e),wn(r,"VER",n.ma),eh(n,r),r}function N_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new an(t&&n.Da&&!n.ra?new gl({ib:!0}):n.ra)).L=n.H,e}function P_(){}function th(){if(al&&!(10<=Number(i_)))throw Error("Environmental error: no available transport.")}function ki(n,e){mr.call(this),this.g=new x_(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!jd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!jd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new El(this)}function O_(n){y_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function lm(){__.call(this),this.status=1}function El(n){this.g=n}(ct=an.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xg.g(),this.C=function m_(n){return n.h||(n.h=n.i())}(this.u?this.u:Xg),this.g.onreadystatechange=ni(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void ml(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),o=Ct.FormData&&n instanceof Ct.FormData,!(0<=yw(Qd,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,h]of t)this.g.setRequestHeader(u,h);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vl(this),0<this.B&&((this.K=function Jd(n){return al&&function Gg(){return function $g(n){var e=Zg;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=_w(String($d)).split("."),t=_w("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=vw(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||vw(0==o[2].length,0==u[2].length)||vw(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.qa,this)):this.A=Zd(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){ml(this,u)}},ct.qa=function(){typeof Xy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yr(this,"complete"),yr(this,"abort"),Ua(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ua(this,!0)),an.X.M.call(this)},ct.Ha=function(){this.s||(this.F||this.v||this.l?_l(this):this.eb())},ct.eb=function(){_l(this)},ct.aa=function(){try{return 2<Oi(this)?this.g.status:-1}catch{return-1}},ct.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ct.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sm(e)}},ct.Ea=function(){return this.m},ct.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=x_.prototype).ma=8,ct.G=1,ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const o=new Mf(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=Cw(u),s_(u,this.S)):u=this.S),null!==this.o||this.N||(o.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zw(this,o,e),wn(t=qo(this.F),"RID",n),wn(t,"CVER",22),this.D&&wn(t,"X-HTTP-Session-Id",this.D),eh(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(S_(u)))+"&"+e:this.o&&am(t,this.o,u)),T_(this.h,o),this.Xa&&wn(t,"TYPE","init"),this.O?(wn(t,"$req",e),wn(t,"SID","null"),o.Z=!0,Pw(o,t,null)):Pw(o,t,e),this.G=2}}else 3==this.G&&(n?qw(this,n):0==this.i.length||Hw(this.h)||qw(this))},ct.Ia=function(){if(this.u=null,Ww(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Gd(ni(this.cb,this),n)}},ct.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yi(10),Lf(this),Ww(this))},ct.bb=function(){null!=this.v&&(this.v=null,Lf(this),Uf(this),yi(19))},ct.jb=function(n){n?(this.j.info("Successfully pinged google.com"),yi(2)):(this.j.info("Failed to ping google.com"),yi(1))},(ct=P_.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Qa=function(){},th.prototype.g=function(n,e){return new ki(n,e)},$r(ki,mr),ki.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;yi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Hf(n,null,n.V),Vf(n)},ki.prototype.close=function(){um(this.g)},ki.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Tf(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&Vf(e)},ki.prototype.M=function(){this.g.l=null,delete this.j,um(this.g),delete this.g,ki.X.M.call(this)},$r(O_,y_),$r(lm,__),$r(El,P_),El.prototype.xa=function(){yr(this.g,"a")},El.prototype.wa=function(n){yr(this.g,new O_(n))},El.prototype.va=function(n){yr(this.g,new lm(n))},El.prototype.ua=function(){yr(this.g,"b")},th.prototype.createWebChannel=th.prototype.g,ki.prototype.send=ki.prototype.u,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,Jg.NO_ERROR=0,Jg.TIMEOUT=8,Jg.HTTP_ERROR=6,Rw.COMPLETE="complete",Nw.EventType=qd,qd.OPEN="a",qd.CLOSE="b",qd.ERROR="c",qd.MESSAGE="d",mr.prototype.listen=mr.prototype.N,an.prototype.listenOnce=an.prototype.O,an.prototype.getLastError=an.prototype.Na,an.prototype.getLastErrorCode=an.prototype.Ea,an.prototype.getStatus=an.prototype.aa,an.prototype.getResponseJson=an.prototype.Ra,an.prototype.getResponseText=an.prototype.fa,an.prototype.send=an.prototype.da;var kC=Zu.createWebChannelTransport=function(){return new th},Kw=Zu.getStatEventTarget=function(){return ri()},dm=Zu.ErrorCode=Jg,Yw=Zu.EventType=Rw,Qw=Zu.Event=zu,Jw=Zu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},FC=Zu.FetchXmlHttpFactory=gl,hm=Zu.WebChannel=Nw,k_=Zu.XhrIo=an;const fm="@firebase/firestore";class _r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let bl="9.10.0";const Ba=new $o.Yd("@firebase/firestore");function pm(){return Ba.logLevel}function Ne(n,...e){if(Ba.logLevel<=$o.in.DEBUG){const t=e.map(eI);Ba.debug(`Firestore (${bl}): ${n}`,...t)}}function Wn(n,...e){if(Ba.logLevel<=$o.in.ERROR){const t=e.map(eI);Ba.error(`Firestore (${bl}): ${n}`,...t)}}function Qu(n,...e){if(Ba.logLevel<=$o.in.WARN){const t=e.map(eI);Ba.warn(`Firestore (${bl}): ${n}`,...t)}}function eI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+n;throw Wn(e),new Error(e)}function bt(n,e){n||Xe()}function qe(n,e){return n}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class LC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iI{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Mr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const C=h;e.enqueueRetryable((0,ye.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},w=C=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>w(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?w(C):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Mr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt("string"==typeof r.accessToken),new nI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return bt(null===e||"string"==typeof e),new _r(e)}}class sI{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(bt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class nh{constructor(e,t,r,o){this.h=e,this.l=t,this.m=r,this.g=o}getToken(){return Promise.resolve(new sI(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.A;return this.A=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?o(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt("string"==typeof t.token),this.A=t.token,new oI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function BC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class F_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=BC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function Cl(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function gm(n){return n+"\0"}class Qt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Qt(0,0))}static max(){return new _t(new Qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zf{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Zf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nt extends Zf{construct(e,t,r){return new Nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const uo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Zf{construct(e,t,r){return new nn(e,t,r)}static isValidIdentifier(e){return uo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new xe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new xe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new xe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new xe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}class He{constructor(e){this.path=e}static fromPath(e){return new He(Nt.fromString(e))}static fromName(e){return new He(Nt.fromString(e).popFirst(5))}static empty(){return new He(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Nt(e.slice()))}}class Gf{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function L_(n){return n.fields.find(e=>2===e.kind)}function Dl(n){return n.fields.filter(e=>2!==e.kind)}Gf.UNKNOWN_ID=-1;class mm{constructor(e,t){this.fieldPath=e,this.kind=t}}class ja{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ja(0,is.min())}}function aI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(1e9===r?new Qt(t+1,0):new Qt(t,r));return new is(o,He.empty(),e)}function U_(n){return new is(n.readTime,n.key,-1)}class is{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new is(_t.min(),He.empty(),-1)}static max(){return new is(_t.max(),He.empty(),-1)}}function ym(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const B_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ju(n){return _m.apply(this,arguments)}function _m(){return _m=(0,ye.Z)(function*(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==B_)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),_m.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,r)=>{t(e)})}static reject(e){return new ae((t,r)=>{r(e)})}static waitFor(e){return new ae((t,r)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},w=>r(w))}),h=!0,u===o&&t()})}static or(e){let t=ae.resolve(!1);for(const r of e)t=t.next(o=>o?ae.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}static mapArray(e,t){return new ae((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let w=0;w<u;w++){const C=w;t(e[C]).next(S=>{h[C]=S,++m,m===u&&r(h)},S=>o(S))}})}static doWhile(e,t){return new ae((r,o)=>{const u=()=>{!0===e()?t().next(()=>{u()},o):r()};u()})}}class rh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Mr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new ih(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const o=vm(r.target.error);this.P.reject(new ih(e,o))}}static open(e,t,r,o){try{return new rh(t,e.transaction(o,r))}catch(u){throw new ih(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uI(t)}}class Fi{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Fi.D((0,tn.z$)())&&Wn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),Xu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,tn.hl)())return!1;if(Fi.N())return!0;const e=(0,tn.z$)(),t=Fi.D(e),r=0<t&&t<10,o=Fi.k(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new ih(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new xe(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new xe(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new ih(e,m))},u.onupgradeneeded=h=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.S.$(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const h="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.F(e);const w=rh.open(u.db,e,h?"readonly":"readwrite",r),C=o(w).next(S=>(w.V(),S)).catch(S=>(w.abort(S),ae.reject(S))).toPromise();return C.catch(()=>{}),yield w.v,C}catch(w){const C=w,S="FirebaseError"!==C.name&&m<3;if(Ne("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),u.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class j_{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Xu(this.U.delete())}}class ih extends xe{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $a(n){return"IndexedDbTransactionError"===n.name}class uI{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xu(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),Xu(this.store.add(e))}get(e){return Xu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),Xu(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),Xu(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.H(o,(h,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new ae((u,h)=>{o.onerror=m=>{h(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ae((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Y(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const o=this.cursor(r);return this.H(o,(u,h,m)=>m.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.H(o,t)}tt(e){const t=this.cursor({});return new ae((r,o)=>{t.onerror=u=>{const h=vm(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}H(e,t){const r=[];return new ae((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const w=new j_(m),C=t(m.primaryKey,m.value,w);if(C instanceof ae){const S=C.catch(R=>(w.done(),ae.reject(R)));r.push(S)}w.isDone?o():null===w.G?m.continue():m.continue(w.G)}}).next(()=>ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Xu(n){return new ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=vm(r.target.error);t(o)}})}let $_=!1;function vm(n){const e=Fi.D((0,tn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $_||($_=!0,setTimeout(()=>{throw r},0)),r}}return n}class cI{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){$a(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ju(r)}yield t.nt(6e4)}))}}class $C{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let o=t,u=!0;return ae.doWhile(()=>!0===u&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(h=>{if(null!==h&&!r.has(h))return Ne("IndexBackiller",`Processing collection: ${h}`),this.rt(e,h,o).next(m=>{o-=m,r.add(h)});u=!1})).next(()=>t-o)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(u=>{const h=u.changes;return this.localStore.indexManager.updateIndexEntries(e,h).next(()=>this.ot(o,u)).next(m=>(Ne("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>h.size)}))}ot(e,t){let r=e;return t.changes.forEach((o,u)=>{const h=U_(u);ym(h,r)>0&&(r=h)}),new is(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Li{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function lI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Tl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Li.at=-1;class Kn{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wm(this.root,e,this.comparator,!0)}}class wm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??Hr.RED,this.left=o??Hr.EMPTY,this.right=u??Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Hr(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Hr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Hr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gn{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hI(this.data.getIterator())}getIteratorFrom(e){return new hI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class hI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sh(n){return n.hasNext()?n.getNext():void 0}class ss{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new ss([])}unionWith(e){let t=new gn(nn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const ZC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ec(n){if(bt(!!n),"string"==typeof n){let e=0;const t=ZC.exec(n);if(bt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Al(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function Im(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function H_(n){const e=n.mapValue.fields.__previous_value__;return Im(e)?H_(e):e}function oh(n){const e=ec(n.mapValue.fields.__local_write_time__.timestampValue);return new Qt(e.seconds,e.nanos)}class fI{constructor(e,t,r,o,u,h,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class Ha{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ha("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}function ah(n){return null==n}function uh(n){return 0===n&&1/n==-1/0}function Z_(n){return"number"==typeof n&&Number.isInteger(n)&&!uh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zf={nullValue:"NULL_VALUE"};function tc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Im(n)?4:pI(n)?9007199254740991:10:Xe()}function ii(n,e){if(n===e)return!0;const t=tc(n);if(t!==tc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oh(n).isEqual(oh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=ec(r.timestampValue),h=ec(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Al(n.bytesValue).isEqual(Al(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Yn(r.geoPointValue.latitude)===Yn(o.geoPointValue.latitude)&&Yn(r.geoPointValue.longitude)===Yn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yn(r.integerValue)===Yn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Yn(r.doubleValue),h=Yn(o.doubleValue);return u===h?uh(u)===uh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return Cl(n.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(lI(u)!==lI(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===h[m]||!ii(u[m],h[m])))return!1;return!0}(n,e);default:return Xe()}var o}function Wf(n,e){return void 0!==(n.values||[]).find(t=>ii(t,e))}function nc(n,e){if(n===e)return 0;const t=tc(n),r=tc(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Yn(o.integerValue||o.doubleValue),m=Yn(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,e);case 3:return Sl(n.timestampValue,e.timestampValue);case 4:return Sl(oh(n),oh(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Al(o),m=Al(u);return h.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),m=u.split("/");for(let w=0;w<h.length&&w<m.length;w++){const C=xt(h[w],m[w]);if(0!==C)return C}return xt(h.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=xt(Yn(o.latitude),Yn(u.latitude));return 0!==h?h:xt(Yn(o.longitude),Yn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],m=u.values||[];for(let w=0;w<h.length&&w<m.length;++w){const C=nc(h[w],m[w]);if(C)return C}return xt(h.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Za.mapValue&&u===Za.mapValue)return 0;if(o===Za.mapValue)return 1;if(u===Za.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),w=u.fields||{},C=Object.keys(w);m.sort(),C.sort();for(let S=0;S<m.length&&S<C.length;++S){const R=xt(m[S],C[S]);if(0!==R)return R;const j=nc(h[m[S]],w[C[S]]);if(0!==j)return j}return xt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function Sl(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=ec(n),r=ec(e),o=xt(t.seconds,r.seconds);return 0!==o?o:xt(t.nanos,r.nanos)}function Kf(n){return Yf(n)}function Yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=ec(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Al(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=Yf(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const m of o)h?h=!1:u+=",",u+=`${m}:${Yf(r.fields[m])}`;return u+"}"}(n.mapValue):Xe();var e}function ch(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Em(n){return!!n&&"integerValue"in n}function lh(n){return!!n&&"arrayValue"in n}function GC(n){return!!n&&"nullValue"in n}function pt(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bm(n){return!!n&&"mapValue"in n}function Qf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Tl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dh(n){return"nullValue"in n?zf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ch(Ha.empty(),He.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Xe()}function qC(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ch(Ha.empty(),He.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Za:Xe()}function Jf(n,e){const t=nc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Xf(n,e){const t=nc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qf(t)}setAll(e){let t=nn.emptyPath(),r={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}h?r[m.lastSegment()]=Qf(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());bm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];bm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Tl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Bt(Qf(this.value))}}function zC(n){const e=[];return Tl(n.fields,(t,r)=>{const o=new nn([t]);if(bm(r)){const u=zC(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new ss(e)}class In{constructor(e,t,r,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new In(e,0,_t.min(),_t.min(),Bt.empty(),0)}static newFoundDocument(e,t,r){return new In(e,1,t,_t.min(),r,0)}static newNoDocument(e,t){return new In(e,2,t,_t.min(),Bt.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,_t.min(),Bt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gI{constructor(e,t=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ht=null}}function mI(n,e=null,t=[],r=[],o=null,u=null,h=null){return new gI(n,e,t,r,o,u,h)}function rc(n){const e=qe(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Kf(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kf(r)).join(",")),e.ht=t}return e.ht}function hh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!JC(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ii(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CI(n.startAt,e.startAt)&&CI(n.endAt,e.endAt)}function ep(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Cm(n,e){return n.filters.filter(t=>t instanceof ir&&t.field.isEqual(e))}function _I(n,e,t){let r=zf,o=!0;for(const u of Cm(n,e)){let h=zf,m=!0;switch(u.op){case"<":case"<=":h=dh(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,m=!1;break;case"!=":case"not-in":h=zf}Jf({value:r,inclusive:o},{value:h,inclusive:m})<0&&(r=h,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];Jf({value:r,inclusive:o},{value:h,inclusive:t.inclusive})<0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function vI(n,e,t){let r=Za,o=!0;for(const u of Cm(n,e)){let h=Za,m=!0;switch(u.op){case">=":case">":h=qC(u.value),m=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,m=!1;break;case"!=":case"not-in":h=Za}Xf({value:r,inclusive:o},{value:h,inclusive:m})>0&&(r=h,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];Xf({value:r,inclusive:o},{value:h,inclusive:t.inclusive})>0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class ir extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new WC(e,t,r):"array-contains"===t?new wI(e,r):"in"===t?new II(e,r):"not-in"===t?new EI(e,r):"array-contains-any"===t?new QC(e,r):new ir(e,t,r)}static lt(e,t,r){return"in"===t?new KC(e,r):new YC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(nc(t,this.value)):null!==t&&tc(this.value)===tc(t)&&this.ft(nc(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class WC extends ir{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.ft(t)}}class KC extends ir{constructor(e,t){super(e,"in",t),this.keys=tp(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YC extends ir{constructor(e,t){super(e,"not-in",t),this.keys=tp(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tp(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class wI extends ir{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lh(t)&&Wf(t.arrayValue,this.value)}}class II extends ir{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wf(this.value.arrayValue,t)}}class EI extends ir{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wf(this.value.arrayValue,t)}}class QC extends ir{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wf(this.value.arrayValue,r))}}class Vs{constructor(e,t){this.position=e,this.inclusive=t}}class zo{constructor(e,t="asc"){this.field=e,this.dir=t}}function JC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function bI(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?He.comparator(He.fromName(h.referenceValue),t.key):nc(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function CI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ii(n.position[t],e.position[t]))return!1;return!0}class Wo{constructor(e,t=null,r=[],o=[],u=null,h="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=w,this._t=null,this.wt=null}}function G_(n,e,t,r,o,u,h,m){return new Wo(n,e,t,r,o,u,h,m)}function xl(n){return new Wo(n)}function DI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Dm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function q_(n){for(const e of n.filters)if(e.dt())return e.field;return null}function z_(n){return null!==n.collectionGroup}function np(n){const e=qe(n);if(null===e._t){e._t=[];const t=q_(e),r=Dm(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new zo(t)),e._t.push(new zo(nn.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new zo(nn.keyField(),u))}}}return e._t}function os(n){const e=qe(n);if(!e.wt)if("F"===e.limitType)e.wt=mI(e.path,e.collectionGroup,np(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of np(e))t.push(new zo(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Vs(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Vs(e.startAt.position,e.startAt.inclusive):null;e.wt=mI(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.wt}function W_(n,e,t){return new Wo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tm(n,e){return hh(os(n),os(e))&&n.limitType===e.limitType}function K_(n){return`${rc(os(n))}|lt:${n.limitType}`}function fh(n){return`Query(target=${function yI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Kf(r.value)}`;var r}).join(", ")}]`),ah(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Kf(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Kf(t)).join(",")),`Target(${e})`}(os(n))}; limitType=${n.limitType})`}function Y_(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):He.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,h){const m=bI(o,u,h);return o.inclusive?m<=0:m<0}(t.startAt,np(t),r)||t.endAt&&!function(o,u,h){const m=bI(o,u,h);return o.inclusive?m>=0:m>0}(t.endAt,np(t),r)));var t,r}function TI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Q_(n){return(e,t)=>{let r=!1;for(const o of np(n)){const u=rp(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function rp(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(o,u,h){const m=u.data.field(o),w=h.data.field(o);return null!==m&&null!==w?nc(m,w):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function AI(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function SI(n){return{integerValue:""+n}}function xI(n,e){return Z_(e)?SI(e):AI(n,e)}class Am{constructor(){this._=void 0}}function XC(n,e,t){return n instanceof ph?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof co?NI(n,e):n instanceof ic?PI(n,e):function(r,o){const u=RI(r,o),h=OI(u)+OI(r.yt);return Em(u)&&Em(r.yt)?SI(h):AI(r.It,h)}(n,e)}function MI(n,e,t){return n instanceof co?NI(n,e):n instanceof ic?PI(n,e):t}function RI(n,e){return n instanceof Ml?Em(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ph extends Am{}class co extends Am{constructor(e){super(),this.elements=e}}function NI(n,e){const t=J_(e);for(const r of n.elements)t.some(o=>ii(o,r))||t.push(r);return{arrayValue:{values:t}}}class ic extends Am{constructor(e){super(),this.elements=e}}function PI(n,e){let t=J_(e);for(const r of n.elements)t=t.filter(o=>!ii(o,r));return{arrayValue:{values:t}}}class Ml extends Am{constructor(e,t){super(),this.It=e,this.yt=t}}function OI(n){return Yn(n.integerValue||n.doubleValue)}function J_(n){return lh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ip{constructor(e,t){this.field=e,this.transform=t}}class eD{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Sm{}function kI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new mh(n.key,An.none()):new gh(n.key,n.data,An.none());{const t=n.data,r=Bt.empty();let o=new gn(nn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);null===h&&u.length>1&&(u=u.popLast(),h=t.field(u)),null===h?r.delete(u):r.set(u,h),o=o.add(u)}return new Ga(n.key,r,new ss(o.toArray()),An.none())}}function tD(n,e,t){n instanceof gh?function(r,o,u){const h=r.value.clone(),m=LI(r.fieldTransforms,o,u.transformResults);h.setAll(m),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ga?function(r,o,u){if(!sp(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=LI(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(FI(r)),m.setAll(h),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rl(n,e,t,r){return n instanceof gh?function(o,u,h,m){if(!sp(o.precondition,u))return h;const w=o.value.clone(),C=VI(o.fieldTransforms,m,u);return w.setAll(C),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ga?function(o,u,h,m){if(!sp(o.precondition,u))return h;const w=VI(o.fieldTransforms,m,u),C=u.data;return C.setAll(FI(o)),C.setAll(w),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===h?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(h=t,sp(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h);var u,h}function nD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=RI(r.transform,o||null);null!=u&&(null===t&&(t=Bt.empty()),t.set(r.field,u))}return t||null}function ev(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Cl(t,r,(o,u)=>function X_(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof co&&r instanceof co||t instanceof ic&&r instanceof ic?Cl(t.elements,r.elements,ii):t instanceof Ml&&r instanceof Ml?ii(t.yt,r.yt):t instanceof ph&&r instanceof ph);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class gh extends Sm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ga extends Sm{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function LI(n,e,t){const r=new Map;bt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,MI(h,m,t[o]))}return r}function VI(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,XC(u,h,e))}return r}class mh extends Sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tv extends Sm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rD{constructor(e){this.count=e}}var sr,Gt;function UI(n){switch(n){default:return Xe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function BI(n){if(void 0===n)return Wn("GRPC error has no .code"),ne.UNKNOWN;switch(n){case sr.OK:return ne.OK;case sr.CANCELLED:return ne.CANCELLED;case sr.UNKNOWN:return ne.UNKNOWN;case sr.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case sr.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case sr.INTERNAL:return ne.INTERNAL;case sr.UNAVAILABLE:return ne.UNAVAILABLE;case sr.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case sr.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case sr.NOT_FOUND:return ne.NOT_FOUND;case sr.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case sr.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case sr.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case sr.ABORTED:return ne.ABORTED;case sr.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case sr.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case sr.DATA_LOSS:return ne.DATA_LOSS;default:return Xe()}}(Gt=sr||(sr={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return dI(this.inner)}size(){return this.innerSize}}const iD=new Kn(He.comparator);function Vi(){return iD}const jI=new Kn(He.comparator);function Nl(...n){let e=jI;for(const t of n)e=e.insert(t.key,t);return e}function xm(n){let e=jI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function lo(){return op()}function Mm(){return op()}function op(){return new qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const sD=new Kn(He.comparator),nv=new gn(He.comparator);function Ot(...n){let e=nv;for(const t of n)e=e.add(t);return e}const $I=new gn(xt);function za(){return $I}class yh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ap.createSynthesizedTargetChangeForCurrentChange(e,t)),new yh(_t.min(),r,za(),Vi(),Ot())}}class ap{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ap(vr.EMPTY_BYTE_STRING,t,Ot(),Ot(),Ot())}}class rv{constructor(e,t,r,o){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=o}}class iv{constructor(e,t){this.targetId=e,this.At=t}}class Rm{constructor(e,t,r=vr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class HI{constructor(){this.Rt=0,this.bt=ov(),this.Pt=vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Ot(),t=Ot(),r=Ot();return this.bt.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new ap(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=ov()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class sv{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Vi(),this.qt=ZI(),this.Kt=new gn(xt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,o)=>{this.Ht(o)&&t(o)})}Yt(e){const t=e.targetId,r=e.At.count,o=this.Xt(t);if(o){const u=o.target;if(ep(u))if(0===r){const h=new He(u.path);this.jt(t,h,In.newNoDocument(h,_t.min()))}else bt(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,h)=>{const m=this.Xt(h);if(m){if(u.current&&ep(m.target)){const w=new He(m.target.path);null!==this.Ut.get(w)||this.ee(h,w)||this.jt(h,w,In.newNoDocument(w,e))}u.Dt&&(t.set(h,u.xt()),u.Nt())}});let r=Ot();this.qt.forEach((u,h)=>{let m=!0;h.forEachWhile(w=>{const C=this.Xt(w);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.Ut.forEach((u,h)=>h.setReadTime(e));const o=new yh(e,t,this.Kt,this.Ut,r);return this.Ut=Vi(),this.qt=ZI(),this.Kt=new gn(xt),o}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const o=this.zt(e);this.ee(e,t)?o.kt(t,1):o.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new HI,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new gn(xt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new HI),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function ZI(){return new Kn(He.comparator)}function ov(){return new Kn(He.comparator)}const av={asc:"ASCENDING",desc:"DESCENDING"},GI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class qI{constructor(e,t){this.databaseId=e,this.gt=t}}function _h(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uv(n,e){return n.gt?e.toBase64():e.toUint8Array()}function oD(n,e){return _h(n,e.toTimestamp())}function Rr(n){return bt(!!n),_t.fromTimestamp(function(e){const t=ec(e);return new Qt(t.seconds,t.nanos)}(n))}function cv(n,e){return(t=n,new Nt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function zI(n){const e=Nt.fromString(n);return bt(dv(e)),e}function vh(n,e){return cv(n.databaseId,e.path)}function Wa(n,e){const t=zI(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(aD(t))}function Nm(n,e){return cv(n.databaseId,e)}function WI(n){const e=zI(n);return 4===e.length?Nt.emptyPath():aD(e)}function up(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aD(n){return bt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uD(n,e,t){return{name:vh(n,e),fields:t.value.mapValue.fields}}function KI(n,e,t){const r=Wa(n,e.name),o=Rr(e.updateTime),u=new Bt({mapValue:{fields:e.fields}}),h=In.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function wh(n,e){let t;if(e instanceof gh)t={update:uD(n,e.key,e.value)};else if(e instanceof mh)t={delete:vh(n,e.key)};else if(e instanceof Ga)t={update:uD(n,e.key,e.data),updateMask:nE(e.fieldMask)};else{if(!(e instanceof tv))return Xe();t={verify:vh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof ph)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof co)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ic)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ml)return{fieldPath:u.field.canonicalString(),increment:h.yt};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:oD(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),t;var o}function lv(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?An.updateTime(Rr(o.updateTime)):void 0!==o.exists?An.exists(o.exists):An.none():An.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let m=null;"setToServerValue"in h?(bt("REQUEST_TIME"===h.setToServerValue),m=new ph):"appendMissingElements"in h?m=new co(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new ic(h.removeAllFromArray.values||[]):"increment"in h?m=new Ml(u,h.increment):Xe();const w=nn.fromServerFormat(h.fieldPath);return new ip(w,m)}(n,o)):[];var o;if(e.update){const o=Wa(n,e.update.name),u=new Bt({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new ss((e.updateMask.fieldPaths||[]).map(C=>nn.fromServerFormat(C)));return new Ga(o,u,h,t,r)}return new gh(o,u,t,r)}if(e.delete){const o=Wa(n,e.delete);return new mh(o,t)}if(e.verify){const o=Wa(n,e.verify);return new tv(o,t)}return Xe()}function YI(n,e){return{documents:[Nm(n,e.path)]}}function QI(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Nm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0===w.length)return;const C=w.map(S=>function(R){if("=="===R.op){if(pt(R.value))return{unaryFilter:{field:Pl(R.field),op:"IS_NAN"}};if(GC(R.value))return{unaryFilter:{field:Pl(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(pt(R.value))return{unaryFilter:{field:Pl(R.field),op:"IS_NOT_NAN"}};if(GC(R.value))return{unaryFilter:{field:Pl(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(R.field),op:cp(R.op),value:R.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(C=>{return{field:Pl((S=C).field),direction:fD(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(C=e.limit,n.gt||ah(C)?C:{value:C});var C,m,w;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function JI(n){let e=WI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){bt(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=XI(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(S=>{return new zo(Ol((R=S).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(S){let R;return R="object"==typeof S?S.value:S,ah(R)?null:R}(t.limit));let w=null;var S;t.startAt&&(w=new Vs((S=t.startAt).values||[],!!S.before));let C=null;return t.endAt&&(C=function(S){return new Vs(S.values||[],!S.before)}(t.endAt)),G_(e,o,h,u,m,"F",w,C)}function XI(n){return n?void 0!==n.unaryFilter?[tE(n)]:void 0!==n.fieldFilter?[eE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>XI(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function fD(n){return av[n]}function cp(n){return GI[n]}function Pl(n){return{fieldPath:n.canonicalString()}}function Ol(n){return nn.fromServerFormat(n.fieldPath)}function eE(n){return ir.create(Ol(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function tE(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ol(n.unaryFilter.field);return ir.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ol(n.unaryFilter.field);return ir.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ol(n.unaryFilter.field);return ir.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ol(n.unaryFilter.field);return ir.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function nE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function _i(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rE(e)),e=VA(n.get(t),e);return rE(e)}function VA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function rE(n){return n+"\x01\x01"}function ho(n){const e=n.length;if(bt(e>=2),2===e)return bt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Nt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&Xe(),n.charAt(h+1)){case"\x01":const m=n.substring(u,h);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:Xe()}u=h+2}return new Nt(r)}const iE=["userId","batchId"];function Pm(n,e){return[n,_i(e)]}function sE(n,e,t){return[n,_i(e),t]}const lp={},pD=["prefixPath","collectionGroup","readTime","documentId"],hv=["prefixPath","collectionGroup","documentId"],Ko=["collectionGroup","readTime","prefixPath","documentId"],gD=["canonicalId","targetId"],fv=["targetId","path"],dp=["path","targetId"],mD=["collectionId","parent"],yD=["indexId","uid"],_D=["uid","sequenceNumber"],Om=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],km=["indexId","uid","orderedDocumentKey"],vD=["userId","collectionPath","documentId"],wD=["userId","collectionPath","largestBatchId"],oE=["userId","collectionGroup","largestBatchId"],pv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gv=[...pv,"documentOverlays"],mv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aE=mv,ID=[...aE,"indexConfiguration","indexState","indexEntries"];class uE extends qf{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function dr(n,e){const t=qe(n);return Fi.O(t.ie,e)}class hp{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&tD(u,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Mm();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const w=kI(h,m);null!==w&&r.set(o.key,w),h.isValidDocument()||h.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ot())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,(t,r)=>ev(t,r))&&Cl(this.baseMutations,e.baseMutations,(t,r)=>ev(t,r))}}class Fm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){bt(e.mutations.length===r.length);let o=sD;const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new Fm(e,t,r,o)}}class fp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Yo{constructor(e,t,r,o,u=_t.min(),h=_t.min(),m=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cE{constructor(e){this.re=e}}function lE(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:vh(o=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:_h(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sc(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:t.path.toArray(),version:sc(e.version)}}var o,u;return r}function Lm(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ka(n){const e=new Qt(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function oc(n,e){const t=(e.baseMutations||[]).map(u=>lv(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>lv(n.re,u)),o=Qt.fromMillis(e.localWriteTimeMs);return new hp(e.batchId,o,t,r)}function pp(n){const e=Ka(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ka(n.lastLimboFreeSnapshotVersion):_t.min();let r;var o;return void 0!==n.query.documents?(bt(1===(o=n.query).documents.length),r=os(xl(WI(o.documents[0])))):r=os(JI(n.query)),new Yo(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken))}function yv(n,e){const t=sc(e.snapshotVersion),r=sc(e.lastLimboFreeSnapshotVersion);let o;o=ep(e.target)?YI(n.re,e.target):QI(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Vm(n){const e=JI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?W_(e,e.limit,"L"):e}function _v(n,e){return new fp(e.largestBatchId,lv(n.re,e.overlayMutation))}function vv(n,e){const t=e.path.lastSegment();return[n,_i(e.path.popLast()),t]}function wv(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sc(r.readTime),documentKey:_i(r.documentKey.path),largestBatchId:r.largestBatchId}}class bD{getBundleMetadata(e,t){return Iv(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Ka(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Iv(e).put({bundleId:(r=t).id,createTime:sc(Rr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return dE(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Vm(o.bundledQuery),readTime:Ka(o.readTime)};var o})}saveNamedQuery(e,t){return dE(e).put({name:(r=t).name,readTime:sc(Rr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Iv(n){return dr(n,"bundles")}function dE(n){return dr(n,"namedQueries")}class Nr{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Nr(e,t.uid||"")}getOverlay(e,t){return Qo(e).get(vv(this.userId,t)).next(r=>r?_v(this.It,r):null)}getOverlays(e,t){const r=lo();return ae.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((u,h)=>{const m=new fp(t,h);o.push(this.ue(e,m))}),ae.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(_i(h.getCollectionPath())));const u=[];return o.forEach(h=>{const m=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(Qo(e).Y("collectionPathOverlayIndex",m))}),ae.waitFor(u)}getOverlaysForCollection(e,t,r){const o=lo(),u=_i(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Qo(e).W("collectionPathOverlayIndex",h).next(m=>{for(const w of m){const C=_v(this.It,w);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=lo();let h;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qo(e).Z({index:"collectionGroupOverlayIndex",range:m},(w,C,S)=>{const R=_v(this.It,C);u.size()<o||R.largestBatchId===h?(u.set(R.getKey(),R),h=R.largestBatchId):S.done()}).next(()=>u)}ue(e,t){return Qo(e).put(function(r,o,u){const[h,m,w]=vv(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:wh(r.re,u.mutation)}}(this.It,this.userId,t))}}function Qo(n){return dr(n,"documentOverlays")}class kl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Yn(e.integerValue));else if("doubleValue"in e){const r=Yn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),uh(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Al(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?pI(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Xe()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const o of Object.keys(r))this._e(o,t),this.ae(r[o],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const o of r)this.ae(o,t)}ge(e,t){this.le(t,37),He.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function CD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function DD(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=CD(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}kl.Te=new kl;class UA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const o=t.codePointAt(0);this.Ae(240|o>>>18),this.Ae(128|63&o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const o=t.codePointAt(0);this.Pe(240|o>>>18),this.Pe(128|63&o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o)}}this.ve()}De(e){const t=this.Ce(e),r=DD(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Ne(e){const t=this.Ce(e),r=DD(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class hE{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class fE{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Ya{constructor(){this.Be=new UA,this.Le=new hE(this.Be),this.Ue=new fE(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Fl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fl(this.indexId,this.documentKey,this.arrayValue,r)}}function Qa(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=pE(n.arrayValue,e.arrayValue),0!==t?t:(t=pE(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function pE(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class gE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=L_(e);if(void 0!==t&&!this.ze(t))return!1;const r=Dl(e);let o=0,u=0;for(;o<r.length&&this.ze(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.je){const h=r[o];if(!this.He(this.je,h)||!this.Je(this.Ge[u++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(u>=this.Ge.length||!this.Je(this.Ge[u++],h))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class TD{constructor(){this.Ye=new Ev}addToCollectionParentIndex(e,t){return this.Ye.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(is.min())}updateCollectionGroup(e,t,r){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Ev{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new gn(Nt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new gn(Nt.comparator)).toArray()}}const Um=new Uint8Array(0);class bv{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ev,this.Ze=new qa(r=>rc(r),(r,o)=>hh(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:_i(o)};return Cv(e).put(u)}return ae.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[gm(t),""],!1,!0);return Cv(e).W(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(ho(h.parent))}return r})}addFieldIndex(e,t){const r=Ll(e),o={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var h;delete o.indexId;const u=r.add(o);if(t.indexState){const h=Vl(e);return u.next(m=>{h.put(wv(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Ll(e),o=Vl(e),u=Ih(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ih(e);let o=!0;const u=new Map;return ae.forEach(this.tn(t),h=>this.en(e,h).next(m=>{o&&(o=!!m),u.set(h,m)})).next(()=>{if(o){let h=Ot();const m=[];return ae.forEach(u,(w,C)=>{var S;Ne("IndexedDbIndexManager",`Using index ${S=w,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(Vt=>`${Vt.fieldPath}:${Vt.kind}`).join(",")}`} to execute ${rc(t)}`);const R=function(Vt,Mt){const Pt=L_(Mt);if(void 0===Pt)return null;for(const Ht of Cm(Vt,Pt.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(C,w),j=function(Vt,Mt){const Pt=new Map;for(const Ht of Dl(Mt))for(const Gr of Cm(Vt,Ht.fieldPath))switch(Gr.op){case"==":case"in":Pt.set(Ht.fieldPath.canonicalString(),Gr.value);break;case"not-in":case"!=":return Pt.set(Ht.fieldPath.canonicalString(),Gr.value),Array.from(Pt.values())}return null}(C,w),Q=function(Vt,Mt){const Pt=[];let Ht=!0;for(const Gr of Dl(Mt)){const D0=0===Gr.kind?_I(Vt,Gr.fieldPath,Vt.startAt):vI(Vt,Gr.fieldPath,Vt.startAt);Pt.push(D0.value),Ht&&(Ht=D0.inclusive)}return new Vs(Pt,Ht)}(C,w),oe=function(Vt,Mt){const Pt=[];let Ht=!0;for(const Gr of Dl(Mt)){const D0=0===Gr.kind?vI(Vt,Gr.fieldPath,Vt.endAt):_I(Vt,Gr.fieldPath,Vt.endAt);Pt.push(D0.value),Ht&&(Ht=D0.inclusive)}return new Vs(Pt,Ht)}(C,w),Me=this.nn(w,C,Q),Fe=this.nn(w,C,oe),wt=this.sn(w,C,j),Dt=this.rn(w.indexId,R,Me,Q.inclusive,Fe,oe.inclusive,wt);return ae.forEach(Dt,Vt=>r.J(Vt,t.limit).next(Mt=>{Mt.forEach(Pt=>{const Ht=He.fromSegments(Pt.documentKey);h.has(Ht)||(h=h.add(Ht),m.push(Ht))})}))}).next(()=>m)}return ae.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,o,u,h,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),C=w/(null!=t?t.length:1),S=[];for(let R=0;R<w;++R){const j=t?this.on(t[R/C]):Um,Q=this.un(e,j,r[R%C],o),oe=this.cn(e,j,u[R%C],h),Me=m.map(Fe=>this.un(e,j,Fe,!0));S.push(...this.createRange(Q,oe,Me))}return S}un(e,t,r,o){const u=new Fl(e,He.empty(),t,r);return o?u:u.Ke()}cn(e,t,r,o){const u=new Fl(e,He.empty(),t,r);return o?u.Ke():u}en(e,t){const r=new gE(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let h=null;for(const m of u)r.We(m)&&(!h||m.fields.length>h.fields.length)&&(h=m);return h})}getIndexType(e,t){let r=2;return ae.forEach(this.tn(t),o=>this.en(e,o).next(u=>{u?0!==r&&u.fields.length<function(h){let m=new gn(nn.comparator),w=!1;for(const C of h.filters){const S=C;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?w=!0:m=m.add(S.field))}for(const C of h.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(w?1:0)}(o)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Ya;for(const o of Dl(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const h=r.qe(o.kind);kl.Te.ce(u,h)}return r.$e()}on(e){const t=new Ya;return kl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Ya;return kl.Te.ce(ch(this.databaseId,t),r.qe(function(o){const u=Dl(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let o=[];o.push(new Ya);let u=0;for(const h of Dl(e)){const m=r[u++];for(const w of o)if(this.ln(t,h.fieldPath)&&lh(m))o=this.fn(o,h,m);else{const C=w.qe(h.kind);kl.Te.ce(m,C)}}return this.dn(o)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const o=[...e],u=[];for(const h of r.arrayValue.values||[])for(const m of o){const w=new Ya;w.seed(m.$e()),kl.Te.ce(h,w.qe(t.kind)),u.push(w)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof ir&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ll(e),o=Vl(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const h=[];return ae.forEach(u,m=>o.get([m.indexId,this.uid]).next(w=>{h.push(function(C,S){const R=S?new ja(S.sequenceNumber,new is(Ka(S.readTime),new He(ho(S.documentKey)),S.largestBatchId)):ja.empty(),j=C.fields.map(([Q,oe])=>new mm(nn.fromServerFormat(Q),oe));return new Gf(C.indexId,C.collectionGroup,j,R)}(m,w))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:xt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Ll(e),u=Vl(e);return this._n(e).next(h=>o.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>ae.forEach(m,w=>u.put(wv(w.indexId,this.user,h,r)))))}updateIndexEntries(e,t){const r=new Map;return ae.forEach(t,(o,u)=>{const h=r.get(o.collectionGroup);return(h?ae.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),ae.forEach(m,w=>this.wn(e,o,w).next(C=>{const S=this.mn(u,w);return C.isEqual(S)?ae.resolve():this.gn(e,u,w,C,S)}))))})}yn(e,t,r,o){return Ih(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,o){return Ih(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const o=Ih(e);let u=new gn(Qa);return o.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(h,m)=>{u=u.add(new Fl(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}mn(e,t){let r=new gn(Qa);const o=this.an(t,e);if(null==o)return r;const u=L_(t);if(null!=u){const h=e.data.field(u.fieldPath);if(lh(h))for(const m of h.arrayValue.values||[])r=r.add(new Fl(t.indexId,e.key,this.on(m),o))}else r=r.add(new Fl(t.indexId,e.key,Um,o));return r}gn(e,t,r,o,u){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(m,w,C,S,R){const j=m.getIterator(),Q=w.getIterator();let oe=sh(j),Me=sh(Q);for(;oe||Me;){let Fe=!1,wt=!1;if(oe&&Me){const Dt=C(oe,Me);Dt<0?wt=!0:Dt>0&&(Fe=!0)}else null!=oe?wt=!0:Fe=!0;Fe?(S(Me),Me=sh(Q)):wt?(R(oe),oe=sh(j)):(oe=sh(j),Me=sh(Q))}}(o,u,Qa,m=>{h.push(this.yn(e,t,r,m))},m=>{h.push(this.pn(e,t,r,m))}),ae.waitFor(h)}_n(e){let t=1;return Vl(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,m)=>Qa(h,m)).filter((h,m,w)=>!m||0!==Qa(h,w[m-1]));const o=[];o.push(e);for(const h of r){const m=Qa(h,e),w=Qa(h,t);if(0===m)o[0]=e.Ke();else if(m>0&&w<0)o.push(h),o.push(h.Ke());else if(w>0)break}o.push(t);const u=[];for(let h=0;h<o.length;h+=2)u.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,Um,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,Um,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(AD)}getMinOffset(e,t){return ae.mapArray(this.tn(t),r=>this.en(e,r).next(o=>o||Xe())).next(AD)}}function Cv(n){return dr(n,"collectionParents")}function Ih(n){return dr(n,"indexEntries")}function Ll(n){return dr(n,"indexConfiguration")}function Vl(n){return dr(n,"indexState")}function AD(n){bt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;ym(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new is(e.readTime,e.documentKey,t)}const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ui{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ui(e,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tv(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let m=0;const w=r.Z({range:h},(S,R,j)=>(m++,j.delete()));u.push(w.next(()=>{bt(1===m)}));const C=[];for(const S of t.mutations){const R=sE(e,S.key.path,t.batchId);u.push(o.delete(R)),C.push(S.key)}return ae.waitFor(u).next(()=>C)}function Ja(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(41943040,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);class Bm{constructor(e,t,r,o){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=o,this.In={}}static oe(e,t,r,o){bt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Bm(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).Z({index:"userMutationsIndex",range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=gp(e),h=Jo(e);return h.add({}).next(m=>{bt("number"==typeof m);const w=new hp(m,t,r,o),C=function(j,Q,oe){const Me=oe.baseMutations.map(wt=>wh(j.re,wt)),Fe=oe.mutations.map(wt=>wh(j.re,wt));return{userId:Q,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:Me,mutations:Fe}}(this.It,this.userId,w),S=[];let R=new gn((j,Q)=>xt(j.canonicalString(),Q.canonicalString()));for(const j of o){const Q=sE(this.userId,j.key.path,m);R=R.add(j.key.path.popLast()),S.push(h.put(C)),S.push(u.put(Q,lp))}return R.forEach(j=>{S.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.In[m]=w.keys()}),ae.waitFor(S).next(()=>w)})}lookupMutationBatch(e,t){return Jo(e).get(t).next(r=>r?(bt(r.userId===this.userId),oc(this.It,r)):null)}Tn(e,t){return this.In[t]?ae.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.In[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Jo(e).Z({index:"userMutationsIndex",range:o},(h,m,w)=>{m.userId===this.userId&&(bt(m.batchId>=r),u=oc(this.It,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Jo(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).W("userMutationsIndex",t).next(r=>r.map(o=>oc(this.It,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Pm(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return gp(e).Z({range:o},(h,m,w)=>{const[C,S,R]=h,j=ho(S);if(C===this.userId&&t.path.isEqual(j))return Jo(e).get(R).next(Q=>{if(!Q)throw Xe();bt(Q.userId===this.userId),u.push(oc(this.It,Q))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(xt);const o=[];return t.forEach(u=>{const h=Pm(this.userId,u.path),m=IDBKeyRange.lowerBound(h),w=gp(e).Z({range:m},(C,S,R)=>{const[j,Q,oe]=C,Me=ho(Q);j===this.userId&&u.path.isEqual(Me)?r=r.add(oe):R.done()});o.push(w)}),ae.waitFor(o).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Pm(this.userId,r),h=IDBKeyRange.lowerBound(u);let m=new gn(xt);return gp(e).Z({range:h},(w,C,S)=>{const[R,j,Q]=w,oe=ho(j);R===this.userId&&r.isPrefixOf(oe)?oe.length===o&&(m=m.add(Q)):S.done()}).next(()=>this.En(e,m))}En(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Jo(e).get(u).next(h=>{if(null===h)throw Xe();bt(h.userId===this.userId),r.push(oc(this.It,h))}))}),ae.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Tv(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return gp(e).Z({range:r},(u,h,m)=>{if(u[0]===this.userId){const w=ho(u[1]);o.push(w)}else m.done()}).next(()=>{bt(0===o.length)})})}containsKey(e,t){return Av(e,this.userId,t)}Rn(e){return mE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Av(n,e,t){const r=Pm(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return gp(n).Z({range:u,X:!0},(m,w,C)=>{const[S,R,j]=m;S===e&&R===o&&(h=!0),C.done()}).next(()=>h)}function Jo(n){return dr(n,"mutations")}function gp(n){return dr(n,"documentMutations")}function mE(n){return dr(n,"mutationQueues")}class Eh{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Eh(0)}static vn(){return new Eh(-1)}}class SD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new Eh(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>_t.fromTimestamp(new Qt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.Sn(e,o)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bh(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(bt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return bh(e).Z((h,m)=>{const w=pp(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>ae.waitFor(u)).next(()=>o)}forEachTarget(e,t){return bh(e).Z((r,o)=>{const u=pp(o);t(u)})}Vn(e){return yE(e).get("targetGlobalKey").next(t=>(bt(null!==t),t))}Sn(e,t){return yE(e).put("targetGlobalKey",t)}Dn(e,t){return bh(e).put(yv(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=rc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return bh(e).Z({range:o,index:"queryTargetsIndex"},(h,m,w)=>{const C=pp(m);hh(t,C.target)&&(u=C,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Xa(e);return t.forEach(h=>{const m=_i(h.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,h))}),ae.waitFor(o)}removeMatchingKeys(e,t,r){const o=Xa(e);return ae.forEach(t,u=>{const h=_i(u.path);return ae.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Xa(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Xa(e);let u=Ot();return o.Z({range:r,X:!0},(h,m,w)=>{const C=ho(h[1]),S=new He(C);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=_i(t.path),o=IDBKeyRange.bound([r],[gm(r)],!1,!0);let u=0;return Xa(e).Z({index:"documentTargetsIndex",X:!0,range:o},([h,m],w,C)=>{0!==h&&(u++,C.done())}).next(()=>u>0)}se(e,t){return bh(e).get(t).next(r=>r?pp(r):null)}}function bh(n){return dr(n,"targets")}function yE(n){return dr(n,"targetGlobal")}function Xa(n){return dr(n,"targetDocuments")}function Sv([n,e],[t,r]){const o=xt(n,t);return 0===o?xt(e,r):o}class xD{constructor(e){this.xn=e,this.buffer=new gn(Sv),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Sv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _E{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){$a(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ju(r)}yield t.Fn(3e5)}))}}class vE{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Li.at);const r=new xD(t);return this.$n.forEachTarget(e,o=>r.Mn(o.sequenceNumber)).next(()=>this.$n.Ln(e,o=>r.Mn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Dv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,o,u,h,m,w,C;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,h=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(u=R,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),pm()<=$o.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-S}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${R} documents in `+(C-w)+`ms\nTotal Duration: ${C-S}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R})))}}class MD{constructor(e,t){this.db=e,this.garbageCollector=new vE(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,o)=>t(o))}addReference(e,t,r){return jm(e,r)}removeReference(e,t,r){return jm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jm(e,t)}Gn(e,t){return function(r,o){let u=!1;return mE(r).tt(h=>Av(r,h,o).next(m=>(m&&(u=!0),ae.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Kn(e,(h,m)=>{if(m<=t){const w=this.Gn(e,h).next(C=>{if(!C)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,_t.min()),Xa(e).delete([0,_i(h.path)])))});o.push(w)}}).next(()=>ae.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jm(e,t)}Kn(e,t){const r=Xa(e);let o,u=Li.at;return r.Z({index:"documentTargetsIndex"},([h,m],{path:w,sequenceNumber:C})=>{0===h?(u!==Li.at&&t(new He(ho(o)),u),u=C,o=w):u=Li.at}).next(()=>{u!==Li.at&&t(new He(ho(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jm(n,e){return Xa(n).put((r=n.currentSequenceNumber,{targetId:0,path:_i(e.path),sequenceNumber:r}));var r}class xv{constructor(){this.changes=new qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ae.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RD{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ac(e).put(r)}removeEntry(e,t,r){return ac(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Lm(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=In.newInvalidDocument(t);return ac(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(o,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:In.newInvalidDocument(t)};return ac(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(o,u)=>{r={document:this.jn(t,u),size:Ja(u)}}).next(()=>r)}getEntries(e,t){let r=Vi();return this.zn(e,t,(o,u)=>{const h=this.jn(o,u);r=r.insert(o,h)}).next(()=>r)}Hn(e,t){let r=Vi(),o=new Kn(He.comparator);return this.zn(e,t,(u,h)=>{const m=this.jn(u,h);r=r.insert(u,m),o=o.insert(u,Ja(h))}).next(()=>({documents:r,Jn:o}))}zn(e,t,r){if(t.isEmpty())return ae.resolve();let o=new gn(ND);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(mp(o.first()),mp(o.last())),h=o.getIterator();let m=h.getNext();return ac(e).Z({index:"documentKeyIndex",range:u},(w,C,S)=>{const R=He.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&ND(m,R)<0;)r(m,null),m=h.getNext();m&&m.isEqual(R)&&(r(m,C),m=h.hasNext()?h.getNext():null),m?S.j(mp(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),Lm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ac(e).W(IDBKeyRange.bound(o,u,!0)).next(h=>{let m=Vi();for(const w of h){const C=this.jn(He.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=Vi();const h=IE(t,r),m=IE(t,is.max());return ac(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,m,!0)},(w,C,S)=>{const R=this.jn(He.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(R.key,R),u.size===o&&S.done()}).next(()=>u)}newChangeBuffer(e){return new wE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Rv(e).get("remoteDocumentGlobalKey").next(t=>(bt(!!t),t))}Qn(e,t){return Rv(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function ED(n,e){let t;if(e.document)t=KI(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),o=Ka(e.noDocument.readTime);t=In.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=He.fromSegments(e.unknownDocument.path),o=Ka(e.unknownDocument.version);t=In.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Qt(r[0],r[1]);return _t.fromTimestamp(o)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return In.newInvalidDocument(e)}}function Mv(n){return new RD(n)}class wE extends xv{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new qa(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new gn((u,h)=>xt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const m=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,m.readTime)),h.isValidDocument()){const w=lE(this.Yn.It,h);o=o.add(u.path.popLast()),r+=Ja(w)-m.size,t.push(this.Yn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=lE(this.Yn.It,h.convertToNoDocument(_t.min()));t.push(this.Yn.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ae.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:o})=>(o.forEach((u,h)=>{this.Xn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function Rv(n){return dr(n,"remoteDocumentGlobal")}function ac(n){return dr(n,"remoteDocumentsV14")}function mp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IE(n,e){const t=e.documentKey.path.toArray();return[n,Lm(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ND(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=xt(t[u],r[u]),o)return o;return o=xt(t.length,r.length),o||(o=xt(t[t.length-2],r[r.length-2]),o||xt(t[t.length-1],r[r.length-1]))}class EE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class PD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.getBaseDocument(e,t,r))).next(o=>(null!==r&&Rl(r.mutation,o,ss.empty(),Qt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ot()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ot()){const o=lo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(u=>{let h=Nl();return u.forEach((m,w)=>{h=h.insert(m,w.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const r=lo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ot()))}populateOverlays(e,t,r){const o=[];return r.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,r,o){let u=Vi();const h=op(),m=op();return t.forEach((w,C)=>{const S=r.get(C.key);o.has(C.key)&&(void 0===S||S.mutation instanceof Ga)?u=u.insert(C.key,C):void 0!==S&&(h.set(C.key,S.mutation.getFieldMask()),Rl(S.mutation,C,S.mutation.getFieldMask(),Qt.now()))}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((C,S)=>h.set(C,S)),t.forEach((C,S)=>{var R;return m.set(C,new EE(S,null!==(R=h.get(C))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=op();let o=new Kn((h,m)=>h-m),u=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(w=>{const C=t.get(w);if(null===C)return;let S=r.get(w)||ss.empty();S=m.applyToLocalView(C,S),r.set(w,S);const R=(o.get(m.batchId)||Ot()).add(w);o=o.insert(m.batchId,R)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),C=w.key,S=w.value,R=Mm();S.forEach(j=>{if(!u.has(j)){const Q=kI(t.get(j),r.get(j));null!==Q&&R.set(j,Q),u=u.add(j)}}),h.push(this.documentOverlayCache.saveOverlays(e,C,R))}return ae.waitFor(h)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return He.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):z_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-u.size):ae.resolve(lo());let m=-1,w=u;return h.next(C=>ae.forEach(C,(S,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(S)?ae.resolve():this.getBaseDocument(e,S,R).next(j=>{w=w.insert(S,j)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,w,C,Ot())).next(S=>({batchId:m,changes:xm(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let o=Nl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let u=Nl();return this.indexManager.getCollectionParents(e,o).next(h=>ae.forEach(h,m=>{const w=(C=t,S=m.child(o),new Wo(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(C=>{C.forEach((S,R)=>{u=u.insert(S,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((m,w)=>{const C=w.getKey();null===o.get(C)&&(o=o.insert(C,In.newInvalidDocument(C)))});let h=Nl();return o.forEach((m,w)=>{const C=u.get(m);void 0!==C&&Rl(C.mutation,w,ss.empty(),Qt.now()),Y_(t,w)&&(h=h.insert(m,w))}),h})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ae.resolve(In.newInvalidDocument(t))}}class BA{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ae.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Rr(r.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Vm(r.bundledQuery),readTime:Rr(r.readTime)}),ae.resolve();var r}}class jA{constructor(){this.overlays=new Kn(He.comparator),this.es=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const r=lo();return ae.forEach(t,o=>this.getOverlay(e,o).next(u=>{null!==u&&r.set(o,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.ue(e,t,u)}),ae.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.es.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ae.resolve()}getOverlaysForCollection(e,t,r){const o=lo(),u=t.length+1,h=new He(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const w=m.getNext().value,C=w.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Kn((C,S)=>C-S);const h=this.overlays.getIterator();for(;h.hasNext();){const C=h.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let S=u.get(C.largestBatchId);null===S&&(S=lo(),u=u.insert(C.largestBatchId,S)),S.set(C.getKey(),C)}}const m=lo(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((C,S)=>m.set(C,S)),!(m.size()>=o)););return ae.resolve(m)}ue(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const h=this.es.get(o.largestBatchId).delete(r.key);this.es.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new fp(t,r));let u=this.es.get(t);void 0===u&&(u=Ot(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class bE{constructor(){this.ns=new gn(Zr.ss),this.rs=new gn(Zr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Zr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Zr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new He(new Nt([])),r=new Zr(t,e),o=new Zr(t,e+1),u=[];return this.rs.forEachInRange([r,o],h=>{this.cs(h),u.push(h.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new He(new Nt([])),r=new Zr(t,e),o=new Zr(t,e+1);let u=Ot();return this.rs.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Zr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Zr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return He.comparator(e.key,t.key)||xt(e._s,t._s)}static os(e,t){return xt(e._s,t._s)||He.comparator(e.key,t.key)}}class $A{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new gn(Zr.ss)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const u=this.ws;this.ws++;const h=new hp(u,t,r,o);this.mutationQueue.push(h);for(const m of o)this.gs=this.gs.add(new Zr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.ps(t+1),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Zr(t,0),o=new Zr(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,o],h=>{const m=this.ys(h._s);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gn(xt);return t.forEach(o=>{const u=new Zr(o,0),h=new Zr(o,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,h],m=>{r=r.add(m._s)})}),ae.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const h=new Zr(new He(u),0);let m=new gn(xt);return this.gs.forEachWhile(w=>{const C=w.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(w._s)),!0)},h),ae.resolve(this.Is(m))}Is(e){const t=[];return e.forEach(r=>{const o=this.ys(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){bt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ae.forEach(t.mutations,o=>{const u=new Zr(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Zr(t,0),o=this.gs.firstAfterOrEqual(r);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ae.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class HA{constructor(e){this.Es=e,this.docs=new Kn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ae.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=Vi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():In.newInvalidDocument(o))}),ae.resolve(r)}getAllFromCollection(e,t,r){let o=Vi();const u=new He(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:m,value:{document:w}}=h.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||ym(U_(w),r)<=0||(o=o.insert(w.key,w.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Xe()}As(e,t){return ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZA(this)}getSize(e){return ae.resolve(this.size)}}class ZA extends xv{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Yn.addEntry(e,o)):this.Yn.removeEntry(r)}),ae.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class $m{constructor(e){this.persistence=e,this.Rs=new qa(t=>rc(t),hh),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.bs=0,this.Ps=new bE,this.targetCount=0,this.vs=Eh.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ae.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Eh(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Dn(t),ae.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Rs.forEach((h,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Rs.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ae.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ae.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ae.resolve(r)}containsKey(e,t){return ae.resolve(this.Ps.containsKey(t))}}class OD{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Li(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new $m(this),this.indexManager=new TD,this.remoteDocumentCache=new HA(r=>this.referenceDelegate.xs(r)),this.It=new cE(t),this.Ns=new BA(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new $A(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const o=new CE(this.Ss.next());return this.referenceDelegate.ks(),r(o).next(u=>this.referenceDelegate.Ms(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Os(e,t){return ae.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class CE extends qf{constructor(e){super(),this.currentSequenceNumber=e}}class Ul{constructor(e){this.persistence=e,this.Fs=new bE,this.$s=null}static Bs(e){return new Ul(e)}get Ls(){if(this.$s)return this.$s;throw Xe()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ae.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(o=>this.Ls.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ls,r=>{const o=He.fromPath(r);return this.Us(e,o).next(u=>{u||t.removeEntry(o,_t.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ae.or([()=>ae.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class DE{constructor(e){this.It=e}$(e,t,r,o){const u=new rh("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iE,{unique:!0}),m.createObjectStore("documentMutations"),Nv(e),function(m){m.createObjectStore("remoteDocuments")}(e));let h=ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Nv(e)),h=h.next(()=>function(m){const w=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",C)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,w){return w.store("mutations").W().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",iE,{unique:!0});const S=w.store("mutations"),R=C.map(j=>S.put(j));return ae.waitFor(R)})}(e,u))),h=h.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.qs(u))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&o>=7&&(h=h.next(()=>this.Gs(u))),r<8&&o>=8&&(h=h.next(()=>this.Qs(e,u))),r<9&&o>=9&&(h=h.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.js(u))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:vD});w.createIndex("collectionPathOverlayIndex",wD,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",oE,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:pD});w.createIndex("documentKeyIndex",hv),w.createIndex("collectionGroupIndex",Ko)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>this.zs(e,u))),r<15&&o>=15&&(h=h.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:yD}).createIndex("sequenceNumberIndex",_D,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Om}).createIndex("documentKeyIndex",km,{unique:!1})}(e))),h}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,o)=>{t+=Ja(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(o=>ae.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",h).next(m=>ae.forEach(m,w=>{bt(w.userId===u.userId);const C=oc(this.It,w);return Tv(e,u.userId,C).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Z((h,m)=>{const w=new Nt(h),C=[0,_i(w)];u.push(t.get(C).next(S=>S?ae.resolve():t.put({targetId:0,path:_i(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>ae.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:mD});const r=t.store("collectionParents"),o=new Ev,u=h=>{if(o.add(h)){const m=h.lastSegment(),w=h.popLast();return r.put({collectionId:m,parent:_i(w)})}};return t.store("remoteDocuments").Z({X:!0},(h,m)=>{const w=new Nt(h);return u(w.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([h,m,w],C)=>{const S=ho(m);return u(S.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,o)=>{const u=pp(o),h=yv(this.It,u);return t.put(h)})}Ws(e,t){const r=t.store("remoteDocuments"),o=[];return r.Z((u,h)=>{const m=t.store("remoteDocumentsV14"),w=(C=h,C.document?new He(Nt.fromString(C.document.name).popFirst(5)):C.noDocument?He.fromSegments(C.noDocument.path):C.unknownDocument?He.fromSegments(C.unknownDocument.path):Xe()).path.toArray();var C;const S={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(m.put(S))}).next(()=>ae.waitFor(o))}zs(e,t){const r=t.store("mutations"),o=Mv(this.It),u=new OD(Ul.Bs,this.It.re);return r.W().next(h=>{const m=new Map;return h.forEach(w=>{var C;let S=null!==(C=m.get(w.userId))&&void 0!==C?C:Ot();oc(this.It,w).keys().forEach(R=>S=S.add(R)),m.set(w.userId,S)}),ae.forEach(m,(w,C)=>{const S=new _r(C),R=Nr.oe(this.It,S),j=u.getIndexManager(S),Q=Bm.oe(S,this.It,j,u.referenceDelegate);return new PD(o,Q,R,j).recalculateAndSaveOverlaysForDocumentKeys(new uE(t,Li.at),w).next()})})}}function Nv(n){n.createObjectStore("targetDocuments",{keyPath:fv}).createIndex("documentTargetsIndex",dp,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",gD,{unique:!0}),n.createObjectStore("targetGlobal")}const TE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yp{constructor(e,t,r,o,u,h,m,w,C,S,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=h,this.document=m,this.Js=C,this.Ys=S,this.Xs=R,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=j=>Promise.resolve(),!yp.C())throw new xe(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MD(this,o),this.ii=t+"main",this.It=new cE(w),this.ri=new Fi(this.ii,this.Xs,new DE(this.It)),this.Cs=new SD(this.referenceDelegate,this.It),this.remoteDocumentCache=Mv(this.It),this.Ns=new bD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===S&&Wn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ne.FAILED_PRECONDITION,TE);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Li(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if($a(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ch(e).get("owner").next(t=>ae.resolve(this.mi(t)))}gi(e){return Hm(e).delete(this.clientId)}yi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=dr(r,"clientMetadata");return o.W().next(u=>{const h=e.Ii(u,18e5),m=u.filter(w=>-1===h.indexOf(w));return ae.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ae.resolve(!0):Ch(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xe(ne.FAILED_PRECONDITION,TE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hm(e).W().next(r=>void 0===this.Ii(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new uE(t,Li.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Hm(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Bm.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new bv(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Nr.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=15===(h=this.Xs)?ID:14===h?aE:13===h?mv:12===h?gv:11===h?pv:void Xe();var h;let m;return this.ri.runTransaction(e,o,u,w=>(m=new uE(w,this.Ss?this.Ss.next():Li.at),"readwrite-primary"===t?this.fi(m).next(C=>!!C||this.di(m)).next(C=>{if(!C)throw Wn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xe(ne.FAILED_PRECONDITION,B_);return r(m)}).next(C=>this.wi(m).next(()=>C)):this.Vi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Vi(e){return Ch(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xe(ne.FAILED_PRECONDITION,TE)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ch(e).put("owner",t)}static C(){return Fi.C()}_i(e){const t=Ch(e);return t.get("owner").next(r=>this.mi(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Wn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,tn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Wn("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ch(n){return dr(n,"owner")}function Hm(n){return dr(n,"clientMetadata")}function Zm(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class AE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=o}static Ci(e,t){let r=Ot(),o=Ot();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new AE(e,t.fromCache,r,o)}}class kD{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.ki(e,t).next(u=>u||this.Mi(e,t,o,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(DI(t))return ae.resolve(null);let r=os(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=W_(t,null,"F"),r=os(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const h=Ot(...u);return this.Ni.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const C=this.Fi(t,m);return this.$i(t,C,h,w.readTime)?this.ki(e,W_(t,null,"F")):this.Bi(e,C,t,w)}))})))}Mi(e,t,r,o){return DI(t)||o.isEqual(_t.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const h=this.Fi(t,u);return this.$i(t,h,r,o)?this.Oi(e,t):(pm()<=$o.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fh(t)),this.Bi(e,h,t,aI(o,-1)))})}Fi(e,t){let r=new gn(Q_(e));return t.forEach((o,u)=>{Y_(e,u)&&(r=r.add(u))}),r}$i(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Oi(e,t){return pm()<=$o.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",fh(t)),this.Ni.getDocumentsMatchingQuery(e,t,is.min())}Bi(e,t,r,o){return this.Ni.getDocumentsMatchingQuery(e,r,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}class FD{constructor(e,t,r,o){this.persistence=e,this.Li=t,this.It=o,this.Ui=new Kn(xt),this.qi=new qa(u=>rc(u),hh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PD(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function SE(n,e,t,r){return new FD(n,e,t,r)}function _p(n,e){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,ye.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(u=>(o=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const h=[],m=[];let w=Ot();for(const C of o){h.push(C.batchId);for(const S of C.mutations)w=w.add(S.key)}for(const C of u){m.push(C.batchId);for(const S of C.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(C=>({ji:C,removedBatchIds:h,addedBatchIds:m}))})})}),Pv.apply(this,arguments)}function GA(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(h,m,w,C){const S=w.batch,R=S.keys();let j=ae.resolve();return R.forEach(Q=>{j=j.next(()=>C.getEntry(m,Q)).next(oe=>{const Me=w.docVersions.get(Q);bt(null!==Me),oe.version.compareTo(Me)<0&&(S.applyToRemoteDocument(oe,w),oe.isValidDocument()&&(oe.setReadTime(w.commitVersion),C.addEntry(oe)))})}),j.next(()=>h.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let m=Ot();for(let w=0;w<h.mutationResults.length;++w)h.mutationResults[w].transformResults.length>0&&(m=m.add(h.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function LD(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function qA(n,e){const t=qe(n),r=e.snapshotVersion;let o=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Gi.newChangeBuffer({trackRemovals:!0});o=t.Ui;const m=[];e.targetChanges.forEach((S,R)=>{const j=o.get(R);if(!j)return;m.push(t.Cs.removeMatchingKeys(u,S.removedDocuments,R).next(()=>t.Cs.addMatchingKeys(u,S.addedDocuments,R)));let Q=j.withSequenceNumber(u.currentSequenceNumber);var oe,Me,Fe;e.targetMismatches.has(R)?Q=Q.withResumeToken(vr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,r)),o=o.insert(R,Q),Me=Q,Fe=S,(0===(oe=j).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.Cs.updateTargetData(u,Q))});let w=Vi(),C=Ot();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(xE(u,h,e.documentUpdates).next(S=>{w=S.Wi,C=S.zi})),!r.isEqual(_t.min())){const S=t.Cs.getLastRemoteSnapshotVersion(u).next(R=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return ae.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,C)).next(()=>w)}).then(u=>(t.Ui=o,u))}function xE(n,e,t){let r=Ot(),o=Ot();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let h=Vi();return t.forEach((m,w)=>{const C=u.get(m);w.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(_t.min())?(e.removeEntry(m,w.readTime),h=h.insert(m,w)):!C.isValidDocument()||w.version.compareTo(C.version)>0||0===w.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(w),h=h.insert(m,w)):Ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",w.version)}),{Wi:h,zi:o}})}function VD(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dh(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Cs.getTargetData(r,e).next(u=>u?(o=u,ae.resolve(o)):t.Cs.allocateTargetId(r).next(h=>(o=new Yo(e,h,0,r.currentSequenceNumber),t.Cs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function vp(n,e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=(0,ye.Z)(function*(n,e,t){const r=qe(n),o=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!$a(h))throw h;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ui=r.Ui.remove(e),r.qi.delete(o.target)}),Ov.apply(this,arguments)}function wp(n,e,t){const r=qe(n);let o=_t.min(),u=Ot();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,w,C){const S=qe(m),R=S.qi.get(C);return void 0!==R?ae.resolve(S.Ui.get(R)):S.Cs.getTargetData(w,C)}(r,h,os(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(h,m.targetId).next(w=>{u=w})}).next(()=>r.Li.getDocumentsMatchingQuery(h,e,t?o:_t.min(),t?u:Ot())).next(m=>(Us(r,TI(e),m),{documents:m,Hi:u})))}function kv(n,e){const t=qe(n),r=qe(t.Cs),o=t.Ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(h=>h?h.target:null))}function UD(n,e){const t=qe(n),r=t.Ki.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Gi.getAllFromCollectionGroup(o,e,aI(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Us(t,e,o),o))}function Us(n,e,t){let r=_t.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function Ip(){return Ip=(0,ye.Z)(function*(n,e,t,r){const o=qe(n);let u=Ot(),h=Vi();for(const C of t){const S=e.Ji(C.metadata.name);C.document&&(u=u.add(S));const R=e.Yi(C);R.setReadTime(e.Xi(C.metadata.readTime)),h=h.insert(S,R)}const m=o.Gi.newChangeBuffer({trackRemovals:!0}),w=yield Dh(o,(C=r,os(xl(Nt.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>xE(C,m,h).next(S=>(m.apply(C),S)).next(S=>o.Cs.removeMatchingKeysForTargetId(C,w.targetId).next(()=>o.Cs.addMatchingKeys(C,u,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,S.Wi,S.zi)).next(()=>S.Wi)))}),Ip.apply(this,arguments)}function jD(n,e){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,ye.Z)(function*(n,e,t=Ot()){const r=yield Dh(n,os(Vm(e.bundledQuery))),o=qe(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=Rr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ns.saveNamedQuery(u,e);const m=r.withResumeToken(vr.EMPTY_BYTE_STRING,h);return o.Ui=o.Ui.insert(m.targetId,m),o.Cs.updateTargetData(u,m).next(()=>o.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ns.saveNamedQuery(u,e))})}),Bi.apply(this,arguments)}function ME(n,e){return`firestore_clients_${n}_${e}`}function Gm(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Fv(n,e){return`firestore_targets_${n}_${e}`}class qm{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Zi(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new xe(o.error.code,o.error.message))),h?new qm(e,t,o.state,u):(Wn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bl{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new xe(r.error.code,r.error.message))),u?new Bl(e,r.state,o):(Wn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ep{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=za();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=Z_(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new Ep(e,u):(Wn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zm{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zm(t.clientId,t.onlineState):(Wn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Lv{constructor(){this.activeTargetIds=za()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wm{constructor(e,t,r,o,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Kn(xt),this.started=!1,this.cr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=ME(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Lv),this.lr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.vi();for(const o of t){if(o===e.sr)continue;const u=e.getItem(ME(e.persistenceKey,o));if(u){const h=Ep.Zi(o,u);h&&(e.ur=e.ur.insert(h.clientId,h))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const o=e.yr(r);o&&e.pr(o)}for(const o of e.cr)e.rr(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Fv(this.persistenceKey,e));if(r){const o=Bl.Zi(e,r);o&&(t=o.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Er(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Wn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Vr(o,null)}{const o=t.Sr(r.key,r.newValue);if(o)return t.Vr(o.clientId,o)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Nr(r.key,r.newValue);if(o)return t.kr(o)}}else if(r.key===t.wr){if(null!==r.newValue){const o=t.yr(r.newValue);if(o)return t.pr(o)}}else if(r.key===t.hr){const o=function(u){let h=Li.at;if(null!=u)try{const m=JSON.parse(u);bt("number"==typeof m),h=m}catch(m){Wn("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==Li.at&&t.sequenceNumberHandler(o)}else if(r.key===t.mr){const o=t.Mr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const o=new qm(this.currentUser,e,t,r),u=Gm(this.persistenceKey,this.currentUser,e);this.setItem(u,o.tr())}Er(e){const t=Gm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const o=Fv(this.persistenceKey,e),u=new Bl(e,t,r);this.setItem(o,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Ep.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),o=Number(r[1]);return qm.Zi(new _r(void 0!==r[2]?r[2]:null),o,t)}Nr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Bl.Zi(o,t)}yr(e){return zm.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),o=this.Ir(this.ur),u=this.Ir(r),h=[],m=[];return u.forEach(w=>{o.has(w)||h.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Br(h,m).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=za();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Vv{constructor(){this.Lr=new Lv,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Lv,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $D{qr(e){}shutdown(){}}class Uv{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const HD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Bv{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class uc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,u){const h=this.ao(e,t);Ne("RestConnection","Sending: ",h,r);const m={};return this.ho(m,o,u),this.lo(e,h,m,r).then(w=>(Ne("RestConnection","Received: ",w),w),w=>{throw Qu("RestConnection",`${e} failed with error: `,w,"url: ",h,"request:",r),w})}fo(e,t,r,o,u,h){return this.co(e,t,r,o,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+bl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ao(e,t){return`${this.oo}/v1/${t}:${HD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,o){return new Promise((u,h)=>{const m=new k_;m.listenOnce(Yw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case dm.NO_ERROR:const C=m.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(C)),u(C);break;case dm.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),h(new xe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case dm.HTTP_ERROR:const S=m.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const R=m.getResponseJson().error;if(R&&R.status&&R.message){const j=function(Q){const oe=Q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(oe)>=0?oe:ne.UNKNOWN}(R.status);h(new xe(j,R.message))}else h(new xe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new xe(ne.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);m.send(t,"POST",w,r,15)})}_o(e,t,r){const o=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=kC(),h=Kw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new FC({})),this.ho(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const w=o.join("");Ne("Connection","Creating WebChannel: "+w,m);const C=u.createWebChannel(w,m);let S=!1,R=!1;const j=new Bv({Hr:oe=>{R?Ne("Connection","Not sending because WebChannel is closed:",oe):(S||(Ne("Connection","Opening WebChannel transport."),C.open(),S=!0),Ne("Connection","WebChannel sending:",oe),C.send(oe))},Jr:()=>C.close()}),Q=(oe,Me,Fe)=>{oe.listen(Me,wt=>{try{Fe(wt)}catch(Dt){setTimeout(()=>{throw Dt},0)}})};return Q(C,hm.EventType.OPEN,()=>{R||Ne("Connection","WebChannel transport opened.")}),Q(C,hm.EventType.CLOSE,()=>{R||(R=!0,Ne("Connection","WebChannel transport closed"),j.io())}),Q(C,hm.EventType.ERROR,oe=>{R||(R=!0,Qu("Connection","WebChannel transport errored:",oe),j.io(new xe(ne.UNAVAILABLE,"The operation could not be completed")))}),Q(C,hm.EventType.MESSAGE,oe=>{var Me;if(!R){const Fe=oe.data[0];bt(!!Fe);const wt=Fe,Dt=wt.error||(null===(Me=wt[0])||void 0===Me?void 0:Me.error);if(Dt){Ne("Connection","WebChannel received error:",Dt);const Vt=Dt.status;let Mt=function(Ht){const Gr=sr[Ht];if(void 0!==Gr)return BI(Gr)}(Vt),Pt=Dt.message;void 0===Mt&&(Mt=ne.INTERNAL,Pt="Unknown error status: "+Vt+" with message "+Dt.message),R=!0,j.io(new xe(Mt,Pt)),C.close()}else Ne("Connection","WebChannel received:",Fe),j.ro(Fe)}}),Q(h,Qw.STAT_EVENT,oe=>{oe.stat===Jw.PROXY?Ne("Connection","Detected buffering proxy"):oe.stat===Jw.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{j.so()},0),j}}function jv(){return typeof window<"u"?window:null}function Th(){return typeof document<"u"?document:null}function as(n){return new qI(n,!0)}class $v{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=o,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),o=Math.max(0,t-r);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,o,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class ZD{constructor(e,t,r,o,u,h,m,w){this.Hs=e,this.Po=r,this.vo=o,this.Vo=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new $v(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ye.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ye.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wn(t.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===ne.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.So===t&&this.Go(r,o)},r=>{e(()=>{const o=new xe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(o)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(o=>{r(()=>this.Qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ye.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GD extends ZD{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function lD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Xe(),o=e.targetChange.targetIds||[],u=function(w,C){return w.gt?(bt(void 0===C||"string"==typeof C),vr.fromBase64String(C||"")):(bt(void 0===C||C instanceof Uint8Array),vr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(w){const C=void 0===w.code?ne.UNKNOWN:BI(w.code);return new xe(C,w.message||"")}(h);t=new Rm(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Wa(n,r.document.name),u=Rr(r.document.updateTime),h=new Bt({mapValue:{fields:r.document.fields}}),m=In.newFoundDocument(o,u,h);t=new rv(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Wa(n,r.document),u=r.readTime?Rr(r.readTime):_t.min(),h=In.newNoDocument(o,u);t=new rv([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Wa(n,r.document);t=new rv([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,u=new rD(r.count||0);t=new iv(r.targetId,u)}}var w;return t}(this.It,e),r=function(o){if(!("targetChange"in o))return _t.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?Rr(u.readTime):_t.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=up(this.It),t.addTarget=function(o,u){let h;const m=u.target;return h=ep(m)?{documents:YI(o,m)}:{query:QI(o,m)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=uv(o,u.resumeToken):u.snapshotVersion.compareTo(_t.min())>0&&(h.readTime=_h(o,u.snapshotVersion.toTimestamp())),h}(this.It,e);const r=function hD(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=up(this.It),t.removeTarget=e,this.Bo(t)}}class qD extends ZD{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function dD(n,e){return n&&n.length>0?(bt(void 0!==e),n.map(t=>function(r,o){let u=Rr(r.updateTime?r.updateTime:o);return u.isEqual(_t.min())&&(u=Rr(o)),new eD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.Zo(r,t)}return bt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=up(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wh(this.It,r))};this.Bo(t)}}class zD extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=o,this.nu=!1}su(){if(this.nu)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.Vo.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ne.UNKNOWN,o.toString())})}fo(e,t,r,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.Vo.fo(e,t,r,u,h,o)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(ne.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class WD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Wn(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class RE{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var w;eu(h)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ye.Z)(function*(C){const S=qe(C);S._u.add(4),yield Ah(S),S.gu.set("Unknown"),S._u.delete(4),yield Km(S)}),function(C){return w.apply(this,arguments)})(h))}))}),this.gu=new WD(r,o)}}function Km(n){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,ye.Z)(function*(n){if(eu(n))for(const e of n.wu)yield e(!0)}),Ym.apply(this,arguments)}function Ah(n){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,ye.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Qm.apply(this,arguments)}function Hv(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ey(t)?Xm(t):Sh(t).ko()&&Jm(t,e))}function jl(n,e){const t=qe(n),r=Sh(t);t.du.delete(e),r.ko()&&Zv(t,e),0===t.du.size&&(r.ko()?r.Fo():eu(t)&&t.gu.set("Unknown"))}function Jm(n,e){n.yu.Ot(e.targetId),Sh(n).zo(e)}function Zv(n,e){n.yu.Ot(e),Sh(n).Ho(e)}function Xm(n){n.yu=new sv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),Sh(n).start(),n.gu.uu()}function ey(n){return eu(n)&&!Sh(n).No()&&n.du.size>0}function eu(n){return 0===qe(n)._u.size}function bp(n){n.yu=void 0}function ty(n){return ny.apply(this,arguments)}function ny(){return ny=(0,ye.Z)(function*(n){n.du.forEach((e,t)=>{Jm(n,e)})}),ny.apply(this,arguments)}function KD(n,e){return ry.apply(this,arguments)}function ry(){return ry=(0,ye.Z)(function*(n,e){bp(n),ey(n)?(n.gu.hu(e),Xm(n)):n.gu.set("Unknown")}),ry.apply(this,arguments)}function NE(n,e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=(0,ye.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof Rm&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const h=u.cause;for(const m of u.targetIds)o.du.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.du.delete(m),o.yu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield iy(n,r)}else if(e instanceof rv?n.yu.Gt(e):e instanceof iv?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(_t.min()))try{const r=yield LD(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.yu.te(u);return h.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.du.get(w);C&&o.du.set(w,C.withResumeToken(m.resumeToken,u))}}),h.targetMismatches.forEach(m=>{const w=o.du.get(m);if(!w)return;o.du.set(m,w.withResumeToken(vr.EMPTY_BYTE_STRING,w.snapshotVersion)),Zv(o,m);const C=new Yo(w.target,m,1,w.sequenceNumber);Jm(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield iy(n,r)}var r}),Gv.apply(this,arguments)}function iy(n,e,t){return PE.apply(this,arguments)}function PE(){return PE=(0,ye.Z)(function*(n,e,t){if(!$a(e))throw e;n._u.add(1),yield Ah(n),n.gu.set("Offline"),t||(t=()=>LD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Km(n)}))}),PE.apply(this,arguments)}function YD(n,e){return e().catch(t=>iy(n,t,e))}function $l(n){return qv.apply(this,arguments)}function qv(){return qv=(0,ye.Z)(function*(n){const e=qe(n),t=Xo(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;QD(e);)try{const o=yield VD(e.localStore,r);if(null===o){0===e.fu.length&&t.Fo();break}r=o.batchId,JD(e,o)}catch(o){yield iy(e,o)}XD(e)&&eT(e)}),qv.apply(this,arguments)}function QD(n){return eu(n)&&n.fu.length<10}function JD(n,e){n.fu.push(e);const t=Xo(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function XD(n){return eu(n)&&!Xo(n).No()&&n.fu.length>0}function eT(n){Xo(n).start()}function zA(n){return OE.apply(this,arguments)}function OE(){return OE=(0,ye.Z)(function*(n){Xo(n).eu()}),OE.apply(this,arguments)}function WA(n){return zv.apply(this,arguments)}function zv(){return zv=(0,ye.Z)(function*(n){const e=Xo(n);for(const t of n.fu)e.Xo(t.mutations)}),zv.apply(this,arguments)}function sy(n,e,t){return Wv.apply(this,arguments)}function Wv(){return Wv=(0,ye.Z)(function*(n,e,t){const r=n.fu.shift(),o=Fm.from(r,e,t);yield YD(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield $l(n)}),Wv.apply(this,arguments)}function tT(n,e){return oy.apply(this,arguments)}function oy(){return oy=(0,ye.Z)(function*(n,e){var t;e&&Xo(n).Yo&&(yield(t=(0,ye.Z)(function*(r,o){if(UI(u=o.code)&&u!==ne.ABORTED){const h=r.fu.shift();Xo(r).Oo(),yield YD(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield $l(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),XD(n)&&eT(n)}),oy.apply(this,arguments)}function cc(n,e){return ay.apply(this,arguments)}function ay(){return ay=(0,ye.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=eu(t);t._u.add(3),yield Ah(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Km(t)}),ay.apply(this,arguments)}function Cp(n,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,ye.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield Km(t)):e||(t._u.add(2),yield Ah(t),t.gu.set("Unknown"))}),Dp.apply(this,arguments)}function Sh(n){return n.pu||(n.pu=function(e,t,r){const o=qe(e);return o.su(),new GD(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:ty.bind(null,n),Zr:KD.bind(null,n),Wo:NE.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.pu.Oo(),ey(n)?Xm(n):n.gu.set("Unknown")):(yield n.pu.stop(),bp(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Xo(n){return n.Iu||(n.Iu=function(e,t,r){const o=qe(e);return o.su(),new qD(t,o.Vo,o.authCredentials,o.appCheckCredentials,o.It,r)}(n.datastore,n.asyncQueue,{Yr:zA.bind(null,n),Zr:tT.bind(null,n),tu:WA.bind(null,n),Zo:sy.bind(null,n)}),n.wu.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Iu.Oo(),yield $l(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class Tp{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,m=new Tp(e,t,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tu(n,e){if(Wn("AsyncQueue",`${e}: ${n}`),$a(n))return new xe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}class Ap{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=Nl(),this.sortedSet=new Kn(this.comparator)}static emptySet(e){return new Ap(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ap)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ap;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nT{constructor(){this.Tu=new Kn(He.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Xe():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sp{constructor(e,t,r,o,u,h,m,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Sp(e,t,Ap.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class KA{constructor(){this.Au=void 0,this.listeners=[]}}class kE{constructor(){this.queries=new qa(e=>K_(e),Tm),this.onlineState="Unknown",this.Ru=new Set}}function Kv(n,e){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new KA),o)try{u.Au=yield t.onListen(r)}catch(h){const m=tu(h,`Initialization of query '${fh(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&uy(t)}),Yv.apply(this,arguments)}function Qv(n,e){return Jv.apply(this,arguments)}function Jv(){return Jv=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),Jv.apply(this,arguments)}function FE(n,e){const t=qe(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const m of h.listeners)m.Pu(o)&&(r=!0);h.Au=o}}r&&uy(t)}function LE(n,e,t){const r=qe(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function uy(n){n.Ru.forEach(e=>{e.next()})}class Xv{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Sp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Sp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class rT{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class e0{constructor(e){this.It=e}Ji(e){return Wa(this.It,e)}Yi(e){return e.metadata.exists?KI(this.It,e.document,!1):In.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Rr(e)}}class t0{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iT(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Nt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new e0(this.It);for(const o of e)if(o.metadata.queries){const u=r.Ji(o.metadata.name);for(const h of o.metadata.queries){const m=(t.get(h)||Ot()).add(u);t.set(h,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function BD(n,e,t,r){return Ip.apply(this,arguments)}(e.localStore,new e0(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const o of e.queries)yield jD(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function iT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class n0{constructor(e){this.key=e}}class cy{constructor(e){this.key=e}}class VE{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Ot(),this.mutatedKeys=Ot(),this.Ku=Q_(e),this.Gu=new Ap(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new nT,o=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,R)=>{const j=o.get(S),Q=Y_(this.query,R)?R:null,oe=!!j&&this.mutatedKeys.has(j.key),Me=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Fe=!1;j&&Q?j.data.isEqual(Q.data)?oe!==Me&&(r.track({type:3,doc:Q}),Fe=!0):this.zu(j,Q)||(r.track({type:2,doc:Q}),Fe=!0,(w&&this.Ku(Q,w)>0||C&&this.Ku(Q,C)<0)&&(m=!0)):!j&&Q?(r.track({type:0,doc:Q}),Fe=!0):j&&!Q&&(r.track({type:1,doc:j}),Fe=!0,(w||C)&&(m=!0)),Fe&&(Q?(h=h.add(Q),u=Me?u.add(S):u.delete(S)):(h=h.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const S="F"===this.query.limitType?h.last():h.first();h=h.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Gu:h,Wu:r,$i:m,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((C,S)=>function(R,j){const Q=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return Q(R)-Q(j)}(C.type,S.type)||this.Ku(C.doc,S.doc)),this.Hu(r);const h=t?this.Ju():[],m=0===this.qu.size&&this.current?1:0,w=m!==this.Uu;return this.Uu=m,0!==u.length||w?{snapshot:new Sp(this.query,e.Gu,o,u,e.mutatedKeys,0===m,w,!1),Yu:h}:{Yu:h}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new nT,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Ot(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new cy(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new n0(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Ot();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Sp.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class sT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class YA{constructor(e){this.key=e,this.ec=!1}}class QA{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.nc={},this.sc=new qa(m=>K_(m),Tm),this.ic=new Map,this.rc=new Set,this.oc=new Kn(He.comparator),this.uc=new Map,this.cc=new bE,this.ac={},this.hc=new Map,this.lc=Eh.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function oT(n,e){return r0.apply(this,arguments)}function r0(){return r0=(0,ye.Z)(function*(n,e){const t=Np(n);let r,o;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.tc();else{const h=yield Dh(t.localStore,os(e));t.isPrimaryClient&&Hv(t.remoteStore,h);const m=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield s0(t,e,r,"current"===m)}return o}),r0.apply(this,arguments)}function s0(n,e,t,r){return UE.apply(this,arguments)}function UE(){return UE=(0,ye.Z)(function*(n,e,t,r){n.dc=(S,R,j)=>{return(Q=(0,ye.Z)(function*(oe,Me,Fe,wt){let Dt=Me.view.ju(Fe);Dt.$i&&(Dt=yield wp(oe.localStore,Me.query,!1).then(({documents:Pt})=>Me.view.ju(Pt,Dt)));const Vt=wt&&wt.targetChanges.get(Me.targetId),Mt=Me.view.applyChanges(Dt,oe.isPrimaryClient,Vt);return E(oe,Me.targetId,Mt.Yu),Mt.snapshot}),function(oe,Me,Fe,wt){return Q.apply(this,arguments)})(n,S,R,j);var Q};const o=yield wp(n.localStore,e,!0),u=new VE(e,o.Hi),h=u.ju(o.documents),m=ap.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=u.applyChanges(h,n.isPrimaryClient,m);E(n,t,w.Yu);const C=new sT(e,t,u);return n.sc.set(e,C),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),w.snapshot}),UE.apply(this,arguments)}function JA(n,e){return BE.apply(this,arguments)}function BE(){return BE=(0,ye.Z)(function*(n,e){const t=qe(n),r=t.sc.get(e),o=t.ic.get(r.targetId);if(o.length>1)return t.ic.set(r.targetId,o.filter(u=>!Tm(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),jl(t.remoteStore,r.targetId),_(t,r.targetId)}).catch(Ju))):(_(t,r.targetId),yield vp(t.localStore,r.targetId,!0))}),BE.apply(this,arguments)}function jE(){return jE=(0,ye.Z)(function*(n,e,t){const r=uT(n);try{const o=yield function(u,h){const m=qe(u),w=Qt.now(),C=h.reduce((j,Q)=>j.add(Q.key),Ot());let S,R;return m.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Q=Vi(),oe=Ot();return m.Gi.getEntries(j,C).next(Me=>{Q=Me,Q.forEach((Fe,wt)=>{wt.isValidDocument()||(oe=oe.add(Fe))})}).next(()=>m.localDocuments.getOverlayedDocuments(j,Q)).next(Me=>{S=Me;const Fe=[];for(const wt of h){const Dt=nD(wt,S.get(wt.key).overlayedDocument);null!=Dt&&Fe.push(new Ga(wt.key,Dt,zC(Dt.value.mapValue),An.exists(!0)))}return m.mutationQueue.addMutationBatch(j,w,Fe,h)}).next(Me=>{R=Me;const Fe=Me.applyToLocalDocumentSet(S,oe);return m.documentOverlayCache.saveOverlays(j,Me.batchId,Fe)})}).then(()=>({batchId:R.batchId,changes:xm(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,m){let w=u.ac[u.currentUser.toKey()];w||(w=new Kn(xt)),w=w.insert(h,m),u.ac[u.currentUser.toKey()]=w}(r,o.batchId,t),yield P(r,o.changes),yield $l(r.remoteStore)}catch(o){const u=tu(o,"Failed to persist write");t.reject(u)}}),jE.apply(this,arguments)}function $E(n,e){return HE.apply(this,arguments)}function HE(){return HE=(0,ye.Z)(function*(n,e){const t=qe(n);try{const r=yield qA(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.uc.get(u);h&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ec=!0:o.modifiedDocuments.size>0?bt(h.ec):o.removedDocuments.size>0&&(bt(h.ec),h.ec=!1))}),yield P(t,r,e)}catch(r){yield Ju(r)}}),HE.apply(this,arguments)}function aT(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.sc.forEach((u,h)=>{const m=h.view.bu(e);m.snapshot&&o.push(m.snapshot)}),function(u,h){const m=qe(u);m.onlineState=h;let w=!1;m.queries.forEach((C,S)=>{for(const R of S.listeners)R.bu(h)&&(w=!0)}),w&&uy(m)}(r.eventManager,e),o.length&&r.nc.Wo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eS(n,e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,ye.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.uc.get(e),u=o&&o.key;if(u){let h=new Kn(He.comparator);h=h.insert(u,In.newNoDocument(u,_t.min()));const m=Ot().add(u),w=new yh(_t.min(),new Map,new gn(xt),h,m);yield $E(r,w),r.oc=r.oc.remove(u),r.uc.delete(e),M(r)}else yield vp(r.localStore,e,!1).then(()=>_(r,e,t)).catch(Ju)}),ZE.apply(this,arguments)}function tS(n,e){return GE.apply(this,arguments)}function GE(){return GE=(0,ye.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const o=yield GA(t.localStore,e);p(t,r,null),d(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield P(t,o)}catch(o){yield Ju(o)}}),GE.apply(this,arguments)}function i(n,e,t){return s.apply(this,arguments)}function s(){return s=(0,ye.Z)(function*(n,e,t){const r=qe(n);try{const o=yield function(u,h){const m=qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let C;return m.mutationQueue.lookupMutationBatch(w,h).next(S=>(bt(null!==S),C=S.keys(),m.mutationQueue.removeMutationBatch(w,S))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,C,h)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,C)).next(()=>m.localDocuments.getDocuments(w,C))})}(r.localStore,e);p(r,e,t),d(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield P(r,o)}catch(o){yield Ju(o)}}),s.apply(this,arguments)}function c(){return c=(0,ye.Z)(function*(n,e){const t=qe(n);eu(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=qe(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.hc.get(r)||[];o.push(e),t.hc.set(r,o)}catch(r){const o=tu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),c.apply(this,arguments)}function d(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function p(n,e,t){const r=qe(n);let o=r.ac[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ac[r.currentUser.toKey()]=o}}function _(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||I(n,r)})}function I(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(jl(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),M(n))}function E(n,e,t){for(const r of t)r instanceof n0?(n.cc.addReference(r.key,e),T(n,r)):r instanceof cy?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||I(n,r.key)):Xe()}function T(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.rc.add(r),M(n))}function M(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new He(Nt.fromString(e)),r=n.lc.next();n.uc.set(r,new YA(t)),n.oc=n.oc.insert(t,r),Hv(n.remoteStore,new Yo(os(xl(t.path)),r,2,Li.at))}}function P(n,e,t){return Z.apply(this,arguments)}function Z(){return Z=(0,ye.Z)(function*(n,e,t){const r=qe(n),o=[],u=[],h=[];var m;r.sc.isEmpty()||(r.sc.forEach((m,w)=>{h.push(r.dc(w,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,C.fromCache?"not-current":"current"),o.push(C);const S=AE.Ci(w.targetId,C);u.push(S)}}))}),yield Promise.all(h),r.nc.Wo(o),yield(m=(0,ye.Z)(function*(w,C){const S=qe(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ae.forEach(C,j=>ae.forEach(j.Si,Q=>S.persistence.referenceDelegate.addReference(R,j.targetId,Q)).next(()=>ae.forEach(j.Di,Q=>S.persistence.referenceDelegate.removeReference(R,j.targetId,Q)))))}catch(R){if(!$a(R))throw R;Ne("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const j=R.targetId;if(!R.fromCache){const Q=S.Ui.get(j),Me=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);S.Ui=S.Ui.insert(j,Me)}}}),function(w,C){return m.apply(this,arguments)})(r.localStore,u))}),Z.apply(this,arguments)}function ee(n,e){return _e.apply(this,arguments)}function _e(){return _e=(0,ye.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield _p(t.localStore,e);t.currentUser=e,(o=t).hc.forEach(h=>{h.forEach(m=>{m.reject(new xe(ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield P(t,r.ji)}var o}),_e.apply(this,arguments)}function ke(n,e){const t=qe(n),r=t.uc.get(e);if(r&&r.ec)return Ot().add(r.key);{let o=Ot();const u=t.ic.get(e);if(!u)return o;for(const h of u){const m=t.sc.get(h);o=o.unionWith(m.view.Qu)}return o}}function Ze(n,e){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,ye.Z)(function*(n,e){const t=qe(n),r=yield wp(t.localStore,e.query,!0),o=e.view.Zu(r);return t.isPrimaryClient&&E(t,e.targetId,o.Yu),o}),Qe.apply(this,arguments)}function dt(n,e){return Te.apply(this,arguments)}function Te(){return Te=(0,ye.Z)(function*(n,e){const t=qe(n);return UD(t.localStore,e).then(r=>P(t,r))}),Te.apply(this,arguments)}function vt(n,e,t,r){return Jt.apply(this,arguments)}function Jt(){return Jt=(0,ye.Z)(function*(n,e,t,r){const o=qe(n),u=yield function(h,m){const w=qe(h),C=qe(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>C.Tn(S,m).next(R=>R?w.localDocuments.getDocuments(S,R):ae.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield $l(o.remoteStore):"acknowledged"===t||"rejected"===t?(p(o,e,r||null),d(o,e),m=e,qe(qe(o.localStore).mutationQueue).An(m)):Xe(),yield P(o,u)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jt.apply(this,arguments)}function nu(){return nu=(0,ye.Z)(function*(n,e){const t=qe(n);if(Np(t),uT(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield ly(t,r.toArray());t.fc=!0,yield Cp(t.remoteStore,!0);for(const u of o)Hv(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let o=Promise.resolve();t.ic.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(_(t,h),vp(t.localStore,h,!0))),jl(t.remoteStore,h)}),yield o,yield ly(t,r),function(u){const h=qe(u);h.uc.forEach((m,w)=>{jl(h.remoteStore,w)}),h.cc.fs(),h.uc=new Map,h.oc=new Kn(He.comparator)}(t),t.fc=!1,yield Cp(t.remoteStore,!1)}}),nu.apply(this,arguments)}function ly(n,e,t){return xp.apply(this,arguments)}function xp(){return xp=(0,ye.Z)(function*(n,e,t){const r=qe(n),o=[],u=[];for(const h of e){let m;const w=r.ic.get(h);if(w&&0!==w.length){m=yield Dh(r.localStore,os(w[0]));for(const C of w){const S=r.sc.get(C),R=yield Ze(r,S);R.snapshot&&u.push(R.snapshot)}}else{const C=yield kv(r.localStore,h);m=yield Dh(r.localStore,C),yield s0(r,dy(C),h,!1)}o.push(m)}return r.nc.Wo(u),o}),xp.apply(this,arguments)}function dy(n){return G_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function o0(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function a0(n,e,t,r){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,ye.Z)(function*(n,e,t,r){const o=qe(n);if(o.fc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const u=o.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield UD(o.localStore,TI(u[0])),m=yh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield P(o,h,m);break}case"rejected":yield vp(o.localStore,e,!0),_(o,e,r);break;default:Xe()}}),Mp.apply(this,arguments)}function u0(n,e,t){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,ye.Z)(function*(n,e,t){const r=Np(n);if(r.fc){for(const o of e){if(r.ic.has(o)){Ne("SyncEngine","Adding an already active target "+o);continue}const u=yield kv(r.localStore,o),h=yield Dh(r.localStore,u);yield s0(r,dy(u),h.targetId,!1),Hv(r.remoteStore,h)}for(const o of t)r.ic.has(o)&&(yield vp(r.localStore,o,!1).then(()=>{jl(r.remoteStore,o),_(r,o)}).catch(Ju))}}),Rp.apply(this,arguments)}function Np(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ke.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eS.bind(null,e),e.nc.Wo=FE.bind(null,e.eventManager),e.nc._c=LE.bind(null,e.eventManager),e}function uT(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i.bind(null,e),e}class nS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.It=as(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return SE(this.persistence,new kD,e.initialUser,this.It)}gc(e){return new OD(Ul.Bs,this.It)}mc(e){return new Vv}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rS extends nS{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield uT(r.Ec.syncEngine),yield $l(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return SE(this.persistence,new kD,e.initialUser,this.It)}Ic(e,t){return new _E(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new $C(t,this.persistence);return new cI(e.asyncQueue,r)}gc(e){const t=Zm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ui.withCacheSize(this.cacheSizeBytes):Ui.DEFAULT;return new yp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,jv(),Th(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Vv}}class JM extends rS{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.Ec.syncEngine;r.sharedClientState instanceof Wm&&(r.sharedClientState.syncEngine={Fr:vt.bind(null,o),$r:a0.bind(null,o),Br:u0.bind(null,o),vi:o0.bind(null,o),Or:dt.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,ye.Z)(function*(h){yield function Pn(n,e){return nu.apply(this,arguments)}(r.Ec.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start():h||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(h&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():h||r.indexBackfillerScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}mc(e){const t=jv();if(!Wm.C(t))throw new xe(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Zm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wm(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class cT{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>aT(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=ee.bind(null,r.syncEngine),yield Cp(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kE}createDatastore(e){const t=as(e.databaseInfo.databaseId),r=new uc(e.databaseInfo);return new zD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>aT(this.syncEngine,m,0),h=Uv.C()?new Uv:new $D,new RE(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,m,w,C){const S=new QA(r,o,u,h,m,w);return C&&(S.fc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=qe(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Ah(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function iS(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class XM{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Mr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),o=Number(r);isNaN(o)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(o);return new rT(JSON.parse(u),t.length+o)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ye.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class e1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xe(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,h){const m=qe(u),w=up(m.It)+"/documents",C={documents:h.map(Q=>vh(m.It,Q))},S=yield m.fo("BatchGetDocuments",w,C,h.length),R=new Map;S.forEach(Q=>{const oe=function cD(n,e){return"found"in e?function(t,r){bt(!!r.found);const o=Wa(t,r.found.name),u=Rr(r.found.updateTime),h=new Bt({mapValue:{fields:r.found.fields}});return In.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){bt(!!r.missing),bt(!!r.readTime);const o=Wa(t,r.missing),u=Rr(r.readTime);return In.newNoDocument(o,u)}(n,e):Xe()}(m.It,Q);R.set(oe.key.toString(),oe)});const j=[];return h.forEach(Q=>{const oe=R.get(Q.toString());bt(!!oe),j.push(oe)}),j}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=He.fromPath(o);e.mutations.push(new tv(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const h=qe(o),m=up(h.It)+"/documents",w={writes:u.map(C=>wh(h.It,C))};yield h.co("Commit",m,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new xe(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?An.exists(!1):An.updateTime(t):An.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new xe(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(t)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class t1{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new $v(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ye.Z)(function*(){const t=new e1(e.datastore),r=e.Mc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Oc(u)}))}).catch(o=>{e.Oc(o)})}))}Mc(e){try{const t=this.updateFunction(e);return!ah(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!UI(t)}return!1}}class n1{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=_r.UNAUTHENTICATED,this.clientId=F_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,ye.Z)(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Ne("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=tu(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function sS(n,e){return lT.apply(this,arguments)}function lT(){return lT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield _p(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),lT.apply(this,arguments)}function oS(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hT(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>cc(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>cc(e.remoteStore,u)),n.onlineComponents=e}),dT.apply(this,arguments)}function hT(n){return fT.apply(this,arguments)}function fT(){return fT=(0,ye.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield sS(n,new nS)),n.offlineComponents}),fT.apply(this,arguments)}function zE(n){return pT.apply(this,arguments)}function pT(){return pT=(0,ye.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield oS(n,new cT)),n.onlineComponents}),pT.apply(this,arguments)}function aS(n){return hT(n).then(e=>e.persistence)}function WE(n){return hT(n).then(e=>e.localStore)}function uS(n){return zE(n).then(e=>e.remoteStore)}function gT(n){return zE(n).then(e=>e.syncEngine)}function hy(n){return mT.apply(this,arguments)}function mT(){return mT=(0,ye.Z)(function*(n){const e=yield zE(n),t=e.eventManager;return t.onListen=oT.bind(null,e.syncEngine),t.onUnlisten=JA.bind(null,e.syncEngine),t}),mT.apply(this,arguments)}function cS(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,h,m,w){const C=new qE({next:R=>{u.enqueueAndForget(()=>Qv(o,S));const j=R.docs.has(h);!j&&R.fromCache?w.reject(new xe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&m&&"server"===m.source?w.reject(new xe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(R)},error:R=>w.reject(R)}),S=new Xv(xl(h.path),C,{includeMetadataChanges:!0,Nu:!0});return Kv(o,S)}(yield hy(n),n.asyncQueue,e,t,r)})),r.promise}function lS(n,e,t={}){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,h,m,w){const C=new qE({next:R=>{u.enqueueAndForget(()=>Qv(o,S)),R.fromCache&&"server"===m.source?w.reject(new xe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(R)},error:R=>w.reject(R)}),S=new Xv(h,C,{includeMetadataChanges:!0,Nu:!0});return Kv(o,S)}(yield hy(n),n.asyncQueue,e,t,r)})),r.promise}const dS=new Map;function yT(n,e,t){if(!t)throw new xe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hS(n,e,t,r){if(!0===e&&!0===r)throw new xe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fS(n){if(!He.isDocumentKey(n))throw new xe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pS(n){if(He.isDocumentKey(n))throw new xe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function KE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=KE(n);throw new xe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gS(n,e){if(e<=0)throw new xe(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class c0{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rI;switch(t.type){case"gapi":return new nh(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dS.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),dS.delete(e),t.terminate())}(this),Promise.resolve()}}class Un{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}}class ji{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class lc extends ji{constructor(e,t,r){super(e,t,xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new He(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function yS(n,e,...t){if(n=(0,tn.m9)(n),yT("collection","path",e),n instanceof c0){const r=Nt.fromString(e,...t);return pS(r),new lc(n,null,r)}{if(!(n instanceof Un||n instanceof lc))throw new xe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return pS(r),new lc(n.firestore,null,r)}}function YE(n,e,...t){if(n=(0,tn.m9)(n),1===arguments.length&&(e=F_.R()),yT("doc","path",e),n instanceof c0){const r=Nt.fromString(e,...t);return fS(r),new Un(n,null,new He(r))}{if(!(n instanceof Un||n instanceof lc))throw new xe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return fS(r),new Un(n.firestore,n instanceof lc?n.converter:null,new He(r))}}function _S(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),(n instanceof Un||n instanceof lc)&&(e instanceof Un||e instanceof lc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vS(n,e){return n=(0,tn.m9)(n),e=(0,tn.m9)(e),n instanceof ji&&e instanceof ji&&n.firestore===e.firestore&&Tm(n._query,e._query)&&n.converter===e.converter}class f1{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new $v(this,"async_queue_retry"),this.jc=()=>{const t=Th();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Th();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Th();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Mr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!$a(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Wn("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const o=Tp.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(o),o}Wc(){this.qc&&Xe()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function _T(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class p1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qn extends c0{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new f1,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wS(this),this._firestoreClient.terminate()}}function Pr(n){return n._firestoreClient||wS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fI(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new n1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function IS(n,e,t){const r=new Mr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield sS(n,t),yield oS(n,e),r.resolve()}catch(o){const u=o;if(!("FirebaseError"===(h=u).name?h.code===ne.FAILED_PRECONDITION||h.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;Qu("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var h})).then(()=>r.promise)}function ES(n){if(n._initialized||n._terminated)throw new xe(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(vr.fromBase64String(e))}catch(t){throw new xe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dc(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pp{constructor(e){this._methodName=e}}class QE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const C1=/^__.*__$/;class D1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new gh(e,this.data,t,this.fieldTransforms)}}class bS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class JE{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new JE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.oa(e),o}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.sa({path:r,ra:!1});return o.ea(),o}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return tb(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(CS(this.na)&&C1.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class T1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||as(e)}fa(e,t,r,o=!1){return new JE({na:e,methodName:t,la:r,path:nn.emptyPath(),ra:!1,ha:o},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Op(n){const e=n._freezeSettings(),t=as(n._databaseId);return new T1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function XE(n,e,t,r,o,u={}){const h=n.fa(u.merge||u.mergeFields?2:0,e,t,o);ET("Data must be an object, but it was:",h,r);const m=AS(r,h);let w,C;if(u.merge)w=new ss(h.fieldMask),C=h.fieldTransforms;else if(u.mergeFields){const S=[];for(const R of u.mergeFields){const j=bT(e,R,t);if(!h.contains(j))throw new xe(ne.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);xS(S,j)||S.push(j)}w=new ss(S),C=h.fieldTransforms.filter(R=>w.covers(R.field))}else w=null,C=h.fieldTransforms;return new D1(new Bt(m),w,C)}class l0 extends Pp{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof l0}}function DS(n,e,t){return new JE({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class vT extends Pp{_toFieldTransform(e){return new ip(e.path,new ph)}isEqual(e){return e instanceof vT}}class A1 extends Pp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=DS(this,e,!0),r=this.da.map(u=>kp(u,t)),o=new co(r);return new ip(e.path,o)}isEqual(e){return this===e}}class S1 extends Pp{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=DS(this,e,!0),r=this.da.map(u=>kp(u,t)),o=new ic(r);return new ip(e.path,o)}isEqual(e){return this===e}}class x1 extends Pp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Ml(e.It,xI(e.It,this._a));return new ip(e.path,t)}isEqual(e){return this===e}}function wT(n,e,t,r){const o=n.fa(1,e,t);ET("Data must be an object, but it was:",o,r);const u=[],h=Bt.empty();Tl(r,(w,C)=>{const S=eb(e,w,t);C=(0,tn.m9)(C);const R=o.ua(S);if(C instanceof l0)u.push(S);else{const j=kp(C,R);null!=j&&(u.push(S),h.set(S,j))}});const m=new ss(u);return new bS(h,m,o.fieldTransforms)}function IT(n,e,t,r,o,u){const h=n.fa(1,e,t),m=[bT(e,r,t)],w=[o];if(u.length%2!=0)throw new xe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)m.push(bT(e,u[j])),w.push(u[j+1]);const C=[],S=Bt.empty();for(let j=m.length-1;j>=0;--j)if(!xS(C,m[j])){const Q=m[j];let oe=w[j];oe=(0,tn.m9)(oe);const Me=h.ua(Q);if(oe instanceof l0)C.push(Q);else{const Fe=kp(oe,Me);null!=Fe&&(C.push(Q),S.set(Q,Fe))}}const R=new ss(C);return new bS(S,R,h.fieldTransforms)}function TS(n,e,t,r=!1){return kp(t,n.fa(r?4:3,e))}function kp(n,e){if(SS(n=(0,tn.m9)(n)))return ET("Unsupported field value:",e,n),AS(n,e);if(n instanceof Pp)return function(t,r){if(!CS(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let m=kp(h,r.ca(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,tn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xI(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Qt.fromDate(t);return{timestampValue:_h(r.It,o)}}if(t instanceof Qt){const o=new Qt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_h(r.It,o)}}if(t instanceof QE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dc)return{bytesValue:uv(r.It,t._byteString)};if(t instanceof Un){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${KE(t)}`)}(n,e)}function AS(n,e){const t={};return dI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tl(n,(r,o)=>{const u=kp(o,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function SS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qt||n instanceof QE||n instanceof dc||n instanceof Un||n instanceof Pp)}function ET(n,e,t){if(!SS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=KE(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function bT(n,e,t){if((e=(0,tn.m9)(e))instanceof Hl)return e._internalPath;if("string"==typeof e)return eb(n,e);throw tb("Field path arguments must be of type string or ",n,!1,void 0,t)}const M1=new RegExp("[~\\*/\\[\\]]");function eb(n,e,t){if(e.search(M1)>=0)throw tb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hl(...e.split("."))._internalPath}catch{throw tb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tb(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||h)&&(w+=" (found",u&&(w+=` in field ${r}`),h&&(w+=` in document ${o}`),w+=")"),new xe(ne.INVALID_ARGUMENT,m+n+w)}function xS(n,e){return n.some(t=>t.isEqual(e))}class d0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new R1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class R1 extends d0{data(){return super.data()}}function nb(n,e){return"string"==typeof e?eb(n,e):e instanceof Hl?e._internalPath:e._delegate._internalPath}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zl extends d0{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new h0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class h0 extends Zl{data(e={}){return super.data(e)}}class xh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Fp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new h0(this._firestore,this._userDataWriter,r.key,r,new Fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new h0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new h0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Fp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,C=-1;return 0!==h.type&&(w=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),C=u.indexOf(h.doc.key)),{type:N1(h.type),doc:m,oldIndex:w,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function N1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function MS(n,e){return n instanceof Zl&&e instanceof Zl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xh&&e instanceof xh&&n._firestore===e._firestore&&vS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function RS(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f0{}function Mh(n,...e){for(const t of e)n=t._apply(n);return n}class P1 extends f0{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=Op(e.firestore),r=function(o,u,h,m,w,C,S){let R;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){LS(S,C);const Q=[];for(const oe of S)Q.push(FS(m,o,oe));R={arrayValue:{values:Q}}}else R=FS(m,o,S)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||LS(S,C),R=TS(h,"where",S,"in"===C||"not-in"===C);const j=ir.create(w,C,R);return function(Q,oe){if(oe.dt()){const Fe=q_(Q);if(null!==Fe&&!Fe.isEqual(oe.field))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fe.toString()}' and '${oe.field.toString()}'`);const wt=Dm(Q);null!==wt&&VS(0,oe.field,wt)}const Me=function(Fe,wt){for(const Dt of Fe.filters)if(wt.indexOf(Dt.op)>=0)return Dt.op;return null}(Q,function(Fe){switch(Fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(oe.op));if(null!==Me)throw new xe(ne.INVALID_ARGUMENT,Me===oe.op?`Invalid query. You cannot use more than one '${oe.op.toString()}' filter.`:`Invalid query. You cannot use '${oe.op.toString()}' filters with '${Me.toString()}' filters.`)}(o,j),j}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ji(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new Wo(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class k1 extends f0{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new zo(o,u);return function(m,w){if(null===Dm(m)){const C=q_(m);null!==C&&VS(0,C,w.field)}}(r,h),h}(e._query,this.wa,this.ya);return new ji(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new Wo(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class NS extends f0{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new ji(e.firestore,e.converter,W_(e._query,this.pa,this.Ia))}}class PS extends f0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=kS(e,this.type,this.Ta,this.Ea);return new ji(e.firestore,e.converter,(o=t,new Wo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class OS extends f0{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=kS(e,this.type,this.Ta,this.Ea);return new ji(e.firestore,e.converter,(o=t,new Wo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function kS(n,e,t,r){if(t[0]=(0,tn.m9)(t[0]),t[0]instanceof d0)return function(o,u,h,m,w){if(!m)throw new xe(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const S of np(o))if(S.field.isKeyField())C.push(ch(u,m.key));else{const R=m.data.field(S.field);if(Im(R))throw new xe(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const j=S.field.canonicalString();throw new xe(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}C.push(R)}return new Vs(C,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Op(n.firestore);return function(u,h,m,w,C,S){const R=u.explicitOrderBy;if(C.length>R.length)throw new xe(ne.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let Q=0;Q<C.length;Q++){const oe=C[Q];if(R[Q].field.isKeyField()){if("string"!=typeof oe)throw new xe(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof oe}`);if(!z_(u)&&-1!==oe.indexOf("/"))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${oe}' contains a slash.`);const Me=u.path.child(Nt.fromString(oe));if(!He.isDocumentKey(Me))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const Fe=new He(Me);j.push(ch(h,Fe))}else{const Me=TS(m,w,oe);j.push(Me)}}return new Vs(j,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function FS(n,e,t){if("string"==typeof(t=(0,tn.m9)(t))){if(""===t)throw new xe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z_(e)&&-1!==t.indexOf("/"))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Nt.fromString(t));if(!He.isDocumentKey(r))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ch(n,new He(r))}if(t instanceof Un)return ch(n,t._key);throw new xe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${KE(t)}.`)}function LS(n,e){if(!Array.isArray(n)||0===n.length)throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xe(ne.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function VS(n,e,t){if(!t.isEqual(e))throw new xe(ne.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const H1={maxAttempts:5};class CT{convertValue(e,t="none"){switch(tc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Al(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return Tl(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new QE(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=H_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const t=ec(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nt.fromString(e);bt(dv(r));const o=new Ha(r.get(1),r.get(3)),u=new He(r.popFirst(5));return o.isEqual(t)||Wn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function rb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Z1 extends CT{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}class US{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Op(e)}set(e,t,r){this._verifyNotCommitted();const o=Rh(e,this._firestore),u=rb(o.converter,t,r),h=XE(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,An.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Rh(e,this._firestore);let h;return h="string"==typeof(t=(0,tn.m9)(t))||t instanceof Hl?IT(this._dataReader,"WriteBatch.update",u._key,t,r,o):wT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rh(e,this._firestore);return this._mutations=this._mutations.concat(new mh(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rh(n,e){if((n=(0,tn.m9)(n)).firestore!==e)throw new xe(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lp extends CT{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,t)}}function BS(n,e,t){n=Xt(n,Un);const r=Xt(n.firestore,Qn),o=rb(n.converter,e,t);return fy(r,[XE(Op(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,An.none())])}function jS(n,e,t,...r){n=Xt(n,Un);const o=Xt(n.firestore,Qn),u=Op(o);let h;return h="string"==typeof(e=(0,tn.m9)(e))||e instanceof Hl?IT(u,"updateDoc",n._key,e,t,r):wT(u,"updateDoc",n._key,e),fy(o,[h.toMutation(n._key,An.exists(!0))])}function $S(n,...e){var t,r,o;n=(0,tn.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||_T(e[h])||(u=e[h],h++);const m={includeMetadataChanges:u.includeMetadataChanges};if(_T(e[h])){const R=e[h];e[h]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[h+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[h+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let w,C,S;if(n instanceof Un)C=Xt(n.firestore,Qn),S=xl(n._key.path),w={next:R=>{e[h]&&e[h](DT(C,n,R))},error:e[h+1],complete:e[h+2]};else{const R=Xt(n,ji);C=Xt(R.firestore,Qn),S=R._query;const j=new Lp(C);w={next:Q=>{e[h]&&e[h](new xh(C,j,R,Q))},error:e[h+1],complete:e[h+2]},RS(n._query)}return function(R,j,Q,oe){const Me=new qE(oe),Fe=new Xv(j,Me,Q);return R.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Kv(yield hy(R),Fe)})),()=>{Me.Rc(),R.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return Qv(yield hy(R),Fe)}))}}(Pr(C),S,m,w)}function fy(n,e){return function(t,r){const o=new Mr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function XA(n,e,t){return jE.apply(this,arguments)}(yield gT(t),r,o)})),o.promise}(Pr(n),e)}function DT(n,e,t){const r=t.docs.get(e._key),o=new Lp(n);return new Zl(n,o,e._key,r,new Fp(t.hasPendingWrites,t.fromCache),e.converter)}class eR extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Op(e)}get(e){const t=Rh(e,this._firestore),r=new Z1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Xe();const u=o[0];if(u.isFoundDocument())return new d0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new d0(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const o=Rh(e,this._firestore),u=rb(o.converter,t,r),h=XE(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=Rh(e,this._firestore);let h;return h="string"==typeof(t=(0,tn.m9)(t))||t instanceof Hl?IT(this._dataReader,"Transaction.update",u._key,t,r,o):wT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=Rh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rh(e,this._firestore),r=new Lp(this._firestore);return super.get(e).then(o=>new Zl(this._firestore,r,t._key,o._document,new Fp(!1,!1),t.converter))}}function TT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function ZS(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function GS(){if(!function HC(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){bl=ol.SDK_VERSION,(0,ol._registerComponent)(new Bd.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const u=t.getProvider("app").getImmediate(),h=new Qn(new iI(t.getProvider("auth-internal")),new VC(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(m.options.projectId,w)}(u,r),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),(0,ol.registerVersion)(fm,"3.5.0",n),(0,ol.registerVersion)(fm,"3.5.0","esm2017")}();class p0{constructor(e){this._delegate=e}static fromBase64String(e){return GS(),new p0(dc.fromBase64String(e))}static fromUint8Array(e){return ZS(),new p0(dc.fromUint8Array(e))}toBase64(){return GS(),this._delegate.toBase64()}toUint8Array(){return ZS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AT(n){return function cR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class lR{enableIndexedDbPersistence(e,t){return function m1(n,e){ES(n=Xt(n,Qn));const t=Pr(n),r=n._freezeSettings(),o=new cT;return IS(t,o,new rS(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function y1(n){ES(n=Xt(n,Qn));const e=Pr(n),t=n._freezeSettings(),r=new cT;return IS(e,r,new JM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function _1(n){if(n._initialized&&!n._terminated)throw new xe(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Fi.C())return Promise.resolve();const o=r+"main";yield Fi.delete(o)}),function(r){return t.apply(this,arguments)})(Zm(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class qS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ha||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function d1(n,e,t,r={}){var o;const u=(n=Xt(n,c0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Qu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=_r.MOCK_USER;else{h=(0,tn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new xe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new _r(w)}n._authCredentials=new LC(new nI(h,m))}}(this._delegate,e,t,r)}enableNetwork(){return function w1(n){return function r1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield aS(n),t=yield uS(n);return e.setNetworkEnabled(!0),function(r){const o=qe(r);return o._u.delete(0),Km(o)}(t)}))}(Pr(n=Xt(n,Qn)))}(this._delegate)}disableNetwork(){return function I1(n){return function i1(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield aS(n),t=yield uS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=qe(o);u._u.add(0),yield Ah(u),u.gu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Pr(n=Xt(n,Qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function v1(n){return function(e){const t=new Mr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function a(n,e){return c.apply(this,arguments)}(yield gT(e),t)})),t.promise}(Pr(n=Xt(n,Qn)))}(this._delegate)}onSnapshotsInSync(e){return function X1(n,e){return function a1(n,e){const t=new qE(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield hy(n),o=t,qe(r).Ru.add(o),void o.next();var r,o})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield hy(n),o=t,void qe(r).Ru.delete(o);var r,o}))}}(Pr(n=Xt(n,Qn)),_T(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new py(this,yS(this._delegate,e))}catch(t){throw us(t,"collection()","Firestore.collection()")}}doc(e){try{return new ea(this,YE(this._delegate,e))}catch(t){throw us(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new cs(this,function h1(n,e){if(n=Xt(n,c0),yT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ji(n,null,(t=e,new Wo(Nt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw us(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function tR(n,e,t){n=Xt(n,Qn);const r=Object.assign(Object.assign({},H1),t);return function(o){if(o.maxAttempts<1)throw new xe(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function u1(n,e,t){const r=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const o=yield(u=n,zE(u).then(h=>h.datastore));var u;new t1(n.asyncQueue,o,t,e,r).run()})),r.promise}(Pr(n),o=>e(new eR(n,o)),r)}(this._delegate,t=>e(new zS(this,t)))}batch(){return Pr(this._delegate),new WS(new US(this._delegate,e=>fy(this._delegate,e)))}loadBundle(e){return function E1(n,e){const t=Pr(n=Xt(n,Qn)),r=new p1;return function c1(n,e,t,r){const o=function(u,h){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,C){if(w instanceof Uint8Array)return iS(w,C);if(w instanceof ArrayBuffer)return iS(new Uint8Array(w),C);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new XM(w,h);var w}(t,as(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function QM(n,e,t){const r=qe(n);var o;(o=(0,ye.Z)(function*(u,h,m){try{const w=yield h.getMetadata();if(yield function(j,Q){const oe=qe(j),Me=Rr(Q.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",Fe=>oe.Ns.getBundleMetadata(Fe,Q.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Me)>=0)}(u.localStore,w))return yield h.close(),m._completeWith({taskState:"Success",documentsLoaded:(j=w).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);m._updateProgress(iT(w));const C=new t0(w,u.localStore,h.It);let S=yield h.wc();for(;S;){const j=yield C.Ou(S);j&&m._updateProgress(j),S=yield h.wc()}const R=yield C.complete();return yield P(u,R.Bu,void 0),yield function(j,Q){const oe=qe(j);return oe.persistence.runTransaction("Save bundle","readwrite",Me=>oe.Ns.saveBundleMetadata(Me,Q))}(u.localStore,w),m._completeWith(R.progress),Promise.resolve(R.$u)}catch(w){return Qu("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var j}),function(u,h,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield gT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function b1(n,e){return function l1(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=qe(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ns.getNamedQuery(u,r))}(yield WE(n),e)}))}(Pr(n=Xt(n,Qn)),e).then(t=>t?new ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new cs(this,t):null)}}class ib extends CT{constructor(e){super(),this.firestore=e}convertBytes(e){return new p0(new dc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ea.forKey(t,this.firestore,null)}}class zS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ib(e)}get(e){const t=Up(e);return this._delegate.get(t).then(r=>new g0(this._firestore,new Zl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Up(e);return r?(TT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Up(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}}class WS{constructor(e){this._delegate=e}set(e,t,r){const o=Up(e);return r?(TT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Up(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Up(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new h0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new m0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Vp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Vp(e,new ib(e),t),o.set(t,u)),u}}Vp.INSTANCES=new WeakMap;class ea{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ib(e)}static forPath(e,t,r){if(e.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ea(t,new Un(t._delegate,r,new He(e)))}static forKey(e,t,r){return new ea(t,new Un(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new py(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new py(this.firestore,yS(this._delegate,e))}catch(t){throw us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,tn.m9)(e))instanceof Un&&_S(this._delegate,e)}set(e,t){t=TT("DocumentReference.set",t);try{return t?BS(this._delegate,e,t):BS(this._delegate,e)}catch(r){throw us(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?jS(this._delegate,e):jS(this._delegate,e,t,...r)}catch(o){throw us(o,"updateDoc()","DocumentReference.update()")}}delete(){return function Q1(n){return fy(Xt(n.firestore,Qn),[new mh(n._key,An.none())])}(this._delegate)}onSnapshot(...e){const t=KS(e),r=YS(e,o=>new g0(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return $S(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function q1(n){n=Xt(n,Un);const e=Xt(n.firestore,Qn),t=Pr(e),r=new Lp(e);return function s1(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,h){try{const m=yield function(w,C){const S=qe(w);return S.persistence.runTransaction("read document","readonly",R=>S.localDocuments.getDocument(R,C))}(o,u);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new xe(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=tu(m,`Failed to get document '${u} from cache`);h.reject(w)}}),function(o,u,h){return r.apply(this,arguments)})(yield WE(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Zl(e,r,n._key,o,new Fp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function z1(n){n=Xt(n,Un);const e=Xt(n.firestore,Qn);return cS(Pr(e),n._key,{source:"server"}).then(t=>DT(e,n,t))}(this._delegate):function G1(n){n=Xt(n,Un);const e=Xt(n.firestore,Qn);return cS(Pr(e),n._key).then(t=>DT(e,n,t))}(this._delegate),t.then(r=>new g0(this.firestore,new Zl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ea(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function us(n,e,t){return n.message=n.message.replace(e,t),n}function KS(n){for(const e of n)if("object"==typeof e&&!AT(e))return e;return{}}function YS(n,e){var t,r;let o;return o=AT(n[0])?n[0]:AT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class g0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MS(this._delegate,e._delegate)}}class m0 extends g0{data(e){const t=this._delegate.data(e);return function tI(n,e){n||Xe()}(void 0!==t),t}}class cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ib(e)}where(e,t,r){try{return new cs(this.firestore,Mh(this._delegate,function O1(n,e,t){const r=e,o=nb("where",n);return new P1(o,r,t)}(e,t,r)))}catch(o){throw us(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new cs(this.firestore,Mh(this._delegate,function F1(n,e="asc"){const t=e,r=nb("orderBy",n);return new k1(r,t)}(e,t)))}catch(r){throw us(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new cs(this.firestore,Mh(this._delegate,function L1(n){return gS("limit",n),new NS("limit",n,"F")}(e)))}catch(t){throw us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new cs(this.firestore,Mh(this._delegate,function V1(n){return gS("limitToLast",n),new NS("limitToLast",n,"L")}(e)))}catch(t){throw us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new cs(this.firestore,Mh(this._delegate,function U1(...n){return new PS("startAt",n,!0)}(...e)))}catch(t){throw us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new cs(this.firestore,Mh(this._delegate,function B1(...n){return new PS("startAfter",n,!1)}(...e)))}catch(t){throw us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new cs(this.firestore,Mh(this._delegate,function j1(...n){return new OS("endBefore",n,!1)}(...e)))}catch(t){throw us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new cs(this.firestore,Mh(this._delegate,function $1(...n){return new OS("endAt",n,!0)}(...e)))}catch(t){throw us(t,"endAt()","Query.endAt()")}}isEqual(e){return vS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function K1(n){n=Xt(n,ji);const e=Xt(n.firestore,Qn),t=Pr(e),r=new Lp(e);return function o1(n,e){const t=new Mr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,h){try{const m=yield wp(o,u,!0),w=new VE(u,m.Hi),C=w.ju(m.documents),S=w.applyChanges(C,!1);h.resolve(S.snapshot)}catch(m){const w=tu(m,`Failed to execute query '${u} against cache`);h.reject(w)}}),function(o,u,h){return r.apply(this,arguments)})(yield WE(n),e,t);var r})),t.promise}(t,n._query).then(o=>new xh(e,r,n,o))}(this._delegate):"server"===e?.source?function Y1(n){n=Xt(n,ji);const e=Xt(n.firestore,Qn),t=Pr(e),r=new Lp(e);return lS(t,n._query,{source:"server"}).then(o=>new xh(e,r,n,o))}(this._delegate):function W1(n){n=Xt(n,ji);const e=Xt(n.firestore,Qn),t=Pr(e),r=new Lp(e);return RS(n._query),lS(t,n._query).then(o=>new xh(e,r,n,o))}(this._delegate),t.then(r=>new ST(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=KS(e),r=YS(e,o=>new ST(this.firestore,new xh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return $S(this._delegate,t,r)}withConverter(e){return new cs(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class hR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new m0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ST{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new m0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new hR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new m0(this._firestore,r))})}isEqual(e){return MS(this._delegate,e._delegate)}}class py extends cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ea(this.firestore,e):null}doc(e){try{return new ea(this.firestore,void 0===e?YE(this._delegate):YE(this._delegate,e))}catch(t){throw us(t,"doc()","CollectionReference.doc()")}}add(e){return function J1(n,e){const t=Xt(n.firestore,Qn),r=YE(n),o=rb(n.converter,e);return fy(t,[XE(Op(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ea(this.firestore,t))}isEqual(e){return _S(this._delegate,e._delegate)}withConverter(e){return new py(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Up(n){return Xt(n,Un)}class xT{constructor(...e){this._delegate=new Hl(...e)}static documentId(){return new xT(nn.keyField().canonicalString())}isEqual(e){return(e=(0,tn.m9)(e))instanceof Hl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function rR(){return new vT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=function nR(){return new l0("deleteField")}();return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function iR(...n){return new A1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function sR(...n){return new S1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function oR(n){return new x1("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const fR={Firestore:qS,GeoPoint:QE,Timestamp:Qt,Blob:p0,Transaction:zS,WriteBatch:WS,DocumentReference:ea,DocumentSnapshot:g0,Query:cs,QueryDocumentSnapshot:m0,QuerySnapshot:ST,CollectionReference:py,FieldPath:xT,FieldValue:Bp,setLogLevel:function dR(n){!function Xw(n){Ba.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function gR(n){(function pR(n,e){n.INTERNAL.registerComponent(new Bd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},fR)))})(n,(e,t)=>new qS(e,t,new lR)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(pw.Z);var mR=k(6451),sb=k(5363),yR=k(6063);class _R extends Qr.x{constructor(e=1/0,t=1/0,r=yR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=h;w+=2)m=w;m&&r.splice(0,m+1)}}}var vR=k(3099);function QS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,vR.B)({connector:()=>new _R(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function JS(n,e){return(0,Po.m)(e)?Vn(()=>n,e):Vn(()=>n)}var MT=k(9468);k(5867);const ex=new Map,CR={activated:!1,tokenObservers:[]},DR={initialized:!1,enabled:!1};function si(n){return ex.get(n)||CR}function ru(n,e){ex.set(n,e)}function ab(){return DR}class MR{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new tn.BH,yield function RR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new tn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ls=new tn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nx(n){if(!si(n).activated)throw ls.create("use-before-activation",{appName:n.name})}function OT(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,ye.Z)(function*({url:n,body:e},t){var r,o;const u={"Content-Type":"application/json"},h=t.getImmediate({optional:!0});if(h){const Q=yield h.getHeartbeatsHeader();Q&&(u["X-Firebase-Client"]=Q)}const m={method:"POST",body:JSON.stringify(e),headers:u};let w,C;try{w=yield fetch(n,m)}catch(Q){throw ls.create("fetch-network-error",{originalErrorMessage:null===(r=Q)||void 0===r?void 0:r.message})}if(200!==w.status)throw ls.create("fetch-status-error",{httpStatus:w.status});try{C=yield w.json()}catch(Q){throw ls.create("fetch-parse-error",{originalErrorMessage:null===(o=Q)||void 0===o?void 0:o.message})}const S=C.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const R=1e3*Number(S[1]),j=Date.now();return{token:C.token,expireTimeMillis:j+R,issuedAtTimeMillis:j}}),kT.apply(this,arguments)}function kR(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const y0="firebase-app-check-store";let lb=null;function ix(){return lb||(lb=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var u;e(ls.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(y0,{keyPath:"compositeKey"})}}catch(r){e(ls.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),lb)}function FT(){return FT=(0,ye.Z)(function*(n,e){const r=(yield ix()).transaction(y0,"readwrite"),u=r.objectStore(y0).put({compositeKey:n,value:e});return new Promise((h,m)=>{u.onsuccess=w=>{h()},r.onerror=w=>{var C;m(ls.create("storage-set",{originalErrorMessage:null===(C=w.target.error)||void 0===C?void 0:C.message}))}})}),FT.apply(this,arguments)}const _0=new $o.Yd("@firebase/app-check");function ux(n,e){return(0,tn.hl)()?function UR(n,e){return function sx(n,e){return FT.apply(this,arguments)}(function ax(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{_0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function cx(){return ab().enabled}function lx(){return BT.apply(this,arguments)}function BT(){return BT=(0,ye.Z)(function*(){const n=ab();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),BT.apply(this,arguments)}const GR={error:"UNKNOWN_ERROR"};function qR(n){return tn.US.encodeString(JSON.stringify(n),!1)}function db(n){return jT.apply(this,arguments)}function jT(){return jT=(0,ye.Z)(function*(n,e=!1){const t=n.app;nx(t);const r=si(t);let u,o=r.token;if(!o){const w=yield r.cachedTokenPromise;w&&hb(w)&&(o=w)}if(!e&&o&&hb(o))return{token:o.token};let m,h=!1;if(cx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=OT(kR(t,yield lx()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),h=!0);const w=yield r.exchangeTokenPromise;return yield ux(t,w),ru(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),h=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?_0.warn(w.message):_0.error(w),u=w}return o?(m={token:o.token},ru(t,Object.assign(Object.assign({},r),{token:o})),yield ux(t,o)):m=WR(u),h&&hx(t,m),m}),jT.apply(this,arguments)}function HT(n,e){const t=si(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ru(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function dx(n){const{app:e}=n,t=si(e);let r=t.tokenRefresher;r||(r=function zR(n){const{app:e}=n;return new MR((0,ye.Z)(function*(){let r;if(r=si(e).token?yield db(n,!0):yield db(n),r.error)throw r.error}),()=>!0,()=>{const t=si(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ru(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function hx(n,e){const t=si(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function hb(n){return n.expireTimeMillis-Date.now()>0}function WR(n){return{token:qR(GR),error:n}}class KR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)HT(this.app,t.next);return Promise.resolve()}}const wx="app-check-internal";!function cN(){(0,ol._registerComponent)(new Bd.wA("app-check",n=>function YR(n,e){return new KR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wx).initialize()})),(0,ol._registerComponent)(new Bd.wA(wx,n=>function QR(n){return{getToken:e=>db(n,e),addTokenListener:e=>function $T(n,e,t,r){const{app:o}=n,u=si(o),h={next:t,error:r,type:e};if(ru(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&hb(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),dx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>dx(n))}(n,"INTERNAL",e),removeTokenListener:e=>HT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ol.registerVersion)("@firebase/app-check","0.5.12")}();class zT{constructor(){return(0,Sr.vb)("app-check")}}typeof window<"u"&&window;var Ex=k(127);const bx=new l.OlP("angularfire2.auth.use-emulator"),Cx=new l.OlP("angularfire2.auth.settings"),Dx=new l.OlP("angularfire2.auth.tenant-id"),Tx=new l.OlP("angularfire2.auth.langugage-code"),Ax=new l.OlP("angularfire2.auth.use-device-language"),Sx=new l.OlP("angularfire.auth.persistence"),xx=(n,e,t,r,o,u,h,m)=>(0,jo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),h)for(const[C,S]of Object.entries(h))w.settings[C]=S;return m&&w.setPersistence(m),w},[t,r,o,u,h,m]);let KT=(()=>{class n{constructor(t,r,o,u,h,m,w,C,S,R,j,Q){const oe=new Qr.x,Me=nt(void 0).pipe((0,sb.Q)(h.outsideAngular),Vn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2476)))),(0,rt.U)(()=>(0,jo.on)(t,u,r)),(0,rt.U)(Fe=>xx(Fe,u,m,C,S,R,w,j)),QS({bufferSize:1,refCount:!1}));if(ar(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{Me.pipe(re()).subscribe();const wt=Me.pipe(Vn(Mt=>Mt.getRedirectResult().then(Pt=>Pt,()=>null)),Sr.iC,QS({bufferSize:1,refCount:!1})),Dt=Me.pipe(Vn(Mt=>new Dr.y(Pt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onAuthStateChanged(Ht=>Pt.next(Ht),Ht=>Pt.error(Ht),()=>Pt.complete()))})))),Vt=Me.pipe(Vn(Mt=>new Dr.y(Pt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onIdTokenChanged(Ht=>Pt.next(Ht),Ht=>Pt.error(Ht),()=>Pt.complete()))}))));this.authState=wt.pipe(JS(Dt),(0,MT.R)(h.outsideAngular),(0,sb.Q)(h.insideAngular)),this.user=wt.pipe(JS(Vt),(0,MT.R)(h.outsideAngular),(0,sb.Q)(h.insideAngular)),this.idToken=this.user.pipe(Vn(Mt=>Mt?(0,on.D)(Mt.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(Vn(Mt=>Mt?(0,on.D)(Mt.getIdTokenResult()):nt(null))),this.credential=(0,mR.T)(wt,oe,this.authState.pipe(b(Mt=>!Mt))).pipe((0,rt.U)(Mt=>Mt?.user?Mt:null),(0,MT.R)(h.outsideAngular),(0,sb.Q)(h.insideAngular))}return(0,jo.pX)(this,Me,u,{spy:{apply:(Fe,wt,Dt)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&Dt.then(Vt=>oe.next(Vt))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jo.Dh),l.LFG(jo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Sr.HU),l.LFG(bx,8),l.LFG(Cx,8),l.LFG(Dx,8),l.LFG(Tx,8),l.LFG(Ax,8),l.LFG(Sx,8),l.LFG(zT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gN=(()=>{class n{constructor(){Ex.Z.registerVersion("angularfire",Sr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KT]}),n})();function Mx(n,e){return function mN(n,e=fw.z){return new Dr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function YT(n,e){return Mx(n,e).pipe((0,rt.U)(t=>({payload:t,type:"query"})))}function pb(n,e){return YT(n,e).pipe(Lu(void 0),kg(),(0,rt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const w=o.find(S=>S.doc.ref.isEqual(h.ref)),C=t?.payload.docs.find(S=>S.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),u}))}function Rx(n,e,t){return pb(n,t).pipe(It((r,o)=>function _N(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function vN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return QT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return QT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return QT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function sC(n,e=Ds.y){return n=n??oC,(0,pr.e)((t,r)=>{let o,u=!0;t.subscribe((0,Gn.x)(r,h=>{const m=e(h);(u||!n(o,m))&&(u=!1,o=m,r.next(h))}))})}(),(0,rt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function QT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function Nx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Px{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=pb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,rt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Lu(void 0),kg(),b(([r,o])=>o.length>0||!r),(0,rt.U)(([r,o])=>o),Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(It((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Nx(e);return Rx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return YT(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sr.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Sr.iC)}add(e){return this.ref.add(e)}doc(e){return new Ox(this.ref.doc(e),this.afs)}}class Ox{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Lx(r,t);return new Px(o,u,this.afs)}snapshotChanges(){return function yN(n,e){return Mx(n,e).pipe(Lu(void 0),kg(),(0,rt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(Sr.iC)}}class wN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?pb(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),b(t=>t.length>0),Sr.iC):pb(this.query,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}auditTrail(e){return this.stateChanges(e).pipe(It((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Nx(e);return Rx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sr.iC)}valueChanges(e={}){return YT(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Sr.iC)}get(e){return(0,on.D)(this.query.get(e)).pipe(Sr.iC)}}const kx=new l.OlP("angularfire2.enableFirestorePersistence"),Fx=new l.OlP("angularfire2.firestore.persistenceSettings"),IN=new l.OlP("angularfire2.firestore.settings"),EN=new l.OlP("angularfire2.firestore.use-emulator");function Lx(n,e=(t=>t)){return{query:e(n),ref:n}}let Vx=(()=>{class n{constructor(t,r,o,u,h,m,w,C,S,R,j,Q,oe,Me,Fe,wt,Dt){this.schedulers=w;const Vt=(0,jo.on)(t,m,r),Mt=S;R&&xx(Vt,m,j,oe,Me,Fe,Q,wt),[this.firestore,this.persistenceEnabled$]=(0,jo.cc)(`${Vt.name}.firestore`,"AngularFirestore",Vt.name,()=>{const Pt=m.runOutsideAngular(()=>Vt.firestore());if(u&&Pt.settings(u),Mt&&Pt.useEmulator(...Mt),o&&!ar(h)){const Ht=()=>{try{return(0,on.D)(Pt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Gr){return typeof console<"u"&&console.warn(Gr),nt(!1)}};return[Pt,m.runOutsideAngular(Ht)]}return[Pt,nt(!1)]},[u,Mt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=Lx(o,r),m=this.schedulers.ngZone.run(()=>u);return new Px(m,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new wN(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Ox(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jo.Dh),l.LFG(jo.xv,8),l.LFG(kx,8),l.LFG(IN,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Sr.HU),l.LFG(Fx,8),l.LFG(EN,8),l.LFG(KT,8),l.LFG(bx,8),l.LFG(Cx,8),l.LFG(Dx,8),l.LFG(Tx,8),l.LFG(Ax,8),l.LFG(Sx,8),l.LFG(zT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),bN=(()=>{class n{constructor(){Ex.Z.registerVersion("angularfire",Sr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:kx,useValue:!0},{provide:Fx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Vx]}),n})(),JT=(()=>{class n{constructor(t){this.angularFirestore=t}getPosts(){return this.angularFirestore.collection("Coches").snapshotChanges()}getPostById(t){return this.angularFirestore.collection("Coches").doc(t).valueChanges()}createPost(t){return new Promise((r,o)=>{this.angularFirestore.collection("Coches").add(t).then(u=>{console.log(u)},u=>{o(u)})})}updatePost(t,r){return this.angularFirestore.collection("Coches").doc(r).update({imagen:t.imagen,marca:t.marca,modelo:t.modelo,motor:t.motor,anyo:t.anyo,categoria:t.categoria})}deletePost(t){return this.angularFirestore.collection("Coches").doc(t.id).delete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",12),l.NdJ("keyup.enter",function(){l.CHM(t),l.oxw(3);const o=l.MAs(1);return l.KtG(o.previous())})("click",function(){l.CHM(t),l.oxw(3);const o=l.MAs(1);return l.KtG(o.previous())}),l._uU(1),l.TgZ(2,"span",13),l._uU(3),l.qZA()()}if(2&n){const t=l.oxw(3);l.xp6(1),l.hij(" ",t.previousLabel," "),l.xp6(2),l.Oqu(t.screenReaderPageLabel)}}function DN(n,e){if(1&n&&(l.TgZ(0,"span",14),l._uU(1),l.TgZ(2,"span",13),l._uU(3),l.qZA()()),2&n){const t=l.oxw(3);l.xp6(1),l.hij(" ",t.previousLabel," "),l.xp6(2),l.Oqu(t.screenReaderPageLabel)}}function TN(n,e){if(1&n&&(l.TgZ(0,"li",9),l.YNc(1,CN,4,2,"a",10),l.YNc(2,DN,4,2,"span",11),l.qZA()),2&n){l.oxw(2);const t=l.MAs(1);l.ekj("disabled",t.isFirstPage()),l.xp6(1),l.Q6J("ngIf",1<t.getCurrent()),l.xp6(1),l.Q6J("ngIf",t.isFirstPage())}}function AN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",12),l.NdJ("keyup.enter",function(){l.CHM(t);const o=l.oxw().$implicit;l.oxw(2);const u=l.MAs(1);return l.KtG(u.setCurrent(o.value))})("click",function(){l.CHM(t);const o=l.oxw().$implicit;l.oxw(2);const u=l.MAs(1);return l.KtG(u.setCurrent(o.value))}),l.TgZ(1,"span",13),l._uU(2),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.ALo(5,"number"),l.qZA()()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(2),l.hij("",r.screenReaderPageLabel," "),l.xp6(2),l.Oqu("..."===t.label?t.label:l.xi3(5,2,t.label,""))}}function SN(n,e){if(1&n&&(l.ynx(0),l.TgZ(1,"span",16)(2,"span",13),l._uU(3),l.qZA(),l.TgZ(4,"span"),l._uU(5),l.ALo(6,"number"),l.qZA()(),l.BQk()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(3),l.hij("",r.screenReaderCurrentLabel," "),l.xp6(2),l.Oqu("..."===t.label?t.label:l.xi3(6,2,t.label,""))}}function xN(n,e){if(1&n&&(l.TgZ(0,"li"),l.YNc(1,AN,6,5,"a",10),l.YNc(2,SN,7,5,"ng-container",15),l.qZA()),2&n){const t=e.$implicit;l.oxw(2);const r=l.MAs(1);l.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),l.xp6(1),l.Q6J("ngIf",r.getCurrent()!==t.value),l.xp6(1),l.Q6J("ngIf",r.getCurrent()===t.value)}}function MN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",12),l.NdJ("keyup.enter",function(){l.CHM(t),l.oxw(3);const o=l.MAs(1);return l.KtG(o.next())})("click",function(){l.CHM(t),l.oxw(3);const o=l.MAs(1);return l.KtG(o.next())}),l._uU(1),l.TgZ(2,"span",13),l._uU(3),l.qZA()()}if(2&n){const t=l.oxw(3);l.xp6(1),l.hij(" ",t.nextLabel," "),l.xp6(2),l.Oqu(t.screenReaderPageLabel)}}function RN(n,e){if(1&n&&(l.TgZ(0,"span",14),l._uU(1),l.TgZ(2,"span",13),l._uU(3),l.qZA()()),2&n){const t=l.oxw(3);l.xp6(1),l.hij(" ",t.nextLabel," "),l.xp6(2),l.Oqu(t.screenReaderPageLabel)}}function NN(n,e){if(1&n&&(l.TgZ(0,"li",17),l.YNc(1,MN,4,2,"a",10),l.YNc(2,RN,4,2,"span",11),l.qZA()),2&n){l.oxw(2);const t=l.MAs(1);l.ekj("disabled",t.isLastPage()),l.xp6(1),l.Q6J("ngIf",!t.isLastPage()),l.xp6(1),l.Q6J("ngIf",t.isLastPage())}}function PN(n,e){if(1&n&&(l.TgZ(0,"ul",4),l.YNc(1,TN,3,4,"li",5),l.TgZ(2,"li",6),l._uU(3),l.qZA(),l.YNc(4,xN,3,6,"li",7),l.YNc(5,NN,3,4,"li",8),l.qZA()),2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("responsive",t.responsive),l.xp6(1),l.Q6J("ngIf",t.directionLinks),l.xp6(2),l.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),l.xp6(1),l.Q6J("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),l.xp6(1),l.Q6J("ngIf",t.directionLinks)}}class XT{constructor(){this.change=new l.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}}const ON=Number.MAX_SAFE_INTEGER;let kN=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,r){if(!(t instanceof Array)){let R=r.id||this.service.defaultId();return this.state[R]?this.state[R].slice:t}let m,w,o=r.totalItems&&r.totalItems!==t.length,u=this.createInstance(t,r),h=u.id,C=u.itemsPerPage,S=this.service.register(u);if(!o&&t instanceof Array){if(C=+C||ON,m=(u.currentPage-1)*C,w=m+C,this.stateIsIdentical(h,t,m,w))return this.state[h].slice;{let j=t.slice(m,w);return this.saveState(h,t,j,m,w),this.service.change.emit(h),j}}return S&&this.service.change.emit(h),this.saveState(h,t,t,m,w),t}createInstance(t,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||t.length}}checkConfig(t){const o=["itemsPerPage","currentPage"].filter(u=>!(u in t));if(0<o.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${o.join(", ")}`)}saveState(t,r,o,u,h){this.state[t]={collection:r,size:r.length,slice:o,start:u,end:h}}stateIsIdentical(t,r,o,u){let h=this.state[t];return!(!h||h.size!==r.length||h.start!==o||h.end!==u)&&h.slice.every((w,C)=>w===r[o+C])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(XT,16))},n.\u0275pipe=l.Yjl({name:"paginate",type:n,pure:!1}),n})(),FN=(()=>{class n{constructor(t,r){this.service=t,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new l.vpe,this.pageBoundsCorrection=new l.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(o=>{this.id===o&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const r=Math.ceil(t.totalItems/t.itemsPerPage);return r<t.currentPage&&0<r?r:t.currentPage<1?1:t.currentPage}createPageArray(t,r,o,u){u=+u;let h=[];const m=Math.max(Math.ceil(o/r),1),w=Math.ceil(u/2),C=t<=w,S=m-w<t,R=!C&&!S;let j=u<m,Q=1;for(;Q<=m&&Q<=u;){let oe,Me=this.calculatePageNumber(Q,t,u,m),Fe=2===Q&&(R||S),wt=Q===u-1&&(R||C);oe=j&&(Fe||wt)?"...":Me,h.push({label:oe,value:Me}),Q++}return h}calculatePageNumber(t,r,o,u){let h=Math.ceil(o/2);return t===o?u:1===t?t:o<u?u-h<r?u-o+t:h<r?r-h+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(XT),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[l.TTD]}),n})();function eA(n){return!!n&&"false"!==n}let LN=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new l.vpe,this.pageBoundsCorrection=new l.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=eA(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=eA(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=eA(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(l.TgZ(0,"pagination-template",0,1),l.NdJ("pageChange",function(u){return r.pageChange.emit(u)})("pageBoundsCorrection",function(u){return r.pageBoundsCorrection.emit(u)}),l.TgZ(2,"nav",2),l.YNc(3,PN,6,8,"ul",3),l.qZA()()),2&t){const o=l.MAs(1);l.Q6J("id",r.id)("maxSize",r.maxSize),l.xp6(2),l.uIk("aria-label",r.screenReaderPaginationLabel),l.xp6(1),l.Q6J("ngIf",!(r.autoHide&&o.pages.length<=1))}},dependencies:[FN,er,Gi,bi],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),VN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XT],imports:[[go]]}),n})(),tA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:0,consts:[[1,"container-fluid"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-3","my-4"],[1,"col-md-4","mb-0",2,"color","#d3cc3a"],["href","/",1,"col-md-4","d-flex","align-items-center","justify-content-center","mb-3","mb-md-0","me-md-auto","link-dark","text-decoration-none"],["src","",2,"width","200px","padding","10px"],[1,"nav","col-md-4","justify-content-end"],[1,"nav-item"],["routerLink","/home",1,"nav-link","px-2",2,"color","#fff"],["routerLink","/create",1,"nav-link","px-2",2,"color","#fff"],["routerLink","/concesionario",1,"nav-link","px-2",2,"color","#fff"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"footer",1)(2,"p",2),l._uU(3,"\xa9 2022 RuXxDeSiGn.Site"),l.qZA(),l.TgZ(4,"a",3),l._UZ(5,"img",4),l.qZA(),l.TgZ(6,"ul",5)(7,"li",6)(8,"a",7),l._uU(9,"Home"),l.qZA()(),l.TgZ(10,"li",6)(11,"a",8),l._uU(12,"Garage"),l.qZA()(),l.TgZ(13,"li",6)(14,"a",9),l._uU(15,"Concesionario"),l.qZA()()()()())},dependencies:[Ud],styles:[".container-fluid[_ngcontent-%COMP%]{background:#1F1C2C;background:linear-gradient(to right,#928DAB,#1F1C2C)}.container-fluid[_ngcontent-%COMP%]{position:absolute}"]}),n})();function UN(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr",50)(1,"td",50),l._uU(2),l.qZA(),l.TgZ(3,"td",50),l._uU(4),l.qZA(),l.TgZ(5,"td",50),l._uU(6),l.qZA(),l.TgZ(7,"td",50),l._uU(8),l.qZA(),l.TgZ(9,"td",50),l._uU(10),l.qZA(),l.TgZ(11,"td")(12,"button",51),l.NdJ("click",function(){l.CHM(t);const o=l.oxw();return l.KtG(o.deleteCar)}),l._UZ(13,"i",52),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.anyo),l.xp6(2),l.Oqu(t.marca),l.xp6(2),l.Oqu(t.modelo),l.xp6(2),l.Oqu(t.motor),l.xp6(2),l.Oqu(t.categoria)}}const BN=function(n){return{itemsPerPage:10,currentPage:n}};let jN=(()=>{class n{constructor(t){this.postService=t,this.deleteCar=r=>this.postService.deletePost(r)}ngOnInit(){this.postService.getPosts().subscribe(t=>{this.Coches=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(JT))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:120,vars:6,consts:[["name","viewport","content","width=device-width, initial-scale=1, shrink-to-fit=no"],["cz-shortcut-listen","true","sytle","width:100%; height:100%;"],[1,"container-fluid","mt-5",2,"padding","0"],["width","100%","height","100%","src","/assets/WikiKar (1).jpg","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false"],[1,"container"],[2,"margin-top","100px","text-align","center"],[2,"color","aliceblue","font-family","Orbitron"],[1,"linea2"],[1,"row","featurette","mt-4",2,"margin-bottom","150px"],[1,"col-md-7",2,"text-align","center","margin-top","150px"],[1,"featurette-heading","fw-normal","lh-2"],[2,"color","red"],[2,"color","rgb(136, 139, 139)"],[1,"lead"],[1,"col-md-5",2,"margin-top","50px"],["width","500","height","500","src","https://www.raspberrypi.com/app/uploads/2018/12/2017_2018_EMC_Sec_heure-de-code_Tom-A.jpg","role","img","aria-label","Placeholder: 500x500","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","bd-placeholder-img-lg","featurette-image","img-fluid","mx-auto"],[1,"linea3"],[1,"table-responsive","table-responsive-sm","mt-5"],[1,"table","table-striped","table-sm"],["scope","col",2,"color","aliceblue"],["style","color:aliceblue",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["previousLabel","Previous","nextLabel","Next",2,"color","aliceblue","font-family","Orbitron",3,"pageChange"],["routerLink","/create",1,"btn","btn-secondary","btn-lg",2,"background-color","#25AEB6","font-family","Orbitron"],[1,"container-galery"],[1,"linea"],[1,"image-container"],[1,"image"],[2,"text-align","center","color","rgb(238, 241, 241)"],["src","https://noticias.coches.com/wp-content/uploads/2021/09/Ferrari-F40-Valeo-3.jpeg","alt",""],["src","https://wallpapercrafter.com/desktop/162433-car-vehicle-Toyota-Toyota-Supra-Khyzyl-Saleem-colored-wheels.jpg","alt",""],["src","https://www.tuningblog.eu/wp-content/uploads/2018/12/Work-Meister-S1-Airride-Skyline-Nissan-GT-R-Tuning-2.jpg","alt",""],["src","https://media.revistagq.com/photos/5e398a687c484c00080a225e/4:3/w_1039,h_779,c_limit/https___hypebeast.com_image_2020_01_2015-lamborghini-veneno-roadster-rm-sothebys-auction-info-01.jpg","alt",""],["src","https://www.diariomotor.com/imagenes/2022/06/bmw-m3-csl-v8-0622-06-62a7341089f81.jpg","alt",""],["src","https://www.km77.com/images/medium/2/2/6/5/porsche-911-gt3-rs-2022-lateral-frontal.362265.jpg","alt",""],["src","https://wallpaperaccess.com/full/155140.jpg","alt",""],["src","https://www.wallpaperup.com/uploads/wallpapers/2015/08/01/768700/d2769c67f043e04e257a9498e95c0849-700.jpg","alt",""],["src","https://www.tuningblog.eu/wp-content/uploads/2021/09/BiTurbo-Lamborghini-Aventador-SVJ-Underground-Performance-Tuning-12.jpg","alt",""],["src","https://i.pinimg.com/originals/02/47/df/0247df7aba5d48dea03f729b70cd3b6e.jpg","alt",""],["src","https://robbreport.com/wp-content/uploads/2022/03/2-4.jpg?w=1000","alt",""],["src","https://i.pinimg.com/originals/61/4a/10/614a107b35fb83988d2e1533bbb99023.jpg","alt",""],[1,"py-5"],[1,"row","align-items-center"],[1,"col-md-3","col-sm-6","my-3"],["href","#!"],["src","https://seeklogo.com/images/F/ferrari-logo-7935CF173C-seeklogo.com.png","alt","...","aria-label","Microsoft Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","100px"],["src","/assets/bmw-1596080_1920.png","alt","...","aria-label","Google Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","100px"],["src","https://cdn.worldvectorlogo.com/logos/lamborghini-logo-1.svg","alt","...","aria-label","Facebook Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","200px"],["src","https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/2cdd71aa-95d3-40ab-ae3b-d904eed9f559/d2f4rpg-d77974ef-82d1-47b8-95ec-8174c070332a.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzJjZGQ3MWFhLTk1ZDMtNDBhYi1hZTNiLWQ5MDRlZWQ5ZjU1OVwvZDJmNHJwZy1kNzc5NzRlZi04MmQxLTQ3YjgtOTVlYy04MTc0YzA3MDMzMmEucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.zbm4MnjTBvkFp3953B31gOntX8L1rnhMz7VpDjm_7TM","alt","...","aria-label","IBM Logo",1,"img-fluid","img-brand","d-block","mx-auto",2,"width","200px"],[2,"position","static !important"],[2,"color","aliceblue"],[3,"click"],[1,"fas","fa-trash-alt",2,"color","#25AEB6"]],template:function(t,r){1&t&&(l.TgZ(0,"head"),l._UZ(1,"meta",0),l.qZA(),l.TgZ(2,"body",1)(3,"main")(4,"div",2),l._UZ(5,"div")(6,"img",3),l.qZA(),l.TgZ(7,"div",4)(8,"div",5)(9,"h1",6),l._uU(10,"Wiki Car"),l.qZA()(),l._UZ(11,"div",7),l.TgZ(12,"div",8)(13,"div",9)(14,"h2",10)(15,"span",11),l._uU(16,"Hi, Im Antonio DelaRua "),l.qZA(),l.TgZ(17,"span",12),l._uU(18,"Front Developer"),l.qZA()(),l.TgZ(19,"p",13),l._uU(20,"Wikikar es parte de mi entrenamiento, para avanzar en mis conocimientos "),l.qZA()(),l.TgZ(21,"div",14),l._UZ(22,"img",15),l.qZA()(),l._UZ(23,"div",16),l.TgZ(24,"div",17)(25,"table",18)(26,"thead")(27,"tr")(28,"th",19),l._uU(29,"A\xf1o"),l.qZA(),l.TgZ(30,"th",19),l._uU(31,"Marca"),l.qZA(),l.TgZ(32,"th",19),l._uU(33,"Modelo"),l.qZA(),l.TgZ(34,"th",19),l._uU(35,"Motor"),l.qZA(),l.TgZ(36,"th",19),l._uU(37,"Categoria"),l.qZA(),l._UZ(38,"th",19),l.qZA()(),l.TgZ(39,"tbody",6),l.YNc(40,UN,14,5,"tr",20),l.ALo(41,"paginate"),l.qZA(),l._UZ(42,"br")(43,"br"),l.qZA(),l.TgZ(44,"div",21)(45,"pagination-controls",22),l.NdJ("pageChange",function(u){return r.page=u}),l.qZA()(),l.TgZ(46,"div",21)(47,"button",23),l._uU(48,"Crear Coche"),l.qZA()()()(),l.TgZ(49,"div",24)(50,"h1",6),l._uU(51,"Coches Favoritos"),l.qZA(),l._UZ(52,"div",25),l.TgZ(53,"div",26)(54,"div",27)(55,"h3",28),l._uU(56,"Ferrari F40"),l.qZA(),l._UZ(57,"img",29),l.qZA(),l.TgZ(58,"div",27)(59,"h3",28),l._uU(60,"Toyota Supra"),l.qZA(),l._UZ(61,"img",30),l.qZA(),l.TgZ(62,"div",27)(63,"h3",28),l._uU(64,"Nissan Skyline R34 GTR"),l.qZA(),l._UZ(65,"img",31),l.qZA(),l.TgZ(66,"div",27)(67,"h3",28),l._uU(68,"Lamborghini Veneno"),l.qZA(),l._UZ(69,"img",32),l.qZA(),l.TgZ(70,"div",27)(71,"h3",28),l._uU(72,"BMW M3 cls e46"),l.qZA(),l._UZ(73,"img",33),l.qZA(),l.TgZ(74,"div",27)(75,"h3",28),l._uU(76,"Porsche GT3 RS"),l.qZA(),l._UZ(77,"img",34),l.qZA(),l.TgZ(78,"div",27)(79,"h3",28),l._uU(80,"Mclaren P1"),l.qZA(),l._UZ(81,"img",35),l.qZA(),l.TgZ(82,"div",27)(83,"h3",28),l._uU(84,"ferrari 458 Liberty walk"),l.qZA(),l._UZ(85,"img",36),l.qZA(),l.TgZ(86,"div",27)(87,"h3",28),l._uU(88,"Lamborghini Aventador sv"),l.qZA(),l._UZ(89,"img",37),l.qZA(),l.TgZ(90,"div",27)(91,"h3",28),l._uU(92,"Lancer Evolution IX"),l.qZA(),l._UZ(93,"img",38),l.qZA(),l.TgZ(94,"div",27)(95,"h3",28),l._uU(96,"Mercedes GTR Amg"),l.qZA(),l._UZ(97,"img",39),l.qZA(),l.TgZ(98,"div",27)(99,"h3",28),l._uU(100,"Posche Carrera Gt"),l.qZA(),l._UZ(101,"img",40),l.qZA()()()(),l.TgZ(102,"div",41)(103,"div",4)(104,"div",42)(105,"div",43)(106,"a",44),l._UZ(107,"img",45),l.qZA()(),l.TgZ(108,"div",43)(109,"a",44),l._UZ(110,"img",46),l.qZA()(),l.TgZ(111,"div",43)(112,"a",44),l._UZ(113,"img",47),l.qZA()(),l.TgZ(114,"div",43)(115,"a",44),l._UZ(116,"img",48),l.qZA()()()()(),l._UZ(117,"div",49),l.TgZ(118,"div"),l._UZ(119,"app-footer"),l.qZA()()),2&t&&(l.xp6(40),l.Q6J("ngForOf",l.xi3(41,1,r.Coches,l.VKq(4,BN,r.page))))},dependencies:[Gi,rl,LN,tA,kN],styles:[".linea[_ngcontent-%COMP%], .linea2[_ngcontent-%COMP%], .linea3[_ngcontent-%COMP%]{border-top:5px solid #d8e0e0;margin:50px}.container-galery[_ngcontent-%COMP%]{padding-top:100px}.container-galery[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{margin:10px 10px 5px;width:30%;position:relative;height:180px;box-shadow:0 0 3px #000000bf}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.3)}.container-galery[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px;font-family:Verdana,Geneva,Tahoma,sans-serif;font-weight:400;padding:15px;color:#333;text-align:center;text-transform:capitalize}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:center;padding:20px}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{height:350px;width:450px;border:2 px solid aqua;box-shadow:0 5px 15px #000;overflow:hidden;cursor:pointer;border-radius:8px}.container-galery[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;transition:.5s linear}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;background:rgba(214,218,4,.329);width:100%;height:0;overflow:hidden;transition:.5s ease}.overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:30px;position:absolute;top:50%;left:50%;text-align:center;transform:translate(-50%,-50%)}.imagen[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{height:100%;cursor:pointer}@media screen and (max-width:1000px){.container-galery[_ngcontent-%COMP%]{width:95%}}@media screen and (max-width:700px){.container-galery[_ngcontent-%COMP%]{width:90%}.container-galery[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{width:48%}}@media screen and (max-width:450px){h1[_ngcontent-%COMP%]{font-size:22px}.container-galery[_ngcontent-%COMP%]{width:98%}.container-galery[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:80%}}@media (max-width:768px){.container-galery[_ngcontent-%COMP%]   .popup-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:95%}}"]}),n})(),Ux=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),jp=(()=>{class n extends Ux{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const hc=new l.OlP("NgValueAccessor"),ZN={provide:hc,useExisting:(0,l.Gpc)(()=>gb),multi:!0},qN=new l.OlP("CompositionEventMode");let gb=(()=>{class n extends Ux{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function GN(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(qN,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([ZN]),l.qOj]}),n})();const $i=new l.OlP("NgValidators"),Ph=new l.OlP("NgAsyncValidators");function Yx(n){return null!=n}function Qx(n){return(0,l.QGY)(n)?(0,on.D)(n):n}function Jx(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Xx(n,e){return e.map(t=>t(n))}function eM(n){return n.map(e=>function KN(n){return!n.validate}(e)?e:t=>e.validate(t))}function nA(n){return null!=n?function tM(n){if(!n)return null;const e=n.filter(Yx);return 0==e.length?null:function(t){return Jx(Xx(t,e))}}(eM(n)):null}function rA(n){return null!=n?function nM(n){if(!n)return null;const e=n.filter(Yx);return 0==e.length?null:function(t){return function $N(...n){const e=(0,fi.jO)(n),{args:t,keys:r}=Ea(n),o=new Dr.y(u=>{const{length:h}=t;if(!h)return void u.complete();const m=new Array(h);let w=h,C=h;for(let S=0;S<h;S++){let R=!1;(0,Ss.Xf)(t[S]).subscribe((0,Gn.x)(u,j=>{R||(R=!0,C--),m[S]=j},()=>w--,void 0,()=>{(!w||!R)&&(C||u.next(r?Ro(r,m):m),u.complete())}))}});return e?o.pipe(Ca(e)):o}(Xx(t,e).map(Qx)).pipe((0,rt.U)(Jx))}}(eM(n)):null}function rM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iM(n){return n._rawValidators}function sM(n){return n._rawAsyncValidators}function iA(n){return n?Array.isArray(n)?n:[n]:[]}function yb(n,e){return Array.isArray(n)?n.includes(e):n===e}function oM(n,e){const t=iA(e);return iA(n).forEach(o=>{yb(t,o)||t.push(o)}),t}function aM(n,e){return iA(e).filter(t=>!yb(n,t))}class uM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ds extends uM{get formDirective(){return null}get path(){return null}}class Oh extends uM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cM{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lM=(()=>{class n extends cM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Oh,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),dM=(()=>{class n extends cM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ds,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const v0="VALID",vb="INVALID",gy="PENDING",w0="DISABLED";function uA(n){return(wb(n)?n.validators:n)||null}function fM(n){return Array.isArray(n)?nA(n):n||null}function cA(n,e){return(wb(e)?e.asyncValidators:n)||null}function pM(n){return Array.isArray(n)?rA(n):n||null}function wb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function gM(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function mM(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new l.vHH(1002,"")})}class Ib{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=fM(this._rawValidators),this._composedAsyncValidatorFn=pM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===v0}get invalid(){return this.status===vb}get pending(){return this.status==gy}get disabled(){return this.status===w0}get enabled(){return this.status!==w0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=fM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pM(e)}addValidators(e){this.setValidators(oM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aM(e,this._rawAsyncValidators))}hasValidator(e){return yb(this._rawValidators,e)}hasAsyncValidator(e){return yb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=gy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=w0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=v0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===v0||this.status===gy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?w0:v0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=gy,this._hasOwnPendingAsyncValidator=!0;const t=Qx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?w0:this.errors?vb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gy)?gy:this._anyControlsHaveStatus(vb)?vb:v0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class I0 extends Ib{constructor(e,t,r){super(uA(t),cA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){mM(this,0,e),Object.keys(e).forEach(r=>{gM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class yM extends I0{}function E0(n,e){lA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function rP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_M(n,e)})}(n,e),function sP(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_M(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bb(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Db(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Cb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lA(n,e){const t=iM(n);null!==e.validator?n.setValidators(rM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=sM(n);null!==e.asyncValidator?n.setAsyncValidators(rM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Cb(e._rawValidators,o),Cb(e._rawAsyncValidators,o)}function Db(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=iM(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=sM(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Cb(e._rawValidators,r),Cb(e._rawAsyncValidators,r),t}function _M(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function EM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function bM(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const C0=class extends Ib{constructor(e=null,t,r){super(uA(t),cA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=bM(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let SM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const pA=new l.OlP("NgModelWithFormControlWarning"),vP={provide:ds,useExisting:(0,l.Gpc)(()=>Tb)};let Tb=(()=>{class n extends ds{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Db(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return E0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){bb(t.control||null,t,!1),function cP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function IM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(bb(r||null,t),(n=>n instanceof C0)(o)&&(E0(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function vM(n,e){lA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function oP(n,e){return Db(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lA(this.form,this),this._oldForm&&Db(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($i,10),l.Y36(Ph,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([vP]),l.qOj,l.TTD]}),n})();const EP={provide:Oh,useExisting:(0,l.Gpc)(()=>yA)};let yA=(()=>{class n extends Oh{constructor(t,r,o,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function hA(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===gb?t=u:function uP(n){return Object.getPrototypeOf(n.constructor)===jp}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function dA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Eb(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(ds,13),l.Y36($i,10),l.Y36(Ph,10),l.Y36(hc,10),l.Y36(pA,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([EP]),l.qOj,l.TTD]}),n})(),qM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[MM]}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qM]}),n})(),zM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[qM]}),n})();class WM extends Ib{constructor(e,t,r){super(uA(t),cA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){mM(this,0,e),e.forEach((r,o)=>{gM(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function KM(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let VP=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let u={};return KM(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new I0(o,u)}record(t,r=null){const o=this._reduceControls(t);return new yM(o,r)}control(t,r,o){let u={};return this.useNonNullable?(KM(r)?u=r:(u.validators=r,u.asyncValidators=o),new C0(t,{...u,nonNullable:!0})):new C0(t,r,o)}array(t,r,o){const u=t.map(h=>this._createControl(h));return new WM(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof C0||t instanceof Ib?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:zM}),n})(),UP=(()=>{class n{constructor(t,r,o){this.postService=t,this.formBuilder=r,this.router=o,this.cocheForm=r.group({imagen:[""],marca:[""],modelo:[""],motor:[""],anyo:[""],categoria:[""]})}ngOnInit(){}onSubmit(){this.postService.createPost(this.cocheForm.value),this.router.navigate(["/home"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(JT),l.Y36(VP),l.Y36(gr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-create-car"]],decls:23,vars:1,consts:[[1,"wrapper",2,"height","100%","background-image","url('https://fotografias.lasexta.com/clipping/cmsimages01/2020/05/15/5818DFDC-51C2-48FE-BB24-3614F6DAF93E/98.jpg?crop=947,533,x167,y0&width=1900&height=1069&optimize=high&format=webply')","background-repeat","no-repeat"],[1,"body"],[1,"card-body"],[2,"color","rgb(174, 209, 18)"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"row"],["type","text","formControlName","imagen","placeholder","Imagen",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","marca","placeholder","Marca",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","modelo","placeholder","Modelo",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","motor","placeholder","Motor",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","anyo","placeholder","A\xf1o",1,"form-control","form-control-lg","mt-4"],["type","text","formControlName","categoria","placeholder","Categoria",1,"form-control","form-control-lg","mt-4"],[1,"mt-3"],["type","text","routerLink","/home",1,"btn","btn-warning","btn-lg"],["type","submit",1,"btn","btn-primary","btn-lg"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),l._uU(4,"Agregar Coche "),l.qZA(),l.TgZ(5,"form",4),l.NdJ("ngSubmit",function(){return r.onSubmit()}),l.TgZ(6,"div",5)(7,"div"),l._UZ(8,"input",6),l.qZA(),l.TgZ(9,"div"),l._UZ(10,"input",7),l.qZA()(),l._UZ(11,"input",8)(12,"input",9)(13,"input",10)(14,"input",11)(15,"br"),l.TgZ(16,"div",12)(17,"button",13),l._uU(18,"Volver"),l.qZA(),l._uU(19," - "),l.TgZ(20,"button",14),l._uU(21,"Crear"),l.qZA()(),l._UZ(22,"br"),l.qZA()()()()),2&t&&(l.xp6(5),l.Q6J("formGroup",r.cocheForm))},dependencies:[rl,SM,gb,lM,dM,Tb,yA],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#bdc3c7;background:linear-gradient(to right,#2c3e50,#bdc3c7)}.logo[_ngcontent-%COMP%]{height:130px;margin-bottom:15px}.body[_ngcontent-%COMP%]{width:100%;max-width:330px;margin:auto;padding:20px;text-align:center}.form-floating[_ngcontent-%COMP%]{text-align:start}.errorLabel[_ngcontent-%COMP%]{margin-left:5px}.errorLabel2[_ngcontent-%COMP%]{margin-top:5px}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.tabla[_ngcontent-%COMP%]{background:#085078;background:linear-gradient(to right,#85D8CE,#085078)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}"]}),n})(),BP=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-about"]],decls:271,vars:0,consts:[["cz-shortcut-listen","true"],[1,"container"],[1,"p-4","p-md-5","mb-4","mt-4","rounded","text-bg-dark",2,"background-image","url('https://www.teahub.io/photos/full/191-1911493_fondos-de-pantalla-4k-neon.jpg')","height","auto","background-repeat","no-repeat"],[1,"display-6","text-center",2,"font-size","bold"],[2,"color","rgb(241, 19, 19)"],[2,"color","rgb(194, 70, 12)"],[2,"color","rgb(218, 147, 15)"],[2,"color","rgb(226, 223, 11)"],[2,"color","rgb(116, 155, 10)"],[2,"color","rgb(69, 231, 37)"],[2,"color","rgb(12, 170, 109)"],[2,"color","rgb(16, 160, 148)"],[2,"color","rgb(37, 149, 224)"],[2,"color","rgb(174, 40, 201)"],[2,"color","rgb(231, 213, 213)"],[2,"color","rgb(197, 19, 241)"],[2,"color","rgb(203, 124, 206)"],[2,"color","rgb(189, 15, 29)"],[1,"row","mb-2","mt-5"],[1,"col-md-6"],[1,"row","g-0","border","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250","position-relative"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"d-inline-block","mb-2",2,"color","#d3cc3a"],[1,"mb-0",2,"color","#FFFFFF"],[1,"mb-1"],[1,"card-text","mb-auto"],["href","https://github.com/Antonio-DelaRua",1,"stretched-link"],[1,"col-auto","d-none","d-lg-block"],["width","200","height","200","src","https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Angular_full_color_logo.svg/2048px-Angular_full_color_logo.svg.png",1,"bd-placeholder-img"],[1,"mb-auto"],["href","#",1,"stretched-link"],["width","200","height","200","src","https://www.freepnglogos.com/uploads/html5-logo-png/html5-logo-html-icons-download-14.png",1,"bd-placeholder-img","mt-2"],[1,"row","g-5"],[1,"col-md-8"],[1,"pb-4","mb-4","fst-italic","border-bottom",2,"color","aliceblue"],[1,"blog-post"],[1,"blog-post-title","mb-1",2,"color","aliceblue"],[1,"blog-post-meta"],["href","#",2,"color","aliceblue"],[1,"linea"],[2,"color","red"],[2,"color","yellow"],[2,"color","blue"],[2,"color","#0BF082"],[2,"color","aliceblue"],[1,"table"],[1,"col-md-4","d-flex","justify-content-center"],[1,"position-sticky",2,"top","2rem"],[1,"p-4"],[1,"fst-italic",2,"color","#d3cc3a"],[1,"list-unstyled","mb-2"],["href","https://ruxxdev.site",1,"stretched-link"],["href","https://durbanod.com",1,"stretched-link"],["href","https://Casaperibocadillo.es","target","_blank",1,"stretched-link"],["href","https://malditosilencio.com","target","_blank",1,"stretched-link"],["href","https://github.com/Antonio-DelaRua/RuXx-breaking-bad-wiki","target","_blank",1,"stretched-link"],[1,"list-unstyled"],["href","https://github.com/Antonio-DelaRua","target","_blank",1,"stretched-link"],["href","https://www.linkedin.com/in/antonio-de-la-rua-fernandez-508b98243/","target","_blank",1,"stretched-link"],["href","https://www.facebook.com/antonio.delarua.9","target","_blank",1,"stretched-link"],[1,"p-3","mb-3","bg-opacity-100","rounded"],["src","/assets/Screenshot from 2022-10-04 16-20-40.png",2,"width","350px"],["src","/assets/javascript.png",2,"width","350px","margin-top","50px"],["src","/assets/git.png",2,"width","350px","margin-top","50px"],["src","/assets/html.png",2,"width","350px","margin-top","50px"],["src","/assets/typescript.png",2,"width","350px","margin-top","50px"],["src","/assets/deve.png",2,"width","350px","margin-top","50px"],[2,"position","static !important"]],template:function(t,r){1&t&&(l.TgZ(0,"body",0)(1,"main",1)(2,"div",2)(3,"h1",3),l._uU(4," Hola!! Soy "),l.TgZ(5,"span",4),l._uU(6,"A"),l.qZA(),l.TgZ(7,"span",5),l._uU(8,"n"),l.qZA(),l.TgZ(9,"span",6),l._uU(10,"t"),l.qZA(),l.TgZ(11,"span",7),l._uU(12,"o"),l.qZA(),l.TgZ(13,"span",8),l._uU(14,"n"),l.qZA(),l.TgZ(15,"span",9),l._uU(16,"i"),l.qZA(),l.TgZ(17,"span",10),l._uU(18,"o"),l.qZA(),l.TgZ(19,"span",11),l._uU(20," D"),l.qZA(),l.TgZ(21,"span",12),l._uU(22,"e"),l.qZA(),l.TgZ(23,"span",13),l._uU(24,"l"),l.qZA(),l.TgZ(25,"span",14),l._uU(26,"a"),l.qZA(),l.TgZ(27,"span",15),l._uU(28,"R"),l.qZA(),l.TgZ(29,"span",16),l._uU(30,"u"),l.qZA(),l.TgZ(31,"span",17),l._uU(32,"a"),l.qZA()()(),l.TgZ(33,"div",18)(34,"div",19)(35,"div",20)(36,"div",21)(37,"strong",22),l._uU(38,"Angular"),l.qZA(),l.TgZ(39,"h3",23),l._uU(40,"Framework"),l.qZA(),l.TgZ(41,"div",24),l._uU(42,"Antonio DelaRua"),l.qZA(),l.TgZ(43,"p",25),l._uU(44,"Especializado en Angular , mi proceso de aprendizaje fue cursos de Victor Robles en Udemy y la ruta Front-end de OpenBootCamp"),l.qZA(),l.TgZ(45,"a",26),l._uU(46,"Mas Sobre mis proyectos"),l.qZA()(),l.TgZ(47,"div",27),l._UZ(48,"img",28),l.qZA()()(),l.TgZ(49,"div",19)(50,"div",20)(51,"div",21)(52,"strong",22),l._uU(53,"HTML-CSS"),l.qZA(),l.TgZ(54,"h3",23),l._uU(55,"HTML - CSS "),l.qZA(),l.TgZ(56,"div",24),l._uU(57,"Bootstrap-Git-Javascript..."),l.qZA(),l.TgZ(58,"p",29),l._uU(59,"Ademas de los cursos de Angular me he ido formando con todas las herramientas necesarias para poder manejar el framework"),l.qZA(),l.TgZ(60,"a",30),l._uU(61,"M\xe1s Informarci\xf3n"),l.qZA()(),l.TgZ(62,"div",27),l._UZ(63,"img",31),l.qZA()()()(),l.TgZ(64,"div",32)(65,"div",33)(66,"h3",34),l._uU(67," Mi Ruta De Aprendizaje "),l.qZA(),l.TgZ(68,"article",35)(69,"h2",36),l._uU(70,"Empiezo a interesarme por la Programaci\xf3n"),l.qZA(),l.TgZ(71,"p",37)(72,"a",38),l._uU(73,"Enero 1, 2020 "),l.qZA()(),l.TgZ(74,"p"),l._uU(75,'Empiezo a interesarme por la programaci\xf3n , investigo un poco de HTML hago mis primeros "Hola mundo" , poco a poco voy jugando con CSS, me llamaba mucho la atenci\xf3n porque ya me gustaba el dise\xf1ar blogs con photoshop, pero me sobrepasa tanta informaci\xf3n y no profundizo.'),l.qZA(),l._UZ(76,"br")(77,"div",39),l.TgZ(78,"h2",36),l._uU(79,"Elecci\xf3n de que framework me gusta m\xe1s"),l.qZA(),l.TgZ(80,"p",37)(81,"a",38),l._uU(82,"Marzo 22, 2021 "),l.qZA()(),l.TgZ(83,"p"),l._uU(84,"Despues de llevar m\xe1s de un a\xf1o con Html y Css, conoci "),l.TgZ(85,"span",40),l._uU(86,"Angular"),l.qZA(),l._uU(87," estuve comparando este, con React etc.. pero ya sab\xeda que quer\xeda aprender "),l.TgZ(88,"span",40),l._uU(89,"Angular"),l.qZA(),l._uU(90," Me sobrepasa tanta informaci\xf3n del framework elegido y decido profundizar en todas las herramientas necesarias para poder manejarlo bien. Empiezo a buscar informaci\xf3n de "),l.TgZ(91,"span",41),l._uU(92,"Javascript"),l.qZA(),l._uU(93,", y "),l.TgZ(94,"span",42),l._uU(95,"Typescript"),l.qZA(),l._uU(96,". Pero me desvio mucho del camino buscando informaci\xf3n de todo lo que se me iba presentando y no tenia conocimiento , como Docker, phyton, symfony."),l.qZA(),l._UZ(97,"br")(98,"div",39),l.TgZ(99,"h2",36),l._uU(100,"Conozco un poco de Backend Mysql y PHP"),l.qZA(),l.TgZ(101,"p",37)(102,"a",38),l._uU(103,"Septiembre 11, 2021 "),l.qZA()(),l.TgZ(104,"p"),l._uU(105,"Al hacer algunos Cursos de "),l.TgZ(106,"span",40),l._uU(107,"Angular"),l.qZA(),l._uU(108,' vi como se hac\xedan los CRUD y empeze a investigar sobre las base de datos, me hice mis primeras base de Datos en mysql con Php y PHPmyadmin. Pero me quedo bloqueado en muchos pasos y no acabo de entender ciertas l\xf3gicas. Al ver que no avanzaba porque me faltaban conocimientos imprescindibles decid\xed pedirle ayuda a mi primo "Daniel Urbano" que lleva mas de 7 a\xf1os en el sector Actualmente trabajando Como Senior Full Stack y me ense\xf1o '),l.TgZ(109,"span",43),l._uU(110,"Open BootCamp"),l.qZA(),l._uU(111," , Donde empezo de verdad mi camino como desarrollador. "),l.qZA(),l._UZ(112,"br")(113,"div",39),l.TgZ(114,"h2",36),l._uU(115,"Open BootCamp y Udemy"),l.qZA(),l.TgZ(116,"p",37)(117,"a",38),l._uU(118,"Febrero 27, 2022 "),l.qZA()(),l.TgZ(119,"p"),l._uU(120,"Bueno lo primero Ser\xeda dar gracias al equipo de Open BootCamp por sus Cursos , rutas de aprendizaje etc.. Elegi la ruta Front-end de "),l.TgZ(121,"span",40),l._uU(122,"Angular"),l.qZA(),l._uU(123,". Iba complementando lo que iba aprendiendo tambien con cursos de Udemy pero ya muy centrado en la ruta que debia seguir. A d\xeda de hoy, 05-octubre-2022 sigo dedicandole 16 horas diarias hasta poder lograr mi primer trabajo como Junior =)"),l.qZA(),l._UZ(124,"br")(125,"div",39),l.qZA(),l.TgZ(126,"article",35)(127,"h3",44),l._uU(128,"Cursos Realizados"),l.qZA(),l.TgZ(129,"table",45)(130,"thead")(131,"tr",44)(132,"th"),l._uU(133,"Curso"),l.qZA(),l.TgZ(134,"th"),l._uU(135,"Escuela"),l.qZA(),l.TgZ(136,"th"),l._uU(137,"Profesor"),l.qZA()()(),l.TgZ(138,"tbody")(139,"tr")(140,"td",44),l._uU(141,"Front-end Fundamentos de la programaci\xf3n"),l.qZA(),l.TgZ(142,"td",41),l._uU(143,"Open BootCamp"),l.qZA(),l.TgZ(144,"td",44),l._uU(145,"V\xedctor Rom\xe1n Archidona"),l.qZA()(),l.TgZ(146,"tr")(147,"td",44),l._uU(148,"Front-end Angular: Html y Css"),l.qZA(),l.TgZ(149,"td",41),l._uU(150,"Open BootCamp"),l.qZA(),l.TgZ(151,"td",44),l._uU(152,"Gorka Villar"),l.qZA()(),l.TgZ(153,"tr")(154,"td",44),l._uU(155,"Front-end Angular:JavaScript Basico"),l.qZA(),l.TgZ(156,"td",41),l._uU(157,"Open BootCamp"),l.qZA(),l.TgZ(158,"td",44),l._uU(159,"Gorka Villar"),l.qZA()(),l.TgZ(160,"tr")(161,"td",44),l._uU(162,"Front-end Angular: TypeScript"),l.qZA(),l.TgZ(163,"td",41),l._uU(164,"Open BootCamp"),l.qZA(),l.TgZ(165,"td",44),l._uU(166,"Mart\xedn San Jos\xe9 de Vicente"),l.qZA()(),l.TgZ(167,"tr")(168,"td",44),l._uU(169,"Front-end Angular: Angular B\xe1sico"),l.qZA(),l.TgZ(170,"td",41),l._uU(171,"Open BootCamp"),l.qZA(),l.TgZ(172,"td",44),l._uU(173,"Mart\xedn San Jos\xe9 de Vicente"),l.qZA()(),l.TgZ(174,"tr")(175,"td",44),l._uU(176,"Front-end Angular: Angular Avanzado"),l.qZA(),l.TgZ(177,"td",41),l._uU(178,"Open BootCamp"),l.qZA(),l.TgZ(179,"td",44),l._uU(180,"Mart\xedn San Jos\xe9 de Vicente"),l.qZA()(),l.TgZ(181,"tr")(182,"td",44),l._uU(183,"Front-end Angular: Curso de Git"),l.qZA(),l.TgZ(184,"td",41),l._uU(185,"Open BootCamp"),l.qZA(),l.TgZ(186,"td",44),l._uU(187,"V\xedctor Rom\xe1n Archidona"),l.qZA()(),l.TgZ(188,"tr")(189,"td",44),l._uU(190,"Curso de Angular 13"),l.qZA(),l.TgZ(191,"td",41),l._uU(192,"Udemy"),l.qZA(),l.TgZ(193,"td",44),l._uU(194,"V\xedctor Robles"),l.qZA()(),l.TgZ(195,"tr")(196,"td",44),l._uU(197,"Curso angular desde 0 a experto"),l.qZA(),l.TgZ(198,"td",41),l._uU(199,"Udemy"),l.qZA(),l.TgZ(200,"td",44),l._uU(201,"Gorka Villar"),l.qZA()(),l.TgZ(202,"tr")(203,"td",44),l._uU(204,"Docker, de principiante a experto"),l.qZA(),l.TgZ(205,"td",41),l._uU(206,"Udemy"),l.qZA(),l.TgZ(207,"td",44),l._uU(208,"Ricardo Andre Gonzalez Gomez"),l.qZA()(),l.TgZ(209,"tr")(210,"td",44),l._uU(211,"De 0 a Dev : PYTHON"),l.qZA(),l.TgZ(212,"td",41),l._uU(213,"Open BootCamp"),l.qZA(),l.TgZ(214,"td",44),l._uU(215,"V\xedctor Rom\xe1n Archidona"),l.qZA()(),l.TgZ(216,"tr")(217,"td",44),l._uU(218,"curso maestro python3: aprende desde 0"),l.qZA(),l.TgZ(219,"td",41),l._uU(220,"Udemy"),l.qZA(),l.TgZ(221,"td",44),l._uU(222,"Mart\xedn San Jos\xe9 de Vicente"),l.qZA()(),l._UZ(223,"br"),l.qZA()(),l.TgZ(224,"p"),l._uU(225,"Sigo Con la intensidad del primer d\xeda, ahora voy a empezar con la ruta de backend de Open BootCamp."),l.qZA(),l._UZ(226,"br"),l.qZA()(),l.TgZ(227,"div",46)(228,"div",47)(229,"div",48)(230,"h4",49),l._uU(231,"Paginas Web Creadas"),l.qZA(),l.TgZ(232,"ol",50)(233,"li")(234,"a",51),l._uU(235,"RuXxDev.site"),l.qZA()(),l.TgZ(236,"li")(237,"a",52),l._uU(238,"DurbanoD.com"),l.qZA()(),l.TgZ(239,"li")(240,"a",53),l._uU(241,"Casaperibocadillo.es"),l.qZA()(),l.TgZ(242,"li")(243,"a",54),l._uU(244,"Malditosilencio.com"),l.qZA()(),l.TgZ(245,"li")(246,"a",55),l._uU(247,"Breakingbad wiki"),l.qZA()()()(),l.TgZ(248,"div",48)(249,"h4",49),l._uU(250,"Mis Redes Sociales"),l.qZA(),l.TgZ(251,"ol",56)(252,"li")(253,"a",57),l._uU(254,"GitHub"),l.qZA()(),l.TgZ(255,"li")(256,"a",58),l._uU(257,"Linkedin"),l.qZA()(),l.TgZ(258,"li")(259,"a",59),l._uU(260,"Facebook"),l.qZA()()()(),l.TgZ(261,"div",60),l._UZ(262,"img",61)(263,"img",62)(264,"img",63)(265,"img",64)(266,"img",65)(267,"img",66),l.qZA()()()()(),l._UZ(268,"div",67),l.TgZ(269,"div"),l._UZ(270,"app-footer"),l.qZA()())},dependencies:[tA],styles:[".stretched-link[_ngcontent-%COMP%]{color:beige}a[_ngcontent-%COMP%]   .stretched-link[_ngcontent-%COMP%]:after{position:relative}.post[_ngcontent-%COMP%]{color:#07bdc4}.linea[_ngcontent-%COMP%]{border-top:2px solid aliceblue;margin-bottom:40px;width:80%}"]}),n})();function jP(n,e){if(1&n&&(l.TgZ(0,"div",32)(1,"div",33),l._UZ(2,"img",34),l.TgZ(3,"div",35)(4,"h2",36)(5,"strong"),l._uU(6),l.qZA()(),l._UZ(7,"br"),l.TgZ(8,"h3",37),l._uU(9),l.qZA(),l.TgZ(10,"h4",38),l._uU(11),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.imagen,l.LSH),l.xp6(4),l.Oqu(t.motor),l.xp6(3),l.AsE("",t.marca," ",t.modelo,""),l.xp6(2),l.Oqu(t.anyo)}}const $P=[{path:"",redirectTo:"RuXx",pathMatch:"full"},{path:"RuXx",component:BP},{path:"home",component:jN},{path:"create",component:UP},{path:"concesionario",component:(()=>{class n{constructor(t){this.postService=t}ngOnInit(){this.postService.getPosts().subscribe(t=>{this.Coches=t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(JT))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-concesionario"]],decls:74,vars:1,consts:[[1,"container-fluid","mt-4",2,"padding-top","33px","width","100%"],["id","myCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#myCarousel","data-bs-slide-to","0","aria-label","Slide 1","aria-current","true",1,"active"],["type","button","data-bs-target","#myCarousel","data-bs-slide-to","1","aria-label","Slide 2",1,"active"],[1,"carousel-inner","container-xxl"],["width","1800","height","800",1,"carousel-item","active"],["width","1800","height","800","src","/assets/car-vehicle-Lamborghini-Gallardo-sports-car-workshops-modified-186056-wallhere.com.jpg","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img-fluid","img-fluid","rounded"],[1,"container"],[1,"carousel-caption","text-end"],[2,"color","rgb(241, 19, 19)"],[2,"color","rgb(194, 70, 12)"],[2,"color","rgb(218, 147, 15)"],[2,"color","rgb(226, 223, 11)"],[2,"color","rgb(116, 155, 10)"],[2,"color","rgb(69, 231, 37)"],[2,"color","rgb(12, 170, 109)"],[2,"color","rgb(14, 112, 107)"],[2,"color","rgb(25, 57, 128)"],[2,"color","rgb(105, 16, 122)"],[1,"carousel-item"],["width","1980","height","600","src","https://wallpaperaccess.com/full/482312.jpg","aria-hidden","true","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","img-fluid"],["type","button","data-bs-target","#myCarousel","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#myCarousel","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"album","py-5"],[2,"color","#FFFF"],[1,"linea"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","col ",4,"ngFor","ngForOf"],[1,"col"],[1,"card","justify-content-center"],["width","100%","height","300",1,"bd-placeholder-img","card-img-top",3,"src"],[1,"overlay"],[2,"font-weight","800"],[2,"color","rgb(247, 247, 247)"],[2,"color","#07bdc4"]],template:function(t,r){1&t&&(l.TgZ(0,"main")(1,"div",0)(2,"div",1)(3,"div",2),l._UZ(4,"button",3)(5,"button",4),l.qZA(),l.TgZ(6,"div",5)(7,"div",6),l._UZ(8,"img",7),l.TgZ(9,"div",8)(10,"div",9)(11,"h1")(12,"span",10),l._uU(13,"R"),l.qZA(),l.TgZ(14,"span",11),l._uU(15,"u"),l.qZA(),l.TgZ(16,"span",12),l._uU(17,"X"),l.qZA(),l.TgZ(18,"span",13),l._uU(19,"x"),l.qZA(),l.TgZ(20,"span",14),l._uU(21,"D"),l.qZA(),l.TgZ(22,"span",15),l._uU(23,"e"),l.qZA(),l.TgZ(24,"span",16),l._uU(25,"S"),l.qZA(),l.TgZ(26,"span",17),l._uU(27,"i"),l.qZA(),l.TgZ(28,"span",18),l._uU(29,"N"),l.qZA(),l.TgZ(30,"span",19),l._uU(31,"G"),l.qZA()()()()(),l.TgZ(32,"div",20),l._UZ(33,"img",21),l.TgZ(34,"div",8)(35,"div",9)(36,"h1")(37,"span",10),l._uU(38,"R"),l.qZA(),l.TgZ(39,"span",11),l._uU(40,"u"),l.qZA(),l.TgZ(41,"span",12),l._uU(42,"X"),l.qZA(),l.TgZ(43,"span",13),l._uU(44,"x"),l.qZA(),l.TgZ(45,"span",14),l._uU(46,"D"),l.qZA(),l.TgZ(47,"span",15),l._uU(48,"e"),l.qZA(),l.TgZ(49,"span",16),l._uU(50,"S"),l.qZA(),l.TgZ(51,"span",17),l._uU(52,"i"),l.qZA(),l.TgZ(53,"span",18),l._uU(54,"N"),l.qZA(),l.TgZ(55,"span",19),l._uU(56,"G"),l.qZA()()()()()(),l.TgZ(57,"button",22),l._UZ(58,"span",23),l.TgZ(59,"span",24),l._uU(60,"Previous"),l.qZA()(),l.TgZ(61,"button",25),l._UZ(62,"span",26),l.TgZ(63,"span",24),l._uU(64,"Next"),l.qZA()()()()(),l.TgZ(65,"div",27)(66,"div",8)(67,"h1",28),l._uU(68,"Concesionario"),l.qZA(),l._UZ(69,"div",29),l.TgZ(70,"div",30),l.YNc(71,jP,12,5,"div",31),l.qZA()()(),l.TgZ(72,"div"),l._UZ(73,"app-footer"),l.qZA()),2&t&&(l.xp6(71),l.Q6J("ngForOf",r.Coches))},dependencies:[Gi,tA],styles:["h1[_ngcontent-%COMP%]{font-weight:400;text-align:center;padding:20px 0;font-size:40px}.card[_ngcontent-%COMP%]{display:grid;width:100%;box-sizing:border-box;background:rgb(39,236,243);columns:auto;flex-wrap:wrap}.linea[_ngcontent-%COMP%]{border-top:5px solid aliceblue;margin-bottom:40px}.card[_ngcontent-%COMP%]{position:grid;object-fit:cover;box-shadow:8px 0 3px #000000bf}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.overlay[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;background:rgba(214,218,4,.329);width:100%;height:0;overflow:hidden;transition:.5s ease}.overlay[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-weight:300;font-size:30px;position:absolute;top:50%;left:50%;text-align:center;transform:translate(-50%,-50%)}.card[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{height:100%;cursor:pointer}.card[_ngcontent-%COMP%]{display:block;gap:1 rem;grid-auto-rows:22rem;grid-template-columns:repeat(auto-fill,minmax (min(100%,25rem),1fr))}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,r){1&t&&(l.TgZ(0,"p"),l._uU(1,"not-found works!"),l.qZA())}}),n})()}];let HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[lw.forRoot($P),lw]}),n})(),ZP=(()=>{class n{constructor(t){this.renderer=t,this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen;const t=document.getElementById("navbarNav");t&&(this.isMenuOpen?this.renderer.addClass(t,"show"):this.renderer.removeClass(t,"show"))}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:23,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container"],["href","/RuXx",1,"navbar-brand",2,"color","aliceblue"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav",3,"click"],[1,"nav-item"],["routerLink","/RuXx","routerLinkActive","active",1,"nav-link",2,"font-family","Orbitron",3,"click"],["routerLink","/home","routerLinkActive","active",1,"nav-link",2,"font-family","Orbitron",3,"click"],["routerLink","/concesionario","routerLinkActive","active",1,"nav-link",2,"font-family","Orbitron",3,"click"],["type","submit",1,"btn","btn-primary"],["href","https://ibb.co/LRwpyGy",2,"font-size","bold","color","aliceblue","text-decoration","none","font-family","Orbitron"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._uU(3,"RuXx"),l.TgZ(4,"span"),l._uU(5,"Dev."),l.qZA(),l._uU(6,"Site"),l.qZA(),l.TgZ(7,"button",3),l._UZ(8,"span",4),l.qZA(),l.TgZ(9,"div",5)(10,"ul",6),l.NdJ("click",function(){return r.toggleMenu()}),l.TgZ(11,"li",7)(12,"a",8),l.NdJ("click",function(){return r.toggleMenu()}),l._uU(13,"Home"),l.qZA()(),l.TgZ(14,"li",7)(15,"a",9),l.NdJ("click",function(){return r.toggleMenu()}),l._uU(16,"WikiKar"),l.qZA()(),l.TgZ(17,"li",7)(18,"a",10),l.NdJ("click",function(){return r.toggleMenu()}),l._uU(19,"Garage"),l.qZA()()()(),l.TgZ(20,"button",11)(21,"a",12),l._uU(22,"Curr\xedculum"),l.qZA()()()())},dependencies:[Ud,gf],styles:["nav[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:20px;padding-left:10%;padding-right:10%;background:#360033;background:linear-gradient(to right,#0b8793,#360033);font-family:Orbitron,sans-serif}.logo[_ngcontent-%COMP%]{color:#fff;font-size:28px}span[_ngcontent-%COMP%]{color:#d3cc3a}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;display:inline-block;padding:10px 20px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-weight:700}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#d3cc3a;transition:.3s}button[_ngcontent-%COMP%]{border:none;background-color:#107888;padding:12px 30px;border-radius:30px;color:#fff;font-weight:700;font-size:15px;transition:.4s}@media screen and (max-width: 768px){button[_ngcontent-%COMP%]{background-color:#350537;border:2px solid #107888}}button[_ngcontent-%COMP%]:hover{background-color:#d3cc3a;cursor:pointer;transform:scale(1)}.navbar-toggler[_ngcontent-%COMP%]{background:transparent;border-radius:1px;border:1px solid #107888}"]}),n})(),GP=(()=>{class n{constructor(){this.title="wikikar"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[g,ZP]}),n})();const YM_firebase={projectId:"wiki-car-679a8",appId:"1:300847552765:web:faf20c120891a961b8c694",databaseURL:"https://wiki-car-679a8-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"wiki-car-679a8.appspot.com",locationId:"us-central",apiKey:"AIzaSyB7bpoIzQmdGPtZjpvUI1Y8kzDG45A87A8",authDomain:"wiki-car-679a8.firebaseapp.com",messagingSenderId:"300847552765"};let qP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[GP]}),n.\u0275inj=l.cJS({imports:[Lc,HP,LP,zM,jo.hO.initializeApp(YM_firebase),gN,bN,VN]}),n})();(0,l.G48)(),Mu().bootstrapModule(qP).catch(n=>console.error(n))},5867:(st,De,k)=>{k.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=k(9681);(0,l.registerVersion)("firebase","9.10.0","app")},127:(st,De,k)=>{k.d(De,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.10.0","app-compat")},2476:(st,De,k)=>{k.r(De);var l=k(5861),X=k(3942),O=k(2090),ue=k(9681),ie=k(655),he=k(1877),ce=k(4859);const we=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ye=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new he.Yd("@firebase/auth");function et(y,...f){We.logLevel<=he.in.ERROR&&We.error(`Auth (${ue.SDK_VERSION}): ${y}`,...f)}function Ae(y,...f){throw je(y,...f)}function ve(y,...f){return je(y,...f)}function Ee(y,f,g){const v=Object.assign(Object.assign({},Ye()),{[f]:g});return new O.LL("auth","Firebase",v).create(f,{appName:y.name})}function Be(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ae(y,"argument-error"),Ee(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return me.create(y,...f)}function V(y,f,...g){if(!y)throw je(f,...g)}function ge(y){const f="INTERNAL ASSERTION FAILED: "+y;throw et(f),new Error(f)}function W(y,f){y||ge(f)}const J=new Map;function se(y){W(y instanceof Function,"Expected a class definition");let f=J.get(y);return f?(W(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,J.set(y,f),f)}function Pe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ut(){return"http:"===$t()||"https:"===$t()}function $t(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class rn{constructor(f,g){this.shortDelay=f,this.longDelay=g,W(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ut()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sn(y,f){W(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class qt{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wr=new rn(3e4,6e4);function Rt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function en(y,f,g,v){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(y,f,g,v,A={}){return Or(y,A,(0,l.Z)(function*(){let N={},z={};v&&("GET"===f?z=v:N={body:JSON.stringify(v)});const le=(0,O.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),qt.fetch()(vi(y,y.config.apiHost,g,le),Object.assign({method:f,headers:Le,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Or(y,f,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},zt),f);try{const A=new Fr(y),N=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const z=yield N.json();if("needConfirmation"in z)throw oi(y,"account-exists-with-different-credential",z);if(N.ok&&!("errorMessage"in z))return z;{const le=N.ok?z.errorMessage:z.error.message,[Le,Ke]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw oi(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===Le)throw oi(y,"email-already-in-use",z);if("USER_DISABLED"===Le)throw oi(y,"user-disabled",z);const gt=v[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Ee(y,gt,Ke);Ae(y,gt)}}catch(A){if(A instanceof O.ZR)throw A;Ae(y,"network-request-failed")}})).apply(this,arguments)}function kr(y,f,g,v){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(y,f,g,v,A={}){const N=yield en(y,f,g,v,A);return"mfaPendingCredential"in N&&Ae(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function vi(y,f,g,v){const A=`${f}${g}?${v}`;return y.config.emulator?Sn(y.config,A):`${y.config.apiScheme}://${A}`}class Fr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(ve(this.auth,"network-request-failed")),wr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const A=ve(y,f,v);return A.customData._tokenResponse=g,A}function ze(){return(ze=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Lr(y,f){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function xn(y,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function qr(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function dn(){return(dn=(0,l.Z)(function*(y,f=!1){const g=(0,O.m9)(y),v=yield g.getIdToken(f),A=it(v);V(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,z=N?.sign_in_provider;return{claims:A,token:v,authTime:qr(lt(A.auth_time)),issuedAtTime:qr(lt(A.iat)),expirationTime:qr(lt(A.exp)),signInProvider:z||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function lt(y){return 1e3*Number(y)}function it(y){var f;const[g,v,A]=y.split(".");if(void 0===g||void 0===v||void 0===A)return et("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,O.tV)(v);return N?JSON.parse(N):(et("Failed to decode base64 JWT payload"),null)}catch(N){return et("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function Jn(y,f){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof O.ZR&&Ir(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Ir({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class mt{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,l.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===(null===(g=v)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class Zi{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=qr(this.lastLoginAt),this.creationTime=qr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wt(y){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),A=yield Jn(y,xn(g,{idToken:v}));V(A?.users.length,g,"internal-error");const N=A.users[0];y._notifyReloadListener(N);const z=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?L(N.providerUserInfo):[],le=$(y.providerData,z),gt=!!y.isAnonymous&&!(y.email&&N.passwordHash||le?.length),at={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:le,metadata:new Zi(N.createdAt,N.lastLoginAt),isAnonymous:gt};Object.assign(y,at)})).apply(this,arguments)}function q(){return(q=(0,l.Z)(function*(y){const f=(0,O.m9)(y);yield Wt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function $(y,f){return[...y.filter(v=>!f.some(A=>A.providerId===v.providerId)),...f]}function L(y){return y.map(f=>{var{providerId:g}=f,v=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function G(){return(G=(0,l.Z)(function*(y,f){const g=yield Or(y,{},(0,l.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:N}=y.config,z=vi(y,A,"/v1/token",`key=${N}`),le=yield y._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",qt.fetch()(z,{method:"POST",headers:le,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){V(f.idToken,"internal-error"),V(typeof f.idToken<"u","internal-error"),V(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function un(y){const f=it(y);return V(f,"internal-error"),V(typeof f.exp<"u","internal-error"),V(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,l.Z)(function*(){return V(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:z}=yield function H(y,f){return G.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(A,N,Number(z))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:A,expirationTime:N}=g,z=new be;return v&&(V("string"==typeof v,"internal-error",{appName:f}),z.refreshToken=v),A&&(V("string"==typeof A,"internal-error",{appName:f}),z.accessToken=A),N&&(V("number"==typeof N,"internal-error",{appName:f}),z.expirationTime=N),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return ge("not implemented")}}function Ue(y,f){V("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class tt{constructor(f){var{uid:g,auth:v,stsTokenManager:A}=f,N=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Zi(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,l.Z)(function*(){const v=yield Jn(g,g.stsTokenManager.getToken(g.auth,f));return V(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Bn(y){return dn.apply(this,arguments)}(this,f)}reload(){return function Zt(y){return q.apply(this,arguments)}(this)}_assign(f){this!==f&&(V(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new tt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,l.Z)(function*(){let A=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield Wt(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,l.Z)(function*(){const g=yield f.getIdToken();return yield Jn(f,function fo(y,f){return ze.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,A,N,z,le,Le,Ke,gt;const at=null!==(v=g.displayName)&&void 0!==v?v:void 0,zn=null!==(A=g.email)&&void 0!==A?A:void 0,Pi=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,$u=null!==(z=g.photoURL)&&void 0!==z?z:void 0,Rd=null!==(le=g.tenantId)&&void 0!==le?le:void 0,ei=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,Xc=null!==(Ke=g.createdAt)&&void 0!==Ke?Ke:void 0,el=null!==(gt=g.lastLoginAt)&&void 0!==gt?gt:void 0,{uid:wg,emailVerified:Nd,isAnonymous:Ig,providerData:tl,stsTokenManager:Ry}=g;V(wg&&Ry,f,"internal-error");const k0=be.fromJSON(this.name,Ry);V("string"==typeof wg,f,"internal-error"),Ue(at,f.name),Ue(zn,f.name),V("boolean"==typeof Nd,f,"internal-error"),V("boolean"==typeof Ig,f,"internal-error"),Ue(Pi,f.name),Ue($u,f.name),Ue(Rd,f.name),Ue(ei,f.name),Ue(Xc,f.name),Ue(el,f.name);const Pa=new tt({uid:wg,auth:f,email:zn,emailVerified:Nd,displayName:at,isAnonymous:Ig,photoURL:$u,phoneNumber:Pi,tenantId:Rd,stsTokenManager:k0,createdAt:Xc,lastLoginAt:el});return tl&&Array.isArray(tl)&&(Pa.providerData=tl.map(nl=>Object.assign({},nl))),ei&&(Pa._redirectEventId=ei),Pa}static _fromIdTokenResponse(f,g,v=!1){return(0,l.Z)(function*(){const A=new be;A.updateFromServerResponse(g);const N=new tt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:v});return yield Wt(N),N})()}}const Kt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,v){var A=this;return(0,l.Z)(function*(){A.storage[g]=v})()}_get(g){var v=this;return(0,l.Z)(function*(){const A=v.storage[g];return void 0===A?null:A})()}_remove(g){var v=this;return(0,l.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function jn(y,f,g){return`firebase:${y}:${f}:${g}`}class kt{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:A,name:N}=this.auth;this.fullUserKey=jn(this.userKey,A.apiKey,N),this.fullPersistenceKey=jn("persistence",A.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?tt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,l.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,l.Z)(function*(){if(!g.length)return new kt(se(Kt),f,v);const A=(yield Promise.all(g.map(function(){var Ke=(0,l.Z)(function*(gt){if(yield gt._isAvailable())return gt});return function(gt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let N=A[0]||se(Kt);const z=jn(v,f.config.apiKey,f.name);let le=null;for(const Ke of g)try{const gt=yield Ke._get(z);if(gt){const at=tt._fromJSON(f,gt);Ke!==N&&(le=at),N=Ke;break}}catch{}const Le=A.filter(Ke=>Ke._shouldAllowMigration);return N._shouldAllowMigration&&Le.length?(N=Le[0],le&&(yield N._set(z,le.toJSON())),yield Promise.all(g.map(function(){var Ke=(0,l.Z)(function*(gt){if(gt!==N)try{yield gt._remove(z)}catch{}});return function(gt){return Ke.apply(this,arguments)}}())),new kt(N,f,v)):new kt(N,f,v)})()}}function Tt(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Er(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(mn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if($e(f))return"Blackberry";if(ht(f))return"Webos";if(On(f))return"Safari";if((f.includes("chrome/")||wi(f))&&!f.includes("edge/"))return"Chrome";if(kn(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function mn(y=(0,O.z$)()){return/firefox\//i.test(y)}function On(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function wi(y=(0,O.z$)()){return/crios\//i.test(y)}function Er(y=(0,O.z$)()){return/iemobile/i.test(y)}function kn(y=(0,O.z$)()){return/android/i.test(y)}function $e(y=(0,O.z$)()){return/blackberry/i.test(y)}function ht(y=(0,O.z$)()){return/webos/i.test(y)}function Yt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Bs(y=(0,O.z$)()){return Yt(y)||kn(y)||ht(y)||$e(y)||/windows phone/i.test(y)||Er(y)}function fs(y,f=[]){let g;switch(y){case"Browser":g=Tt((0,O.z$)());break;case"Worker":g=`${Tt((0,O.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${v}`}class po{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=N=>new Promise((z,le)=>{try{z(f(N))}catch(Le){le(Le)}});v.onAbort=g,this.queue.push(v);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,l.Z)(function*(){var v;if(g.auth.currentUser===f)return;const A=[];try{for(const N of g.queue)yield N(f),N.onAbort&&A.push(N.onAbort)}catch(N){A.reverse();for(const z of A)try{z()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(v=N)||void 0===v?void 0:v.message})}})()}}class At{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new js(this),this.idTokenSubscription=new js(this),this.beforeStateQueue=new po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,N;if(!v._deleted&&(v.persistenceManager=yield kt.create(v,f),!v._deleted)){if(null!==(A=v._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(N=v.currentUser)||void 0===N?void 0:N.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,l.Z)(function*(){var v;const A=yield g.assertedPersistence.getCurrentUser();let N=A,z=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const le=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Le=N?._redirectEventId,Ke=yield g.tryRedirectSignIn(f);(!le||le===Le)&&Ke?.user&&(N=Ke.user,z=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(z)try{yield g.beforeStateQueue.runMiddleware(N)}catch(le){N=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(le))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return V(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,l.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,l.Z)(function*(){var v;try{yield Wt(f)}catch(A){if("auth/network-request-failed"!==(null===(v=A)||void 0===v?void 0:v.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,l.Z)(function*(){const v=f?(0,O.m9)(f):null;return v&&V(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,l.Z)(function*(){if(!v._deleted)return f&&V(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,l.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(se(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,l.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&se(f)||g._popupRedirectResolver;V(v,g,"argument-error"),g.redirectPersistenceManager=yield kt.create(g,[se(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,l.Z)(function*(){var v,A;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,l.Z)(function*(){if(f===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,A){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return V(z,this,"internal-error"),z.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,v,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=fs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(v["X-Firebase-Client"]=A),v})()}}function yn(y){return(0,O.m9)(y)}class js{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ii(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ps(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class or{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ge("not implemented")}_getIdTokenResponse(f){return ge("not implemented")}_linkToIdToken(f,g){return ge("not implemented")}_getReauthenticationResolver(f){return ge("not implemented")}}function Ln(y,f){return iu.apply(this,arguments)}function iu(){return(iu=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:resetPassword",Rt(y,f))})).apply(this,arguments)}function sn(y,f){return pc.apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gc(y,f){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",Rt(y,f))})).apply(this,arguments)}function Gi(){return(Gi=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signInWithPassword",Rt(y,f))})).apply(this,arguments)}function ms(y,f){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:sendOobCode",Rt(y,f))})).apply(this,arguments)}function er(y,f){return mc.apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function tr(y,f){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function su(y,f){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function yc(y,f){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.Z)(function*(y,f){return ms(y,f)})).apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,f))})).apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,f))})).apply(this,arguments)}class vc extends or{constructor(f,g,v,A=null){super("password",v),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new vc(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new vc(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function na(y,f){return Gi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function kh(y,f){return Gl.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,l.Z)(function*(){switch(v.signInMethod){case"password":return sn(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Fh(y,f){return _c.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Hn(y,f){return ql.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signInWithIdp",Rt(y,f))})).apply(this,arguments)}class qi extends or{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new qi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ae("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A}=g,N=(0,ie._T)(g,["providerId","signInMethod"]);if(!v||!A)return null;const z=new qi(v,A);return z.idToken=N.idToken||void 0,z.accessToken=N.accessToken||void 0,z.secret=N.secret,z.nonce=N.nonce,z.pendingToken=N.pendingToken||null,z}_getIdTokenResponse(f){return Hn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Hn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Hn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function Zp(y,f){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:sendVerificationCode",Rt(y,f))})).apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,f))})).apply(this,arguments)}function Wl(){return(Wl=(0,l.Z)(function*(y,f){const g=yield kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,f));if(g.temporaryProof)throw oi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const qp={USER_NOT_FOUND:"user-not-found"};function Kl(){return(Kl=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),qp)})).apply(this,arguments)}class _s extends or{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new _s({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new _s({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function wc(y,f){return ys.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Gp(y,f){return Wl.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function zp(y,f){return Kl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:N}=f;return v||g||A||N?new _s({verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:N}):null}}class ou{constructor(f){var g,v,A,N,z,le;const Le=(0,O.zd)((0,O.pd)(f)),Ke=null!==(g=Le.apiKey)&&void 0!==g?g:null,gt=null!==(v=Le.oobCode)&&void 0!==v?v:null,at=function Yl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);V(Ke&&gt&&at,"argument-error"),this.apiKey=Ke,this.operation=at,this.code=gt,this.continueUrl=null!==(N=Le.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(z=Le.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(le=Le.tenantId)&&void 0!==le?le:null}static parseLink(f){const g=function Ql(y){const f=(0,O.zd)((0,O.pd)(y)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||g||f||y}(f);try{return new ou(g)}catch{return null}}}let Ei=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return vc._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const A=ou.parseLink(v);return V(A,"argument-error"),vc._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class bi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class zi extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Hs extends zi{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return V("providerId"in g&&"signInMethod"in g,"argument-error"),qi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return V(f.idToken||f.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Hs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Hs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:N,nonce:z,providerId:le}=f;if(!v&&!A&&!g&&!N||!le)return null;try{return new Hs(le)._credential({idToken:g,accessToken:v,nonce:z,pendingToken:N})}catch{return null}}}let ia=(()=>{class y extends zi{constructor(){super("facebook.com")}static credential(g){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),au=(()=>{class y extends zi{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A}=g;if(!v&&!A)return null;try{return y.credential(v,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ic=(()=>{class y extends zi{constructor(){super("github.com")}static credential(g){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class go extends or{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Hn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Hn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Hn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A,pendingToken:N}=g;return v&&A&&N&&v===A?new go(v,N):null}static _create(f,g){return new go(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wr extends bi{constructor(f){V(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Wr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Wr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=go.fromJSON(f);return V(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return go._create(v,g)}catch{return null}}}let Vr=(()=>{class y extends zi{constructor(){super("twitter.com")}static credential(g,v){return qi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=g;if(!v||!A)return null;try{return y.credential(v,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function mo(y,f){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signUp",Rt(y,f))})).apply(this,arguments)}class ar{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,A=!1){return(0,l.Z)(function*(){const N=yield tt._fromIdTokenResponse(f,v,A),z=Uh(v);return new ar({user:N,providerId:z,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const A=Uh(v);return new ar({user:f,providerId:A,_tokenResponse:v,operationType:g})})()}}function Uh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function bn(){return(bn=(0,l.Z)(function*(y){var f;const g=yn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ar({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield mo(g,{returnSecureToken:!0}),A=yield ar._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class uu extends O.ZR{constructor(f,g,v,A){var N;super(g.code,g.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,uu.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,A){return new uu(f,g,v,A)}}function jh(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?uu._fromErrorAndOperation(y,N,f,v):N})}function Kr(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function cu(){return(cu=(0,l.Z)(function*(y,f){const g=(0,O.m9)(y);yield jt(!0,g,f);const{providerUserInfo:v}=yield Lr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Kr(v||[]);return g.providerData=g.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function yo(y,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(y,f,g=!1){const v=yield Jn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ar._forOperation(y,"link",v)})).apply(this,arguments)}function jt(y,f,g){return lu.apply(this,arguments)}function lu(){return(lu=(0,l.Z)(function*(y,f,g){yield Wt(f);const A=!1===y?"provider-already-linked":"no-such-provider";V(Kr(f.providerData).has(g)===y,f.auth,A)})).apply(this,arguments)}function Zs(y,f){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(y,f,g=!1){var v;const{auth:A}=y,N="reauthenticate";try{const z=yield Jn(y,jh(A,N,f,y),g);V(z.idToken,A,"internal-error");const le=it(z.idToken);V(le,A,"internal-error");const{sub:Le}=le;return V(y.uid===Le,A,"user-mismatch"),ar._forOperation(y,N,z)}catch(z){throw"auth/user-not-found"===(null===(v=z)||void 0===v?void 0:v.code)&&Ae(A,"user-mismatch"),z}})).apply(this,arguments)}function di(y,f){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(y,f,g=!1){const v="signIn",A=yield jh(y,v,f),N=yield ar._fromIdTokenResponse(y,v,A);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function En(y,f){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(y,f){return di(yn(y),f)})).apply(this,arguments)}function fu(y,f){return $h.apply(this,arguments)}function $h(){return($h=(0,l.Z)(function*(y,f){const g=(0,O.m9)(y);return yield jt(!1,g,f.providerId),yo(g,f)})).apply(this,arguments)}function pu(y,f){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(y,f){return Zs((0,O.m9)(y),f)})).apply(this,arguments)}function Ec(y,f){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(y,f){return kr(y,"POST","/v1/accounts:signInWithCustomToken",Rt(y,f))})).apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(y,f){const g=yn(y),v=yield Ec(g,{token:f,returnSecureToken:!0}),A=yield ar._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ce{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ft._fromServerResponse(f,g):Ae(f,"internal-error")}}class Ft extends Ce{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ft(g)}}function mu(y,f,g){var v;V((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),V(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(V(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(V(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Cn(){return(Cn=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y),A={requestType:"PASSWORD_RESET",email:f};g&&mu(v,A,g),yield tr(v,A)})).apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,f,g){yield Ln((0,O.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(y,f){yield gc((0,O.m9)(y),{oobCode:f})})).apply(this,arguments)}function aa(y,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,l.Z)(function*(y,f){const g=(0,O.m9)(y),v=yield Ln(g,{oobCode:f}),A=v.requestType;switch(V(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(v.mfaInfo,g,"internal-error");default:V(v.email,g,"internal-error")}let N=null;return v.mfaInfo&&(N=Ce._fromServerResponse(yn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function Xl(){return(Xl=(0,l.Z)(function*(y,f){const{data:g}=yield aa((0,O.m9)(y),f);return g.email})).apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(y,f,g){const v=yn(y),A=yield mo(v,{returnSecureToken:!0,email:f,password:g}),N=yield ar._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}function Gs(){return(Gs=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};V(g.handleCodeInApp,v,"argument-error"),g&&mu(v,A,g),yield su(v,A)})).apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y),A=Ei.credentialWithLink(f,g||Pe());return V(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),En(v,A)})).apply(this,arguments)}function Kp(y,f){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:createAuthUri",Rt(y,f))})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(y,f){const v={identifier:f,continueUri:ut()?Pe():"http://localhost"},{signinMethods:A}=yield Kp((0,O.m9)(y),v);return A||[]})).apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(y,f){const g=(0,O.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&mu(g.auth,A,f);const{email:N}=yield er(g.auth,A);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&mu(v.auth,N,g);const{email:z}=yield yc(v.auth,N);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Iu(y,f){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(y,f){return en(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Nc(){return(Nc=(0,l.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,O.m9)(y),N={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},z=yield Jn(v,Iu(v.auth,N));v.displayName=z.displayName||null,v.photoURL=z.photoUrl||null;const le=v.providerData.find(({providerId:Le})=>"password"===Le);le&&(le.displayName=v.displayName,le.photoURL=v.photoURL),yield v._updateTokensIfNecessary(z)})).apply(this,arguments)}function zs(y,f,g){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(y,f,g){const{auth:v}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const z=yield Jn(y,sn(v,N));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Ur{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class fn extends Ur{constructor(f,g,v,A){super(f,g,v),this.username=A}}class td extends Ur{constructor(f,g){super(f,"facebook.com",g)}}class Pc extends fn{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Hh extends Ur{constructor(f,g){super(f,"google.com",g)}}class Oc extends fn{constructor(f,g,v){super(f,"twitter.com",g,v)}}function bu(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Zn(y){var f,g;if(!y)return null;const{providerId:v}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const z=null===(g=null===(f=it(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new Ur(N,"anonymous"!==z&&"custom"!==z?z:null)}if(!v)return null;switch(v){case"facebook.com":return new td(N,A);case"github.com":return new Pc(N,A);case"google.com":return new Hh(N,A);case"twitter.com":return new Oc(N,A,y.screenName||null);case"custom":case"anonymous":return new Ur(N,null);default:return new Ur(N,v,A)}}(g)}class Ws{constructor(f,g,v){this.type=f,this.credential=g,this.auth=v}static _fromIdtoken(f,g){return new Ws("enroll",f,g)}static _fromMfaPendingCredential(f){return new Ws("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ws._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return Ws._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Cu{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=yn(f),A=g.customData._serverResponse,N=(A.mfaInfo||[]).map(le=>Ce._fromServerResponse(v,le));V(A.mfaPendingCredential,v,"internal-error");const z=Ws._fromMfaPendingCredential(A.mfaPendingCredential);return new Cu(z,N,function(){var le=(0,l.Z)(function*(Le){const Ke=yield Le._process(v,z);delete A.mfaInfo,delete A.mfaPendingCredential;const gt=Object.assign(Object.assign({},A),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(g.operationType){case"signIn":const at=yield ar._fromIdTokenResponse(v,g.operationType,gt);return yield v._updateCurrentUser(at.user),at;case"reauthenticate":return V(g.user,v,"internal-error"),ar._forOperation(g.user,g.operationType,gt);default:Ae(v,"internal-error")}});return function(Le){return le.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,l.Z)(function*(){return g.signInResolver(f)})()}}function Du(y,f){return en(y,"POST","/v2/accounts/mfaEnrollment:start",Rt(y,f))}class Zh{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Ce._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new Zh(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Ws._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var v=this;return(0,l.Z)(function*(){const A=f,N=yield v.getSession(),z=yield Jn(v.user,A._process(v.user.auth,N,g));return yield v.user._updateTokensIfNecessary(z),v.user.reload()})()}unenroll(f){var g=this;return(0,l.Z)(function*(){var v;const A="string"==typeof f?f:f.uid,N=yield g.user.getIdToken(),z=yield Jn(g.user,function sd(y,f){return en(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(y,f))}(g.user.auth,{idToken:N,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:le})=>le!==A),yield g.user._updateTokensIfNecessary(z);try{yield g.user.reload()}catch(le){if("auth/user-token-expired"!==(null===(v=le)||void 0===v?void 0:v.code))throw le}})()}}const Eo=new WeakMap,Ks="__sak";class Au{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ks,"1"),this.storage.removeItem(Ks),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const fa=(()=>{class y extends Au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ha(){const y=(0,O.z$)();return On(y)||Yt(y)}()&&function hn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),N=this.localCache[v];A!==N&&g(v,N,A)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((le,Le,Ke)=>{this.notifyListeners(le,Ke)});const A=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(A);if(g.newValue!==le)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!v)return}const N=()=>{const le=this.storage.getItem(A);!v&&this.localCache[A]===le||this.notifyListeners(A,le)},z=this.storage.getItem(A);!function $n(){return(0,O.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var A=()=>super._set,N=this;return(0,l.Z)(function*(){yield A().call(N,g,v),N.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,A=this;return(0,l.Z)(function*(){const N=yield v().call(A,g);return A.localCache[g]=JSON.stringify(N),N})()}_remove(g){var v=()=>super._remove,A=this;return(0,l.Z)(function*(){yield v().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),Di=(()=>{class y extends Au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let ud=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(N=>N.isListeningto(g));if(v)return v;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,l.Z)(function*(){const A=g,{eventId:N,eventType:z,data:le}=A.data,Le=v.handlersMap[z];if(!Le?.size)return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:z});const Ke=Array.from(Le).map(function(){var at=(0,l.Z)(function*(zn){return zn(A.origin,le)});return function(zn){return at.apply(this,arguments)}}()),gt=yield function ga(y){return Promise.all(y.map(function(){var f=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(Ke);A.ports[0].postMessage({status:"done",eventId:N,eventType:z,response:gt})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ma(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class Fc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var A=this;return(0,l.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let z,le;return new Promise((Le,Ke)=>{const gt=ma("",20);N.port1.start();const at=setTimeout(()=>{Ke(new Error("unsupported_event"))},v);le={messageChannel:N,onMessage(zn){const Pi=zn;if(Pi.data.eventId===gt)switch(Pi.data.status){case"ack":clearTimeout(at),z=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Le(Pi.data.response);break;default:clearTimeout(at),clearTimeout(z),Ke(new Error("invalid_response"))}}},A.handlers.add(le),N.port1.addEventListener("message",le.onMessage),A.target.postMessage({eventType:f,eventId:gt,data:g},[N.port2])}).finally(()=>{le&&A.removeMessageHandler(le)})})()}}function Rn(){return window}function Su(){return typeof Rn().WorkerGlobalScope<"u"&&"function"==typeof Rn().importScripts}function ya(){return(ya=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Is="firebaseLocalStorageDb",Es="firebaseLocalStorage",Lc="fbase_key";class Qs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function _a(y,f){return y.transaction([Es],f?"readwrite":"readonly").objectStore(Es)}function Co(){const y=indexedDB.open(Is,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Es,{keyPath:Lc})}catch(A){g(A)}}),y.addEventListener("success",(0,l.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Es)?f(v):(v.close(),yield function ld(){const y=indexedDB.deleteDatabase(Is);return new Qs(y).toPromise()}(),f(yield Co()))}))})}function Ji(y,f,g){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,l.Z)(function*(y,f,g){const v=_a(y,!0).put({[Lc]:f,value:g});return new Qs(v).toPromise()})).apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(y,f){const g=_a(y,!1).get(f),v=yield new Qs(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Js(y,f){const g=_a(y,!0).delete(f);return new Qs(g).toPromise()}const Do=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield Co()),g.db})()}_withRetries(g){var v=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const N=yield v._openDb();return yield g(N)}catch(N){if(A++>3)throw N;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return Su()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=ud._getInstance(function Mu(){return Su()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,l.Z)(function*(A,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(A,N){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,l.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var v,A;if(g.activeServiceWorker=yield function Ys(){return ya.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Fc(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(v=N[0])||void 0===v?void 0:v.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,l.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function xu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Co();return yield Ji(g,Ks,"1"),yield Js(g,Ks),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,l.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(N=>Ji(N,g,v)),A.localCache[g]=v,A.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,l.Z)(function*(){const A=yield v._withRetries(N=>function Ru(y,f){return va.apply(this,arguments)}(N,g));return v.localCache[g]=A,A})()}_remove(g){var v=this;return(0,l.Z)(function*(){return v._withPendingWrite((0,l.Z)(function*(){return yield v._withRetries(A=>Js(A,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const v=yield g._withRetries(z=>{const le=_a(z,!1).getAll();return new Qs(le).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:z,value:le}of v)N.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(le)&&(g.notifyListeners(z,le),A.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!N.has(z)&&(g.notifyListeners(z,null),A.push(z));return A})()}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function To(y,f){return en(y,"POST","/v2/accounts/mfaSignIn:start",Rt(y,f))}function bs(){return(bs=(0,l.Z)(function*(y){return(yield en(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function So(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=A=>{const N=ve("internal-error");N.customData=A,g(N)},v.type="text/javascript",v.charset="UTF-8",function Ao(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function Ou(y){return`__${y}${Math.floor(1e6*Math.random())}`}const wa=1e12;class ln{constructor(f){this.auth=f,this.counter=wa,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Yp(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||wa;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||wa))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,l.Z)(function*(){var v;return null===(v=g._widgets.get(f||wa))||void 0===v||v.execute(),""})()}}class Yp{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;V(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function my(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qp=Ou("rcb"),yy=new rn(3e4,6e4);class Gh{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Rn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return V(function T0(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Rn().grecaptcha):new Promise((v,A)=>{const N=Rn().setTimeout(()=>{A(ve(f,"network-request-failed"))},yy.get());Rn()[Qp]=()=>{Rn().clearTimeout(N),delete Rn()[Qp];const le=Rn().grecaptcha;if(!le)return void A(ve(f,"internal-error"));const Le=le.render;le.render=(Ke,gt)=>{const at=Le(Ke,gt);return this.counter++,at},this.hostLanguage=g,v(le)},So(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Qp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),A(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Rn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bc{load(f){return(0,l.Z)(function*(){return new ln(f)})()}clearedOneInstance(){}}const vy="recaptcha",wy={theme:"light",type:"image"};class rr{constructor(f,g=Object.assign({},wy),v){this.parameters=g,this.type=vy,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(v),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;V(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bc:new Gh,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(N=>{const z=le=>{!le||(f.tokenChangeListeners.delete(z),N(le))};f.tokenChangeListeners.add(z),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=Rn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){V(ut()&&!Su(),f.auth,"internal-error"),yield function on(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Br(y){return bs.apply(this,arguments)}(f.auth);V(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fi{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=_s._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Qr(){return(Qr=(0,l.Z)(function*(y,f,g){const v=yn(y),A=yield Cs(v,f,(0,O.m9)(g));return new fi(A,N=>En(v,N))})).apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y);yield jt(!1,v,"phone");const A=yield Cs(v.auth,f,(0,O.m9)(g));return new fi(A,N=>fu(v,N))})).apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y),A=yield Cs(v.auth,f,(0,O.m9)(g));return new fi(A,N=>pu(v,N))})).apply(this,arguments)}function Cs(y,f,g){return ku.apply(this,arguments)}function ku(){return(ku=(0,l.Z)(function*(y,f,g){var v;const A=yield g.verify();try{let N;if(V("string"==typeof A,y,"argument-error"),V(g.type===vy,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const z=N.session;if("phoneNumber"in N)return V("enroll"===z.type,y,"internal-error"),(yield Du(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{V("signin"===z.type,y,"internal-error");const le=(null===(v=N.multiFactorHint)||void 0===v?void 0:v.uid)||N.multiFactorUid;return V(le,y,"missing-multi-factor-info"),(yield To(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Zp(y,{phoneNumber:N.phoneNumber,recaptchaToken:A});return z}}finally{g._reset()}})).apply(this,arguments)}function jc(){return(jc=(0,l.Z)(function*(y,f){yield yo((0,O.m9)(y),f)})).apply(this,arguments)}let Ea=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=yn(g)}verifyPhoneNumber(g,v){return Cs(this.auth,g,(0,O.m9)(v))}static credential(g,v){return _s._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:A}=g;return v&&A?_s._fromTokenResponse(v,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Mo(y,f){return f?se(f):(V(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ds extends or{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Hn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Hn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Hn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function rt(y){return di(y.auth,new Ds(y),y.bypassAuthState)}function ba(y){const{auth:f,user:g}=y;return V(g,f,"internal-error"),Zs(g,new Ds(y),y.bypassAuthState)}function Ts(y){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(y){const{auth:f,user:g}=y;return V(g,f,"internal-error"),yo(g,new Ds(y),y.bypassAuthState)})).apply(this,arguments)}class Ro{constructor(f,g,v,A,N=!1){this.auth=f,this.resolver=v,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,l.Z)(function*(v,A){f.pendingPromise={resolve:v,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(v,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,l.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:N,tenantId:z,error:le,type:Le}=f;if(le)return void g.reject(le);const Ke={auth:g.auth,requestUri:v,sessionId:A,tenantId:z||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Ke))}catch(gt){g.reject(gt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return rt;case"linkViaPopup":case"linkViaRedirect":return Ts;case"reauthViaPopup":case"reauthViaRedirect":return ba;default:Ae(this.auth,"internal-error")}}resolve(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gn=new rn(2e3,1e4);function No(){return(No=(0,l.Z)(function*(y,f,g){const v=yn(y);Be(y,f,bi);const A=Mo(v,g);return new As(v,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y);Be(v.auth,f,bi);const A=Mo(v.auth,g);return new As(v.auth,"reauthViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y);Be(v.auth,f,bi);const A=Mo(v.auth,g);return new As(v.auth,"linkViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}let As=(()=>{class y extends Ro{constructor(g,v,A,N,z){super(g,v,N,z),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const v=yield g.execute();return V(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,l.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const v=ma();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,A;this.pollId=null!==(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Gn.get())};g()}}return y.currentPopupAction=null,y})();const gi=new Map;class Zc extends Ro{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,l.Z)(function*(){let v=gi.get(g.auth._key());if(!v){try{const N=(yield function Po(y,f){return jr.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(N)}catch(A){v=()=>Promise.reject(A)}gi.set(g.auth._key(),v)}return g.bypassAuthState||gi.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const A=yield v.auth._redirectUserForId(f.eventId);if(A)return v.user=A,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function jr(){return(jr=(0,l.Z)(function*(y,f){const g=Vn(f),v=ts(y);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(g));return yield v._remove(g),A})).apply(this,arguments)}function es(y,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(y,f){return ts(y)._set(Vn(f),"true")})).apply(this,arguments)}function xs(y,f){gi.set(y._key(),f)}function ts(y){return se(y._redirectPersistence)}function Vn(y){return jn("pendingRedirect",y.config.apiKey,y.name)}function b(){return(b=(0,l.Z)(function*(y,f,g){const v=yn(y);Be(y,f,bi);const A=Mo(v,g);return yield es(A,v),A._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function F(){return(F=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y);Be(v.auth,f,bi);const A=Mo(v.auth,g);yield es(A,v.auth);const N=yield ot(v);return A._openRedirect(v.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(y,f,g){const v=(0,O.m9)(y);Be(v.auth,f,bi);const A=Mo(v.auth,g);yield jt(!1,v,f.providerId),yield es(A,v.auth);const N=yield ot(v);return A._openRedirect(v.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(y,f){return yield yn(y)._initializationPromise,ft(y,f,!1)})).apply(this,arguments)}function ft(y,f){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(y,f,g=!1){const v=yn(y),A=Mo(v,f),z=yield new Zc(v,A,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield v._persistUserIfCurrent(z.user),yield v._setRedirectUser(null,f)),z})).apply(this,arguments)}function ot(y){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(y){const f=ma(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Oo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ai(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Et(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Et(f)){const A=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ms(f))}saveEventToCache(f){this.cachedEventUids.add(Ms(f)),this.lastProcessedEventTime=Date.now()}}function Ms(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Et({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Rs(y){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(y,f={}){return en(y,"GET","/v1/projects",f)})).apply(this,arguments)}const ko=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eo=/^https?/;function qh(){return(qh=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Rs(y);for(const g of f)try{if(eg(g))return}catch{}Ae(y,"unauthorized-domain")})).apply(this,arguments)}function eg(y){const f=Pe(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===v}if(!eo.test(g))return!1;if(ko.test(y))return v===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const tg=new rn(3e4,6e4);function Iy(){const y=Rn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Si=null;function zh(y){return Si=Si||function qn(y){return new Promise((f,g)=>{var v,A,N;function z(){Iy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Iy(),g(ve(y,"network-request-failed"))},timeout:tg.get()})}if(null!==(A=null===(v=Rn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(N=Rn().gapi)||void 0===N||!N.load){const le=Ou("iframefcb");return Rn()[le]=()=>{gapi.load?z():g(ve(y,"network-request-failed"))},So(`https://apis.google.com/js/api.js?onload=${le}`).catch(Le=>g(Le))}z()}}).catch(f=>{throw Si=null,f})}(y),Si}const ng=new rn(5e3,15e3),Ey={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rg(y){const f=y.config;V(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Sn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:y.name,v:ue.SDK_VERSION},A=Kh.get(y.config.apiHost);A&&(v.eid=A);const N=y._getFrameworks();return N.length&&(v.fw=N.join(",")),`${g}?${(0,O.xO)(v).slice(1)}`}function Ta(){return Ta=(0,l.Z)(function*(y){const f=yield zh(y),g=Rn().gapi;return V(g,y,"internal-error"),f.open({where:document.body,url:rg(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ey,dontclear:!0},v=>new Promise(function(){var A=(0,l.Z)(function*(N,z){yield v.restyle({setHideOnLeave:!1});const le=ve(y,"network-request-failed"),Le=Rn().setTimeout(()=>{z(le)},ng.get());function Ke(){Rn().clearTimeout(Le),N(v)}v.ping(Ke).then(Ke,()=>{z(le)})});return function(N,z){return A.apply(this,arguments)}}()))}),Ta.apply(this,arguments)}const dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pd(y,f,g,v,A,N){V(y.config.authDomain,y,"auth-domain-config-required"),V(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:ue.SDK_VERSION,eventId:A};if(f instanceof bi){f.setDefaultLanguage(y.languageCode),z.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Le,Ke]of Object.entries(N||{}))z[Le]=Ke}if(f instanceof zi){const Le=f.getScopes().filter(Ke=>""!==Ke);Le.length>0&&(z.scopes=Le.join(","))}y.tenantId&&(z.tid=y.tenantId);const le=z;for(const Le of Object.keys(le))void 0===le[Le]&&delete le[Le];return`${function gd({config:y}){return y.emulator?Sn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(le).slice(1)}`}const Sa="webStorageSupport";class xi extends class by{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new xi(f)}_finalizeEnroll(f,g,v){return function Tu(y,f){return en(y,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Pu(y,f){return en(y,"POST","/v2/accounts/mfaSignIn:finalize",Rt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fo=(()=>{class y{constructor(){}static assertion(g){return xi._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Qh="@firebase/auth";class S0{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var A;f((null===(A=v)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lo(){return window}function Jh(){return(Jh=(0,l.Z)(function*(y,f,g){var v;const{BuildInfo:A}=Lo();W(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Ay(f.sessionId),z={};return Yt()?z.ibi=A.packageName:kn()?z.apn=A.packageName:Ae(y,"operation-not-supported-in-this-environment"),A.displayName&&(z.appDisplayName=A.displayName),z.sessionId=N,pd(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,z)})).apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(y){const{BuildInfo:f}=Lo(),g={};Yt()?g.iosBundleId=f.packageName:kn()?g.androidPackageName=f.packageName:Ae(y,"operation-not-supported-in-this-environment"),yield Rs(y,g)})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(y,f,g){const{cordova:v}=Lo();let A=()=>{};try{yield new Promise((N,z)=>{let le=null;function Le(){var at;N();const zn=null===(at=v.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof zn&&zn(),"function"==typeof g?.close&&g.close()}function Ke(){le||(le=window.setTimeout(()=>{z(ve(y,"redirect-cancelled-by-user"))},2e3))}function gt(){"visible"===document?.visibilityState&&Ke()}f.addPassiveListener(Le),document.addEventListener("resume",Ke,!1),kn()&&document.addEventListener("visibilitychange",gt,!1),A=()=>{f.removePassiveListener(Le),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",gt,!1),le&&window.clearTimeout(le)}})}finally{A()}})).apply(this,arguments)}function Ay(y){return cg.apply(this,arguments)}function cg(){return(cg=(0,l.Z)(function*(y){const f=R0(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function R0(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}!function M0(y){(0,ue._registerComponent)(new ce.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:N,authDomain:z}=v.options;return((le,Le)=>{V(N&&!N.includes(":"),"invalid-api-key",{appName:le.name}),V(!z?.includes(":"),"argument-error",{appName:le.name});const Ke={apiKey:N,authDomain:z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fs(y)},gt=new At(le,Le,Ke);return function Oe(y,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(se);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,f?.popupRedirectResolver)}(gt,g),gt})(v,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ce.wA("auth-internal",f=>{const g=yn(f.getProvider("auth").getImmediate());return new S0(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Qh,"0.20.7",function x0(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ue.registerVersion)(Qh,"0.20.7","esm2017")}("Browser");class Ma extends Oo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function lg(y){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,l.Z)(function*(y){const f=yield Xh()._get(ef(y));return f&&(yield Xh()._remove(ef(y))),f})).apply(this,arguments)}function Vu(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function Xh(){return se(fa)}function ef(y){return jn("authEvent",y.config.apiKey,y.name)}function Uu(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function hg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function ns(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function rf(y=(0,O.z$)()){return!("file:"!==ns()&&"ionic:"!==ns()&&"capacitor:"!==ns()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function wd(){try{const y=self.localStorage,f=ma();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Yc(y=(0,O.z$)()){return function P0(){return(0,O.w1)()&&11===document?.documentMode}()||function O0(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Id()&&(0,O.hl)()}return!1}function Id(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ed(){return(function vd(){return"http:"===ns()||"https:"===ns()}()||(0,O.ru)()||rf())&&!function xy(){return(0,O.b$)()||(0,O.UG)()}()&&wd()&&!Id()}function sf(){return rf()&&typeof document<"u"}function bd(){return(bd=(0,l.Z)(function*(){return!!sf()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},Cd=V,af="persistence";function Bu(y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(y){yield y._initializationPromise;const f=uf(),g=jn(af,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function uf(){var y;try{return(null===(y=function pg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Dd=V;class rs{constructor(){this.browserResolver=se(class og{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=ft,this._overrideRedirectResult=xs}_openPopup(f,g,v,A){var N=this;return(0,l.Z)(function*(){var z;W(null===(z=N.eventManagers[f._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const le=pd(f,g,v,Pe(),A);return function no(y,f,g,v=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),z=Math.max((window.screen.availWidth-v)/2,0).toString();let le="";const Le=Object.assign(Object.assign({},dd),{width:v.toString(),height:A.toString(),top:N,left:z}),Ke=(0,O.z$)().toLowerCase();g&&(le=wi(Ke)?"_blank":g),mn(Ke)&&(f=f||"http://localhost",Le.scrollbars="yes");const gt=Object.entries(Le).reduce((zn,[Pi,$u])=>`${zn}${Pi}=${$u},`,"");if(function ci(y=(0,O.z$)()){var f;return Yt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ke)&&"_self"!==le)return function sg(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",le),new Gc(null);const at=window.open(f||"",le,gt);V(at,y,"popup-blocked");try{at.focus()}catch{}return new Gc(at)}(f,le,ma())})()}_openRedirect(f,g,v,A){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(f),function hi(y){Rn().location.href=y}(pd(f,g,v,Pe(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:N}=this.eventManagers[g];return A?Promise.resolve(A):(W(N,"If manager is not set, promise should be"),N)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,l.Z)(function*(){const v=yield function ig(y){return Ta.apply(this,arguments)}(f),A=new Oo(f);return v.register("authEvent",N=>(V(N?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=v,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Sa,{type:Sa},A=>{var N;const z=null===(N=A?.[0])||void 0===N?void 0:N[Sa];void 0!==z&&g(!!z),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function mi(y){return qh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Bs()||On()||Yt()}}),this.cordovaResolver=se(class Sy{constructor(){this._redirectPersistence=Di,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ft,this._overrideRedirectResult=xs}_initialize(f){var g=this;return(0,l.Z)(function*(){const v=f._key();let A=g.eventManagers.get(v);return A||(A=new Ma(f),g.eventManagers.set(v,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,A){var N=this;return(0,l.Z)(function*(){!function md(y){var f,g,v,A,N,z,le,Le,Ke,gt;const at=Lo();V("function"==typeof(null===(f=at?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(g=at?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(N=null===(A=null===(v=at?.cordova)||void 0===v?void 0:v.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(Le=null===(le=null===(z=at?.cordova)||void 0===z?void 0:z.plugins)||void 0===le?void 0:le.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(gt=null===(Ke=at?.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===gt?void 0:gt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const z=yield N._initialize(f);yield z.initialized(),z.resetRedirect(),function pr(){gi.clear()}(),yield N._originValidation(f);const le=function Ra(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Vu(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(f,v,A);yield function Wc(y,f){return Xh()._set(ef(y),f)}(f,le);const Le=yield function Dy(y,f,g){return Jh.apply(this,arguments)}(f,le,g),Ke=yield function Mi(y){const{cordova:f}=Lo();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let A=null;v?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function zr(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Le);return function zc(y,f,g){return Ns.apply(this,arguments)}(f,z,Ke)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ty(y){return xa.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:A,BuildInfo:N}=Lo(),z=setTimeout((0,l.Z)(function*(){yield lg(f),g.onEvent(hg())}),500),le=function(){var gt=(0,l.Z)(function*(at){clearTimeout(z);const zn=yield lg(f);let Pi=null;zn&&at?.url&&(Pi=function dg(y,f){var g,v;const A=function yd(y){const f=Uu(y),g=f.link?decodeURIComponent(f.link):void 0,v=Uu(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Uu(A).link||A||v||g||y}(f);if(A.includes("/__/auth/callback")){const N=Uu(A),z=N.firebaseError?function tf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,le=null===(v=null===(g=z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Le=le?ve(le):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(zn,at.url)),g.onEvent(Pi||hg())});return function(zn){return gt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,le);const Le=A,Ke=`${N.packageName.toLowerCase()}://`;Lo().handleOpenURL=function(){var gt=(0,l.Z)(function*(at){if(at.toLowerCase().startsWith(Ke)&&le({url:at}),"function"==typeof Le)try{Le(at)}catch(zn){console.error(zn)}});return function(at){return gt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Di,this._completeRedirectFn=ft,this._overrideRedirectResult=xs}_initialize(f){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,A){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,v,A)})()}_openRedirect(f,g,v,A){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,v,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return sf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const g=yield function My(){return bd.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Vo(y){return y.unwrap()}function Ad(y){return Sd(y)}function Sd(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Ea.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=au;break;case"facebook.com":v=ia;break;case"github.com":v=Ic;break;case"twitter.com":v=Vr;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:z,pendingToken:le,nonce:Le}=f;return N||z||A||le?le?g.startsWith("saml.")?go._create(g,le):qi._fromParams({providerId:g,signInMethod:g,pendingToken:le,idToken:A,accessToken:N}):new Hs(g).credential({idToken:A,accessToken:N,rawNonce:Le}):null}return y instanceof O.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function cr(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function Os(y,f){var g,v;const A=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(v=f)||void 0===v?void 0:v.code))f.resolver=new Md(y,function Tn(y,f){var g;const v=(0,O.m9)(y),A=f;return V(f.customData.operationType,v,"argument-error"),V(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Cu._fromError(v,A)}(y,f));else if(A){const N=Sd(f),z=f;N&&(z.credential=N,z.tenantId=A.tenantId||void 0,z.email=A.email||void 0,z.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Ad(g),additionalUserInfo:bu(g),user:Xr.getOrCreate(A)}})}function xd(y,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,l.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>cr(y,g.confirm(v))}})).apply(this,arguments)}class Md{constructor(f,g){this.resolver=g,this.auth=function Td(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return cr(Vo(this.auth),this.resolver.resolveSignIn(f))}}class Xr{constructor(f){this._delegate=f,this.multiFactor=function bo(y){const f=(0,O.m9)(y);return Eo.has(f)||Eo.set(f,Zh._fromUser(f)),Eo.get(f)}(f)}static getOrCreate(f){return Xr.USER_MAP.has(f)||Xr.USER_MAP.set(f,new Xr(f)),Xr.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,l.Z)(function*(){return cr(g.auth,fu(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,l.Z)(function*(){return xd(v.auth,function _n(y,f,g){return pi.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,l.Z)(function*(){return cr(g.auth,function Fu(y,f,g){return Da.apply(this,arguments)}(g._delegate,f,rs))})()}linkWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield Bu(yn(g.auth)),function Y(y,f,g){return function re(y,f,g){return Ie.apply(this,arguments)}(y,f,g)}(g._delegate,f,rs)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,l.Z)(function*(){return cr(g.auth,pu(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return xd(this.auth,function Ia(y,f,g){return Dr.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return cr(this.auth,function Xp(y,f,g){return Hc.apply(this,arguments)}(this._delegate,f,rs))}reauthenticateWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield Bu(yn(g.auth)),function D(y,f,g){return function x(y,f,g){return F.apply(this,arguments)}(y,f,g)}(g._delegate,f,rs)})()}sendEmailVerification(f){return function Sc(y,f){return da.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,l.Z)(function*(){return yield function Cr(y,f){return cu.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function ed(y,f){return zs((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function qs(y,f){return zs((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Jp(y,f){return jc.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Rc(y,f){return Nc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function xc(y,f,g){return wu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xr.USER_MAP=new WeakMap;const ro=V;let gg=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;ro(A,"invalid-api-key",{appName:g.name}),ro(A,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?rs:void 0;this._delegate=v.initialize({options:{persistence:cf(A,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function fc(y,f,g){const v=yn(y);V(v._canInitEmulator,v,"emulator-config-failed"),V(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const A=!!g?.disableWarnings,N=Ii(f),{host:z,port:le}=function Fn(y){const f=Ii(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const N=A[1];return{host:N,port:ps(v.substr(N.length+1))}}{const[N,z]=v.split(":");return{host:N,port:ps(z)}}}(f);v.config.emulator={url:`${N}//${z}${null===le?"":`:${le}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:z,port:le,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function gs(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function Yr(y,f){return oa.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return aa(this._delegate,g)}confirmPasswordReset(g,v){return function _u(y,f,g){return _o.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var A=this;return(0,l.Z)(function*(){return cr(A._delegate,function ua(y,f,g){return Dn.apply(this,arguments)}(A._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function vu(y,f){return la.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Qi(y,f){return"EMAIL_SIGNIN"===ou.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){ro(Ed(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Re(y,f){return Je.apply(this,arguments)}(g._delegate,rs);return v?cr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function fg(y,f){yn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,A){const{next:N,error:z,complete:le}=mg(g,v,A);return this._delegate.onAuthStateChanged(N,z,le)}onIdTokenChanged(g,v,A){const{next:N,error:z,complete:le}=mg(g,v,A);return this._delegate.onIdTokenChanged(N,z,le)}sendSignInLinkToEmail(g,v){return function Tc(y,f,g){return Gs.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function yu(y,f,g){return Cn.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,l.Z)(function*(){let A;switch(function Qc(y,f){Cd(Object.values(Tr).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?Cd(f!==Tr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Cd(f===Tr.NONE,y,"unsupported-persistence-type"):Id()?Cd(f===Tr.NONE||f===Tr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Cd(f===Tr.NONE||wd(),y,"unsupported-persistence-type")}(v._delegate,g),g){case Tr.SESSION:A=Di;break;case Tr.LOCAL:A=(yield se(Do)._isAvailable())?Do:fa;break;case Tr.NONE:A=Kt;break;default:return Ae("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return cr(this._delegate,function Bh(y){return bn.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return cr(this._delegate,En(this._delegate,g))}signInWithCustomToken(g){return cr(this._delegate,function bc(y,f){return sa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return cr(this._delegate,function Ci(y,f,g){return En((0,O.m9)(y),Ei.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return cr(this._delegate,function Wp(y,f,g){return ca.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return xd(this._delegate,function nt(y,f,g){return Qr.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,l.Z)(function*(){return ro(Ed(),v._delegate,"operation-not-supported-in-this-environment"),cr(v._delegate,function $c(y,f,g){return No.apply(this,arguments)}(v._delegate,g,rs))})()}signInWithRedirect(g){var v=this;return(0,l.Z)(function*(){return ro(Ed(),v._delegate,"operation-not-supported-in-this-environment"),yield Bu(v._delegate),function pn(y,f,g){return function Lu(y,f,g){return b.apply(this,arguments)}(y,f,g)}(v._delegate,g,rs)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Dc(y,f){return Xl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Tr,y})();function mg(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const A=v;return{next:z=>A(z&&Xr.getOrCreate(z)),error:f,complete:g}}function cf(y,f){const g=function Ni(y,f){const g=uf();if(!g)return[];const v=jn(af,y,f);switch(g.getItem(v)){case Tr.NONE:return[Kt];case Tr.LOCAL:return[Do,Di];case Tr.SESSION:return[Di];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Do)&&g.push(Do),typeof window<"u")for(const v of[fa,Di])g.includes(v)||g.push(v);return g.includes(Kt)||g.push(Kt),g}class ju{constructor(){this.providerId="phone",this._delegate=new Ea(Vo(X.Z.auth()))}static credential(f,g){return Ea.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}ju.PHONE_SIGN_IN_METHOD=Ea.PHONE_SIGN_IN_METHOD,ju.PROVIDER_ID=Ea.PROVIDER_ID;const yg=V;class lf{constructor(f,g,v=X.Z.app()){var A;yg(null===(A=v.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new rr(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vg(y){y.INTERNAL.registerComponent(new ce.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new gg(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ei,FacebookAuthProvider:ia,GithubAuthProvider:Ic,GoogleAuthProvider:au,OAuthProvider:Hs,SAMLAuthProvider:Wr,PhoneAuthProvider:ju,PhoneMultiFactorGenerator:Fo,RecaptchaVerifier:lf,TwitterAuthProvider:Vr,Auth:gg,AuthCredential:or,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.20")}(X.Z)},9751:(st,De,k)=>{k.d(De,{y:()=>de});var l=k(2961),X=k(727),O=k(8822),ue=k(9635),ie=k(2416),he=k(576),ce=k(2806);let de=(()=>{class K{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const we=new K;return we.source=this,we.operator=Se,we}subscribe(Se,we,Ye){const me=function B(K){return K&&K instanceof l.Lv||function U(K){return K&&(0,he.m)(K.next)&&(0,he.m)(K.error)&&(0,he.m)(K.complete)}(K)&&(0,X.Nn)(K)}(Se)?Se:new l.Hp(Se,we,Ye);return(0,ce.x)(()=>{const{operator:pe,source:We}=this;me.add(pe?pe.call(me,We):We?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(Se){try{return this._subscribe(Se)}catch(we){Se.error(we)}}forEach(Se,we){return new(we=fe(we))((Ye,me)=>{const pe=new l.Hp({next:We=>{try{Se(We)}catch(et){me(et),pe.unsubscribe()}},error:me,complete:Ye});this.subscribe(pe)})}_subscribe(Se){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Se)}[O.L](){return this}pipe(...Se){return(0,ue.U)(Se)(this)}toPromise(Se){return new(Se=fe(Se))((we,Ye)=>{let me;this.subscribe(pe=>me=pe,pe=>Ye(pe),()=>we(me))})}}return K.create=Ve=>new K(Ve),K})();function fe(K){var Ve;return null!==(Ve=K??ie.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(st,De,k)=>{k.d(De,{x:()=>ce});var l=k(9751),X=k(727);const ue=(0,k(3888).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(8737),he=k(2806);let ce=(()=>{class fe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const K=new de(this,this);return K.operator=B,K}_throwIfClosed(){if(this.closed)throw new ue}next(B){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(B)}})}error(B){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:K}=this;for(;K.length;)K.shift().error(B)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:K,isStopped:Ve,observers:Se}=this;return K||Ve?X.Lc:(this.currentObservers=null,Se.push(B),new X.w0(()=>{this.currentObservers=null,(0,ie.P)(Se,B)}))}_checkFinalizedStatuses(B){const{hasError:K,thrownError:Ve,isStopped:Se}=this;K?B.error(Ve):Se&&B.complete()}asObservable(){const B=new l.y;return B.source=this,B}}return fe.create=(U,B)=>new de(U,B),fe})();class de extends ce{constructor(U,B){super(),this.destination=U,this.source=B}next(U){var B,K;null===(K=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===K||K.call(B,U)}error(U){var B,K;null===(K=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===K||K.call(B,U)}complete(){var U,B;null===(B=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===B||B.call(U)}_subscribe(U){var B,K;return null!==(K=null===(B=this.source)||void 0===B?void 0:B.subscribe(U))&&void 0!==K?K:X.Lc}}},2961:(st,De,k)=>{k.d(De,{Hp:()=>Ye,Lv:()=>K});var l=k(576),X=k(727),O=k(2416),ue=k(7849);function ie(){}const he=fe("C",void 0,void 0);function fe(Ae,ve,Ee){return{kind:Ae,value:ve,error:Ee}}var U=k(3410),B=k(2806);class K extends X.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,X.Nn)(ve)&&ve.add(this)):this.destination=et}static create(ve,Ee,Be){return new Ye(ve,Ee,Be)}next(ve){this.isStopped?We(function de(Ae){return fe("N",Ae,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?We(function ce(Ae){return fe("E",void 0,Ae)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?We(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Se(Ae,ve){return Ve.call(Ae,ve)}class we{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(ve)}catch(Be){me(Be)}}error(ve){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(ve)}catch(Be){me(Be)}else me(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ee){me(Ee)}}}class Ye extends K{constructor(ve,Ee,Be){let je;if(super(),(0,l.m)(ve)||!ve)je={next:ve??void 0,error:Ee??void 0,complete:Be??void 0};else{let V;this&&O.v.useDeprecatedNextContext?(V=Object.create(ve),V.unsubscribe=()=>this.unsubscribe(),je={next:ve.next&&Se(ve.next,V),error:ve.error&&Se(ve.error,V),complete:ve.complete&&Se(ve.complete,V)}):je=ve}this.destination=new we(je)}}function me(Ae){O.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Ae):(0,ue.h)(Ae)}function We(Ae,ve){const{onStoppedNotification:Ee}=O.v;Ee&&U.z.setTimeout(()=>Ee(Ae,ve))}const et={closed:!0,next:ie,error:function pe(Ae){throw Ae},complete:ie}},727:(st,De,k)=>{k.d(De,{Lc:()=>he,w0:()=>ie,Nn:()=>ce});var l=k(576);const O=(0,k(3888).d)(fe=>function(B){fe(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((K,Ve)=>`${Ve+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ue=k(8737);class ie{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Se of B)Se.remove(this);else B.remove(this);const{initialTeardown:K}=this;if((0,l.m)(K))try{K()}catch(Se){U=Se instanceof O?Se.errors:[Se]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Se of Ve)try{de(Se)}catch(we){U=U??[],we instanceof O?U=[...U,...we.errors]:U.push(we)}}if(U)throw new O(U)}}add(U){var B;if(U&&U!==this)if(this.closed)de(U);else{if(U instanceof ie){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(U)}}_hasParent(U){const{_parentage:B}=this;return B===U||Array.isArray(B)&&B.includes(U)}_addParent(U){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(U),B):B?[B,U]:U}_removeParent(U){const{_parentage:B}=this;B===U?this._parentage=null:Array.isArray(B)&&(0,ue.P)(B,U)}remove(U){const{_finalizers:B}=this;B&&(0,ue.P)(B,U),U instanceof ie&&U._removeParent(this)}}ie.EMPTY=(()=>{const fe=new ie;return fe.closed=!0,fe})();const he=ie.EMPTY;function ce(fe){return fe instanceof ie||fe&&"closed"in fe&&(0,l.m)(fe.remove)&&(0,l.m)(fe.add)&&(0,l.m)(fe.unsubscribe)}function de(fe){(0,l.m)(fe)?fe():fe.unsubscribe()}},2416:(st,De,k)=>{k.d(De,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,De,k)=>{k.d(De,{E:()=>X});const X=new(k(9751).y)(ie=>ie.complete())},8996:(st,De,k)=>{k.d(De,{D:()=>ve});var l=k(8421),X=k(5363),O=k(9468),he=k(9751),de=k(2202),fe=k(576),U=k(9672);function K(Ee,Be){if(!Ee)throw new Error("Iterable cannot be null");return new he.y(je=>{(0,U.f)(je,Be,()=>{const V=Ee[Symbol.asyncIterator]();(0,U.f)(je,Be,()=>{V.next().then(ge=>{ge.done?je.complete():je.next(ge.value)})},0,!0)})})}var Ve=k(3670),Se=k(8239),we=k(1144),Ye=k(6495),me=k(2206),pe=k(4532),We=k(3260);function ve(Ee,Be){return Be?function Ae(Ee,Be){if(null!=Ee){if((0,Ve.c)(Ee))return function ue(Ee,Be){return(0,l.Xf)(Ee).pipe((0,O.R)(Be),(0,X.Q)(Be))}(Ee,Be);if((0,we.z)(Ee))return function ce(Ee,Be){return new he.y(je=>{let V=0;return Be.schedule(function(){V===Ee.length?je.complete():(je.next(Ee[V++]),je.closed||this.schedule())})})}(Ee,Be);if((0,Se.t)(Ee))return function ie(Ee,Be){return(0,l.Xf)(Ee).pipe((0,O.R)(Be),(0,X.Q)(Be))}(Ee,Be);if((0,me.D)(Ee))return K(Ee,Be);if((0,Ye.T)(Ee))return function B(Ee,Be){return new he.y(je=>{let V;return(0,U.f)(je,Be,()=>{V=Ee[de.h](),(0,U.f)(je,Be,()=>{let ge,W;try{({value:ge,done:W}=V.next())}catch(J){return void je.error(J)}W?je.complete():je.next(ge)},0,!0)}),()=>(0,fe.m)(V?.return)&&V.return()})}(Ee,Be);if((0,We.L)(Ee))return function et(Ee,Be){return K((0,We.Q)(Ee),Be)}(Ee,Be)}throw(0,pe.z)(Ee)}(Ee,Be):(0,l.Xf)(Ee)}},8421:(st,De,k)=>{k.d(De,{Xf:()=>Ve});var l=k(655),X=k(1144),O=k(8239),ue=k(9751),ie=k(3670),he=k(2206),ce=k(4532),de=k(6495),fe=k(3260),U=k(576),B=k(7849),K=k(8822);function Ve(Ae){if(Ae instanceof ue.y)return Ae;if(null!=Ae){if((0,ie.c)(Ae))return function Se(Ae){return new ue.y(ve=>{const Ee=Ae[K.L]();if((0,U.m)(Ee.subscribe))return Ee.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,X.z)(Ae))return function we(Ae){return new ue.y(ve=>{for(let Ee=0;Ee<Ae.length&&!ve.closed;Ee++)ve.next(Ae[Ee]);ve.complete()})}(Ae);if((0,O.t)(Ae))return function Ye(Ae){return new ue.y(ve=>{Ae.then(Ee=>{ve.closed||(ve.next(Ee),ve.complete())},Ee=>ve.error(Ee)).then(null,B.h)})}(Ae);if((0,he.D)(Ae))return pe(Ae);if((0,de.T)(Ae))return function me(Ae){return new ue.y(ve=>{for(const Ee of Ae)if(ve.next(Ee),ve.closed)return;ve.complete()})}(Ae);if((0,fe.L)(Ae))return function We(Ae){return pe((0,fe.Q)(Ae))}(Ae)}throw(0,ce.z)(Ae)}function pe(Ae){return new ue.y(ve=>{(function et(Ae,ve){var Ee,Be,je,V;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,l.KL)(Ae);!(Be=yield Ee.next()).done;)if(ve.next(Be.value),ve.closed)return}catch(ge){je={error:ge}}finally{try{Be&&!Be.done&&(V=Ee.return)&&(yield V.call(Ee))}finally{if(je)throw je.error}}ve.complete()})})(Ae,ve).catch(Ee=>ve.error(Ee))})}},6451:(st,De,k)=>{k.d(De,{T:()=>he});var l=k(8189),X=k(8421),O=k(515),ue=k(7669),ie=k(8996);function he(...ce){const de=(0,ue.yG)(ce),fe=(0,ue._6)(ce,1/0),U=ce;return U.length?1===U.length?(0,X.Xf)(U[0]):(0,l.J)(fe)((0,ie.D)(U,de)):O.E}},5403:(st,De,k)=>{k.d(De,{x:()=>X});var l=k(2961);function X(ue,ie,he,ce,de){return new O(ue,ie,he,ce,de)}class O extends l.Lv{constructor(ie,he,ce,de,fe,U){super(ie),this.onFinalize=fe,this.shouldUnsubscribe=U,this._next=he?function(B){try{he(B)}catch(K){ie.error(K)}}:super._next,this._error=de?function(B){try{de(B)}catch(K){ie.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(B){ie.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(st,De,k)=>{k.d(De,{U:()=>O});var l=k(4482),X=k(5403);function O(ue,ie){return(0,l.e)((he,ce)=>{let de=0;he.subscribe((0,X.x)(ce,fe=>{ce.next(ue.call(ie,fe,de++))}))})}},8189:(st,De,k)=>{k.d(De,{J:()=>O});var l=k(5577),X=k(4671);function O(ue=1/0){return(0,l.z)(X.y,ue)}},5577:(st,De,k)=>{k.d(De,{z:()=>de});var l=k(4004),X=k(8421),O=k(4482),ue=k(9672),ie=k(5403),ce=k(576);function de(fe,U,B=1/0){return(0,ce.m)(U)?de((K,Ve)=>(0,l.U)((Se,we)=>U(K,Se,Ve,we))((0,X.Xf)(fe(K,Ve))),B):("number"==typeof U&&(B=U),(0,O.e)((K,Ve)=>function he(fe,U,B,K,Ve,Se,we,Ye){const me=[];let pe=0,We=0,et=!1;const Ae=()=>{et&&!me.length&&!pe&&U.complete()},ve=Be=>pe<K?Ee(Be):me.push(Be),Ee=Be=>{Se&&U.next(Be),pe++;let je=!1;(0,X.Xf)(B(Be,We++)).subscribe((0,ie.x)(U,V=>{Ve?.(V),Se?ve(V):U.next(V)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;me.length&&pe<K;){const V=me.shift();we?(0,ue.f)(U,we,()=>Ee(V)):Ee(V)}Ae()}catch(V){U.error(V)}}))};return fe.subscribe((0,ie.x)(U,ve,()=>{et=!0,Ae()})),()=>{Ye?.()}}(K,Ve,fe,B)))}},5363:(st,De,k)=>{k.d(De,{Q:()=>ue});var l=k(9672),X=k(4482),O=k(5403);function ue(ie,he=0){return(0,X.e)((ce,de)=>{ce.subscribe((0,O.x)(de,fe=>(0,l.f)(de,ie,()=>de.next(fe),he),()=>(0,l.f)(de,ie,()=>de.complete(),he),fe=>(0,l.f)(de,ie,()=>de.error(fe),he)))})}},3099:(st,De,k)=>{k.d(De,{B:()=>ie});var l=k(8421),X=k(7579),O=k(2961),ue=k(4482);function ie(ce={}){const{connector:de=(()=>new X.x),resetOnError:fe=!0,resetOnComplete:U=!0,resetOnRefCountZero:B=!0}=ce;return K=>{let Ve,Se,we,Ye=0,me=!1,pe=!1;const We=()=>{Se?.unsubscribe(),Se=void 0},et=()=>{We(),Ve=we=void 0,me=pe=!1},Ae=()=>{const ve=Ve;et(),ve?.unsubscribe()};return(0,ue.e)((ve,Ee)=>{Ye++,!pe&&!me&&We();const Be=we=we??de();Ee.add(()=>{Ye--,0===Ye&&!pe&&!me&&(Se=he(Ae,B))}),Be.subscribe(Ee),!Ve&&Ye>0&&(Ve=new O.Hp({next:je=>Be.next(je),error:je=>{pe=!0,We(),Se=he(et,fe,je),Be.error(je)},complete:()=>{me=!0,We(),Se=he(et,U),Be.complete()}}),(0,l.Xf)(ve).subscribe(Ve))})(K)}}function he(ce,de,...fe){if(!0===de)return void ce();if(!1===de)return;const U=new O.Hp({next:()=>{U.unsubscribe(),ce()}});return de(...fe).subscribe(U)}},9468:(st,De,k)=>{k.d(De,{R:()=>X});var l=k(4482);function X(O,ue=0){return(0,l.e)((ie,he)=>{he.add(O.schedule(()=>ie.subscribe(he),ue))})}},8505:(st,De,k)=>{k.d(De,{b:()=>ie});var l=k(576),X=k(4482),O=k(5403),ue=k(4671);function ie(he,ce,de){const fe=(0,l.m)(he)||ce||de?{next:he,error:ce,complete:de}:he;return fe?(0,X.e)((U,B)=>{var K;null===(K=fe.subscribe)||void 0===K||K.call(fe);let Ve=!0;U.subscribe((0,O.x)(B,Se=>{var we;null===(we=fe.next)||void 0===we||we.call(fe,Se),B.next(Se)},()=>{var Se;Ve=!1,null===(Se=fe.complete)||void 0===Se||Se.call(fe),B.complete()},Se=>{var we;Ve=!1,null===(we=fe.error)||void 0===we||we.call(fe,Se),B.error(Se)},()=>{var Se,we;Ve&&(null===(Se=fe.unsubscribe)||void 0===Se||Se.call(fe)),null===(we=fe.finalize)||void 0===we||we.call(fe)}))}):ue.y}},4408:(st,De,k)=>{k.d(De,{o:()=>ie});var l=k(727);class X extends l.w0{constructor(ce,de){super()}schedule(ce,de=0){return this}}const O={setInterval(he,ce,...de){const{delegate:fe}=O;return fe?.setInterval?fe.setInterval(he,ce,...de):setInterval(he,ce,...de)},clearInterval(he){const{delegate:ce}=O;return(ce?.clearInterval||clearInterval)(he)},delegate:void 0};var ue=k(8737);class ie extends X{constructor(ce,de){super(ce,de),this.scheduler=ce,this.work=de,this.pending=!1}schedule(ce,de=0){var fe;if(this.closed)return this;this.state=ce;const U=this.id,B=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(B,U,de)),this.pending=!0,this.delay=de,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(B,this.id,de),this}requestAsyncId(ce,de,fe=0){return O.setInterval(ce.flush.bind(ce,this),fe)}recycleAsyncId(ce,de,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return de;null!=de&&O.clearInterval(de)}execute(ce,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ce,de);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,de){let U,fe=!1;try{this.work(ce)}catch(B){fe=!0,U=B||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ce,scheduler:de}=this,{actions:fe}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(fe,this),null!=ce&&(this.id=this.recycleAsyncId(de,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,De,k)=>{k.d(De,{v:()=>O});var l=k(6063);class X{constructor(ie,he=X.now){this.schedulerActionCtor=ie,this.now=he}schedule(ie,he=0,ce){return new this.schedulerActionCtor(this,ie).schedule(ce,he)}}X.now=l.l.now;class O extends X{constructor(ie,he=X.now){super(ie,he),this.actions=[],this._active=!1}flush(ie){const{actions:he}=this;if(this._active)return void he.push(ie);let ce;this._active=!0;do{if(ce=ie.execute(ie.state,ie.delay))break}while(ie=he.shift());if(this._active=!1,ce){for(;ie=he.shift();)ie.unsubscribe();throw ce}}}},4986:(st,De,k)=>{k.d(De,{z:()=>O});var l=k(4408);const O=new(k(7565).v)(l.o)},6063:(st,De,k)=>{k.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(st,De,k)=>{k.d(De,{z:()=>l});const l={setTimeout(X,O,...ue){const{delegate:ie}=l;return ie?.setTimeout?ie.setTimeout(X,O,...ue):setTimeout(X,O,...ue)},clearTimeout(X){const{delegate:O}=l;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},2202:(st,De,k)=>{k.d(De,{h:()=>X});const X=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,De,k)=>{k.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(st,De,k)=>{k.d(De,{_6:()=>he,jO:()=>ue,yG:()=>ie});var l=k(576);function O(ce){return ce[ce.length-1]}function ue(ce){return(0,l.m)(O(ce))?ce.pop():void 0}function ie(ce){return function X(ce){return ce&&(0,l.m)(ce.schedule)}(O(ce))?ce.pop():void 0}function he(ce,de){return"number"==typeof O(ce)?ce.pop():de}},8737:(st,De,k)=>{function l(X,O){if(X){const ue=X.indexOf(O);0<=ue&&X.splice(ue,1)}}k.d(De,{P:()=>l})},3888:(st,De,k)=>{function l(X){const ue=X(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}k.d(De,{d:()=>l})},2806:(st,De,k)=>{k.d(De,{O:()=>ue,x:()=>O});var l=k(2416);let X=null;function O(ie){if(l.v.useDeprecatedSynchronousErrorHandling){const he=!X;if(he&&(X={errorThrown:!1,error:null}),ie(),he){const{errorThrown:ce,error:de}=X;if(X=null,ce)throw de}}else ie()}function ue(ie){l.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ie)}},9672:(st,De,k)=>{function l(X,O,ue,ie=0,he=!1){const ce=O.schedule(function(){ue(),he?X.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(X.add(ce),!he)return ce}k.d(De,{f:()=>l})},4671:(st,De,k)=>{function l(X){return X}k.d(De,{y:()=>l})},1144:(st,De,k)=>{k.d(De,{z:()=>l});const l=X=>X&&"number"==typeof X.length&&"function"!=typeof X},2206:(st,De,k)=>{k.d(De,{D:()=>X});var l=k(576);function X(O){return Symbol.asyncIterator&&(0,l.m)(O?.[Symbol.asyncIterator])}},576:(st,De,k)=>{function l(X){return"function"==typeof X}k.d(De,{m:()=>l})},3670:(st,De,k)=>{k.d(De,{c:()=>O});var l=k(8822),X=k(576);function O(ue){return(0,X.m)(ue[l.L])}},6495:(st,De,k)=>{k.d(De,{T:()=>O});var l=k(2202),X=k(576);function O(ue){return(0,X.m)(ue?.[l.h])}},8239:(st,De,k)=>{k.d(De,{t:()=>X});var l=k(576);function X(O){return(0,l.m)(O?.then)}},3260:(st,De,k)=>{k.d(De,{L:()=>ue,Q:()=>O});var l=k(655),X=k(576);function O(ie){return(0,l.FC)(this,arguments,function*(){const ce=ie.getReader();try{for(;;){const{value:de,done:fe}=yield(0,l.qq)(ce.read());if(fe)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(de)}}finally{ce.releaseLock()}})}function ue(ie){return(0,X.m)(ie?.getReader)}},4482:(st,De,k)=>{k.d(De,{A:()=>X,e:()=>O});var l=k(576);function X(ue){return(0,l.m)(ue?.lift)}function O(ue){return ie=>{if(X(ie))return ie.lift(function(he){try{return ue(he,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(st,De,k)=>{k.d(De,{U:()=>O,z:()=>X});var l=k(4671);function X(...ue){return O(ue)}function O(ue){return 0===ue.length?l.y:1===ue.length?ue[0]:function(he){return ue.reduce((ce,de)=>de(ce),he)}}},7849:(st,De,k)=>{k.d(De,{h:()=>O});var l=k(2416),X=k(3410);function O(ue){X.z.setTimeout(()=>{const{onUnhandledError:ie}=l.v;if(!ie)throw ue;ie(ue)})}},4532:(st,De,k)=>{function l(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>l})},655:(st,De,k)=>{function ue(W,J){var se={};for(var te in W)Object.prototype.hasOwnProperty.call(W,te)&&J.indexOf(te)<0&&(se[te]=W[te]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(te=Object.getOwnPropertySymbols(W);Oe<te.length;Oe++)J.indexOf(te[Oe])<0&&Object.prototype.propertyIsEnumerable.call(W,te[Oe])&&(se[te[Oe]]=W[te[Oe]])}return se}function de(W,J,se,te){return new(se||(se=Promise))(function(Pe,ut){function $t(rn){try{Ge(te.next(rn))}catch(Sn){ut(Sn)}}function Ut(rn){try{Ge(te.throw(rn))}catch(Sn){ut(Sn)}}function Ge(rn){rn.done?Pe(rn.value):function Oe(Pe){return Pe instanceof se?Pe:new se(function(ut){ut(Pe)})}(rn.value).then($t,Ut)}Ge((te=te.apply(W,J||[])).next())})}function me(W){return this instanceof me?(this.v=W,this):new me(W)}function pe(W,J,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,te=se.apply(W,J||[]),Pe=[];return Oe={},ut("next"),ut("throw"),ut("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function ut(qt){te[qt]&&(Oe[qt]=function(zt){return new Promise(function(wr,Rt){Pe.push([qt,zt,wr,Rt])>1||$t(qt,zt)})})}function $t(qt,zt){try{!function Ut(qt){qt.value instanceof me?Promise.resolve(qt.value.v).then(Ge,rn):Sn(Pe[0][2],qt)}(te[qt](zt))}catch(wr){Sn(Pe[0][3],wr)}}function Ge(qt){$t("next",qt)}function rn(qt){$t("throw",qt)}function Sn(qt,zt){qt(zt),Pe.shift(),Pe.length&&$t(Pe[0][0],Pe[0][1])}}function et(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,J=W[Symbol.asyncIterator];return J?J.call(W):(W=function K(W){var J="function"==typeof Symbol&&Symbol.iterator,se=J&&W[J],te=0;if(se)return se.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&te>=W.length&&(W=void 0),{value:W&&W[te++],done:!W}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),se={},te("next"),te("throw"),te("return"),se[Symbol.asyncIterator]=function(){return this},se);function te(Pe){se[Pe]=W[Pe]&&function(ut){return new Promise(function($t,Ut){!function Oe(Pe,ut,$t,Ut){Promise.resolve(Ut).then(function(Ge){Pe({value:Ge,done:$t})},ut)}($t,Ut,(ut=W[Pe](ut)).done,ut.value)})}}}k.d(De,{FC:()=>pe,KL:()=>et,_T:()=>ue,mG:()=>de,qq:()=>me})},4650:(st,De,k)=>{k.d(De,{$8M:()=>Pu,$Z:()=>io,AFp:()=>DE,ALo:()=>dv,AaK:()=>de,AsE:()=>j_,BQk:()=>Hf,CHM:()=>mu,CRH:()=>Vm,CZH:()=>Ul,CqO:()=>O_,D6c:()=>s0,EJc:()=>Pv,EpF:()=>P_,F4k:()=>ki,FYo:()=>Le,FiY:()=>Re,G48:()=>iy,GfV:()=>zn,Gpc:()=>B,JOm:()=>Uo,KtG:()=>yu,LFG:()=>pn,LSH:()=>_d,Lbi:()=>Hm,Lck:()=>ap,MAs:()=>R_,MMx:()=>sv,NdJ:()=>lm,OlP:()=>ln,Oqu:()=>rh,PXZ:()=>qD,Q6J:()=>Uf,QGY:()=>th,QP$:()=>wi,Qsj:()=>Ke,R0b:()=>Bi,RDi:()=>rg,Rgc:()=>dp,SBq:()=>N,Sil:()=>VD,Suo:()=>yv,TTD:()=>zi,TgZ:()=>wl,VKq:()=>wh,X6Q:()=>Gv,XFs:()=>ze,Xpm:()=>H,Xts:()=>wd,Y36:()=>ka,YKP:()=>yh,YNc:()=>eh,Yjl:()=>kt,Yz7:()=>zt,Z0I:()=>ta,ZZ4:()=>t0,_Bn:()=>$I,_UZ:()=>cm,_Vd:()=>g,_c5:()=>oT,_uU:()=>ae,aQg:()=>cy,c2e:()=>FD,cJS:()=>Rt,cg1:()=>Yf,dDg:()=>$D,dqk:()=>un,eFA:()=>Ym,ekj:()=>gm,eoX:()=>Uv,f3M:()=>b,g9A:()=>Ch,h0i:()=>za,hGG:()=>r0,hij:()=>Fi,iGM:()=>oc,ifc:()=>it,ip1:()=>CE,jDz:()=>ov,kL8:()=>Em,lG2:()=>jn,lqb:()=>Os,lri:()=>Wm,n5z:()=>Xi,oAB:()=>tt,oxw:()=>Qw,q4F:()=>Pi,qLn:()=>df,qOj:()=>C_,qZA:()=>jf,rWj:()=>Vv,s9C:()=>k_,sBO:()=>qv,sIi:()=>Ff,s_b:()=>km,soG:()=>_p,tb:()=>Zm,tp0:()=>ft,uIk:()=>om,vHH:()=>we,vpe:()=>Ko,wAp:()=>pt,xi3:()=>ho,xp6:()=>dw,ynx:()=>$f,z2F:()=>bp,zSh:()=>Dd,zs3:()=>ye});var l=k(7579),X=k(727),O=k(9751),ue=k(6451),ie=k(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function fe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const U=he({__forward_ref__:he});function B(i){return i.__forward_ref__=B,i.toString=function(){return de(this())},i}function K(i){return Ve(i)?i():i}function Ve(i){return"function"==typeof i&&i.hasOwnProperty(U)&&i.__forward_ref__===B}class we extends Error{constructor(s,a){super(function Ye(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,a)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i,s){throw new we(-201,!1)}function Ut(i,s){null==i&&function Ge(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function zt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Rt(i){return{providers:i.providers||[],imports:i.imports||[]}}function en(i){return Or(i,vi)||Or(i,oi)}function ta(i){return null!==en(i)}function Or(i,s){return i.hasOwnProperty(s)?i[s]:null}function hs(i){return i&&(i.hasOwnProperty(Fr)||i.hasOwnProperty(fo))?i[Fr]:null}const vi=he({\u0275prov:he}),Fr=he({\u0275inj:he}),oi=he({ngInjectableDef:he}),fo=he({ngInjectorDef:he});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let Lr;function xn(i){const s=Lr;return Lr=i,s}function ai(i,s,a){const c=en(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ze.Optional?null:void 0!==s?s:void ve(de(i))}function Mn(i){return{toString:i}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),it=(()=>{return(i=it||(it={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",it;var i})();const un=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ir={},mt=[],Zi=he({\u0275cmp:he}),Wt=he({\u0275dir:he}),ui=he({\u0275pipe:he}),Zt=he({\u0275mod:he}),q=he({\u0275fac:he}),$=he({__NG_ELEMENT_ID__:he});let L=0;function H(i){return Mn(()=>{const a=!0===i.standalone,c={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||it.Emulated,id:"c"+L++,styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},p=i.dependencies,_=i.features;return d.inputs=Kt(i.inputs,c),d.outputs=Kt(i.outputs),_&&_.forEach(I=>I(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(be).filter(Ue):null,d.pipeDefs=p?()=>("function"==typeof p?p():p).map(On).filter(Ue):null,d})}function be(i){return Tt(i)||mn(i)}function Ue(i){return null!==i}function tt(i){return Mn(()=>({type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Kt(i,s){if(null==i)return Ir;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}const jn=H;function kt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Tt(i){return i[Zi]||null}function mn(i){return i[Wt]||null}function On(i){return i[ui]||null}function wi(i){const s=Tt(i)||mn(i)||On(i);return null!==s&&s.standalone}function Er(i,s){const a=i[Zt]||null;if(!a&&!0===s)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function tr(i){return Array.isArray(i)&&"object"==typeof i[1]}function br(i){return Array.isArray(i)&&!0===i[1]}function su(i){return 0!=(8&i.flags)}function ra(i){return 2==(2&i.flags)}function yc(i){return 1==(1&i.flags)}function fr(i){return null!==i.template}function kh(i){return 0!=(256&i[2])}function Ei(i,s){return i.hasOwnProperty(q)?i[q]:null}class bi{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function zi(){return Hs}function Hs(i){return i.type.prototype.ngOnChanges&&(i.setInput=au),ia}function ia(){const i=Vh(this),s=i?.current;if(s){const a=i.previous;if(a===Ir)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function au(i,s,a,c){const d=Vh(i)||function go(i,s){return i[Ic]=s}(i,{previous:Ir,current:null}),p=d.current||(d.current={}),_=d.previous,I=this.declaredInputs[a],E=_[I];p[I]=new bi(E&&E.currentValue,s,_===Ir),i[c]=s}zi.ngInherit=!0;const Ic="__ngSimpleChanges__";function Vh(i){return i[Ic]||null}function bn(i){for(;Array.isArray(i);)i=i[0];return i}function Kr(i,s){return bn(s[i])}function Cr(i,s){return bn(s[i.index])}function yo(i,s){return i.data[s]}function Ki(i,s){return i[s]}function jt(i,s){const a=s[i];return tr(a)?a:a[0]}function Zs(i){return 64==(64&i[2])}function di(i,s){return null==s?null:i[s]}function hu(i){i[18]=0}function En(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const yt={lFrame:Rc(null),bindingsEnabled:!0};function Yi(){return yt.bindingsEnabled}function Ce(){return yt.lFrame.lView}function Ft(){return yt.lFrame.tView}function mu(i){return yt.lFrame.contextLView=i,i[8]}function yu(i){return yt.lFrame.contextLView=null,i}function Cn(){let i=_u();for(;null!==i&&64===i.type;)i=i.parent;return i}function _u(){return yt.lFrame.currentTNode}function Yr(i,s){const a=yt.lFrame;a.currentTNode=i,a.isParent=s}function oa(){return yt.lFrame.isParent}function aa(){yt.lFrame.isParent=!1}function Dn(){const i=yt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Gs(){return yt.lFrame.bindingIndex++}function Qi(i){const s=yt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Kp(i,s){const a=yt.lFrame;a.bindingIndex=a.bindingRootIndex=i,vu(s)}function vu(i){yt.lFrame.currentDirectiveIndex=i}function Sc(){return yt.lFrame.currentQueryIndex}function da(i){yt.lFrame.currentQueryIndex=i}function xc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function wu(i,s,a){if(a&ze.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||a&ze.Host||(d=xc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const c=yt.lFrame=Mc();return c.currentTNode=s,c.lView=i,!0}function Iu(i){const s=Mc(),a=i[1];yt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Mc(){const i=yt.lFrame,s=null===i?null:i.child;return null===s?Rc(i):s}function Rc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Nc(){const i=yt.lFrame;return yt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ed=Nc;function qs(){const i=Nc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zn(){return yt.lFrame.selectedIndex}function Ur(i){yt.lFrame.selectedIndex=i}function fn(){const i=yt.lFrame;return yo(i.tView,i.selectedIndex)}function kc(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:M}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),T&&((i.viewHooks||(i.viewHooks=[])).push(a,T),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,T)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function vo(i,s,a){Io(i,s,3,a)}function wo(i,s,a,c){(3&i[2])===a&&Io(i,s,a,c)}function rd(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Io(i,s,a,c){const p=c??-1,_=s.length-1;let I=0;for(let E=void 0!==c?65535&i[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(I=s[E],null!=c&&I>=c)break}else s[E]<0&&(i[18]+=65536),(I<p||-1==p)&&(id(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function id(i,s,a,c){const d=a[c]<0,p=a[c+1],I=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(I)}finally{}}}else try{p.call(I)}finally{}}class ws{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function bo(i,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],_=a[c++],I=a[c++];i.setAttribute(s,_,I,p)}else{const p=d,_=a[++c];Au(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),c++}}return c}function Ks(i){return 3===i||4===i||6===i}function Au(i){return 64===i.charCodeAt(0)}function ha(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||od(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function od(i,s,a,c,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const I=i[p++];if("number"==typeof I){if(I===s){_=-1;break}if(I>s){_=p-1;break}}}for(;p<i.length;){const I=i[p];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,a),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function ad(i){return-1!==i}function nr(i){return 32767&i}function pa(i,s){let a=function fa(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let Di=!0;function ga(i){const s=Di;return Di=i,s}let Rn=0;const hi={};function Ys(i,s){const a=xu(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,ya(c.data,i),ya(s,null),ya(c.blueprint,null));const d=Mu(i,s),p=i.injectorIndex;if(ad(d)){const _=nr(d),I=pa(d,s),E=I[1].data;for(let T=0;T<8;T++)s[p+T]=I[_+T]|E[_+T]}return s[p+8]=d,p}function ya(i,s){i.push(0,0,0,0,0,0,0,0,s)}function xu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Mu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=To(d),null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Is(i,s,a){!function Su(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty($)&&(c=a[$]),null==c&&(c=a[$]=Rn++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Es(i,s,a){if(a&ze.Optional||void 0!==i)return i;ve()}function Lc(i,s,a,c){if(a&ze.Optional&&void 0===c&&(c=null),0==(a&(ze.Self|ze.Host))){const d=i[9],p=xn(void 0);try{return d?d.get(s,c,a&ze.Optional):ai(s,c,a&ze.Optional)}finally{xn(p)}}return Es(c,0,a)}function Qs(i,s,a,c=ze.Default,d){if(null!==i){if(1024&s[2]){const _=function Do(i,s,a,c,d){let p=i,_=s;for(;null!==p&&null!==_&&1024&_[2]&&!(256&_[2]);){const I=_a(p,_,a,c|ze.Self,hi);if(I!==hi)return I;let E=p.parent;if(!E){const T=_[21];if(T){const M=T.get(a,hi,c);if(M!==hi)return M}E=To(_),_=_[15]}p=E}return d}(i,s,a,c,hi);if(_!==hi)return _}const p=_a(i,s,a,c,hi);if(p!==hi)return p}return Lc(s,a,c,d)}function _a(i,s,a,c,d){const p=function Vc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty($)?i[$]:void 0;return"number"==typeof s?s>=0?255&s:Uc:s}(a);if("function"==typeof p){if(!wu(s,i,c))return c&ze.Host?Es(d,0,c):Lc(s,a,c,d);try{const _=p(c);if(null!=_||c&ze.Optional)return _;ve()}finally{ed()}}else if("number"==typeof p){let _=null,I=xu(i,s),E=-1,T=c&ze.Host?s[16][6]:null;for((-1===I||c&ze.SkipSelf)&&(E=-1===I?Mu(i,s):s[I+8],-1!==E&&va(c,!1)?(_=s[1],I=nr(E),s=pa(E,s)):I=-1);-1!==I;){const M=s[1];if(Ru(p,I,M.data)){const P=ld(I,s,a,_,c,T);if(P!==hi)return P}E=s[I+8],-1!==E&&va(c,s[1].data[I+8]===T)&&Ru(p,I,s)?(_=M,I=nr(E),s=pa(E,s)):I=-1}}return d}function ld(i,s,a,c,d,p){const _=s[1],I=_.data[i+8],M=Co(I,_,a,null==c?ra(I)&&Di:c!=_&&0!=(3&I.type),d&ze.Host&&p===I);return null!==M?Ji(s,_,M,I):hi}function Co(i,s,a,c,d){const p=i.providerIndexes,_=s.data,I=1048575&p,E=i.directiveStart,M=p>>20,Z=d?I+M:i.directiveEnd;for(let ee=c?I:I+M;ee<Z;ee++){const _e=_[ee];if(ee<E&&a===_e||ee>=E&&_e.type===a)return ee}if(d){const ee=_[E];if(ee&&fr(ee)&&ee.type===a)return E}return null}function Ji(i,s,a,c){let d=i[a];const p=s.data;if(function Ws(i){return i instanceof ws}(d)){const _=d;_.resolving&&function We(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new we(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}(p[a]));const I=ga(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?xn(_.injectImpl):null;wu(i,c,ze.Default);try{d=i[a]=_.factory(void 0,p,i,c),s.firstCreatePass&&a>=c.directiveStart&&function nd(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const _=Hs(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],s)}finally{null!==E&&xn(E),ga(I),_.resolving=!1,ed()}}return d}function Ru(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function va(i,s){return!(i&ze.Self||i&ze.Host&&s)}class Js{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Qs(this._tNode,this._lView,s,c,a)}}function Uc(){return new Js(Cn(),Ce())}function Xi(i){return Mn(()=>{const s=i.prototype.constructor,a=s[q]||Nu(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[q]||Nu(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function Nu(i){return Ve(i)?()=>{const s=Nu(K(i));return s&&s()}:Ei(i)}function To(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Pu(i){return function cd(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(Ks(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(Cn(),i)}const bs="__parameters__";function xo(i,s,a){return Mn(()=>{const c=function Ou(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return I.annotation=_,I;function I(E,T,M){const P=E.hasOwnProperty(bs)?E[bs]:Object.defineProperty(E,bs,{value:[]})[bs];for(;P.length<=M;)P.push(null);return(P[M]=P[M]||[]).push(_),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class ln{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=zt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _n(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),_n(c,s)):s!==i&&s.push(c)}return s}function pi(i,s){i.forEach(a=>Array.isArray(a)?pi(a,s):s(a))}function Ia(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Dr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function rt(i,s,a){let c=Ts(i,s);return c>=0?i[1|c]=a:(c=~c,function jc(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function ba(i,s){const a=Ts(i,s);if(a>=0)return i[1|a]}function Ts(i,s){return function Ro(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const p=c+(d-c>>1),_=i[p<<a];if(s===_)return p<<a;_>s?d=p:c=p+1}return~(d<<a)}(i,s,1)}const gi={},Zc="__NG_DI_FLAG__",Po="ngTempTokenPath",es=/\n/gm,pr="__source";let xs;function ts(i){const s=xs;return xs=i,s}function Vn(i,s=ze.Default){if(void 0===xs)throw new we(-203,!1);return null===xs?ai(i,void 0,s):xs.get(i,s&ze.Optional?null:void 0,s)}function pn(i,s=ze.Default){return(function Hi(){return Lr}()||Vn)(K(i),s)}function b(i,s=ze.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),pn(i,s)}function D(i){const s=[];for(let a=0;a<i.length;a++){const c=K(i[a]);if(Array.isArray(c)){if(0===c.length)throw new we(900,!1);let d,p=ze.Default;for(let _=0;_<c.length;_++){const I=c[_],E=F(I);"number"==typeof E?-1===E?d=I.token:p|=E:d=I}s.push(pn(d,p))}else s.push(pn(c))}return s}function x(i,s){return i[Zc]=s,i.prototype[Zc]=s,i}function F(i){return i[Zc]}const Re=x(xo("Optional"),8),ft=x(xo("SkipSelf"),4);let Kh;function rg(i){Kh=i}class pd{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xi(i){return i instanceof pd?i.changingThisBreaksApplicationSecurity:i}const Ty=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function _d(i){const s=function Yc(){const i=Ce();return i&&i[12]}();return s?s.sanitize(Nn.URL,i)||"":function Fo(i,s){const a=function Qh(i){return i instanceof pd&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?xi(i):function xa(i){return(i=String(i)).match(Ty)?i:"unsafe:"+i}(me(i))}const wd=new ln("ENVIRONMENT_INITIALIZER"),Id=new ln("INJECTOR",-1),Ed=new ln("INJECTOR_DEF_TYPES");class sf{get(s,a=gi){if(a===gi){const c=new Error(`NullInjectorError: No provider for ${de(s)}!`);throw c.name="NullInjectorError",c}return a}}function My(...i){return{\u0275providers:bd(0,i)}}function bd(i,...s){const a=[],c=new Set;let d;return pi(s,p=>{const _=p;Tr(_,a,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&pg(d,a),a}function pg(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];pi(d,p=>{s.push(p)})}}function Tr(i,s,a,c){if(!(i=K(i)))return!1;let d=null,p=hs(i);const _=!p&&Tt(i);if(p||_){if(_&&!_.standalone)return!1;d=i}else{const E=i.ngModule;if(p=hs(E),!p)return!1;d=E}const I=c.has(d);if(_){if(I)return!1;if(c.add(d),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of E)Tr(T,s,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!I){let T;c.add(d);try{pi(p.imports,M=>{Tr(M,s,a,c)&&(T||(T=[]),T.push(M))})}finally{}void 0!==T&&pg(T,s)}if(!I){const T=Ei(d)||(()=>new d);s.push({provide:d,useFactory:T,deps:mt},{provide:Ed,useValue:d,multi:!0},{provide:wd,useValue:()=>pn(d),multi:!0})}const E=p.providers;null==E||I||pi(E,M=>{s.push(M)})}}return d!==i&&void 0!==i.providers}const af=he({provide:String,useValue:he});function Qc(i){return null!==i&&"object"==typeof i&&af in i}function Ni(i){return"function"==typeof i}const Dd=new ln("Set Injector scope."),rs={},Vo={};let Td;function Ad(){return void 0===Td&&(Td=new sf),Td}class Os{}class Sd extends Os{constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ju(s,_=>this.processProvider(_)),this.records.set(Id,Xr(void 0,this)),d.has("environment")&&this.records.set(Os,Xr(void 0,this));const p=this.records.get(Dd);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Ed.multi,mt,ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const a=ts(this),c=xn(void 0);try{return s()}finally{ts(a),xn(c)}}get(s,a=gi,c=ze.Default){this.assertNotDestroyed();const d=ts(this),p=xn(void 0);try{if(!(c&ze.SkipSelf)){let I=this.records.get(s);if(void 0===I){const E=function mg(i){return"function"==typeof i||"object"==typeof i&&i instanceof ln}(s)&&en(s);I=E&&this.injectableDefInScope(E)?Xr(cr(s),rs):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(c&ze.Self?Ad():this.parent).get(s,a=c&ze.Optional&&a===gi?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Po]=_[Po]||[]).unshift(de(s)),d)throw _;return function Y(i,s,a,c){const d=i[Po];throw s[pr]&&d.unshift(s[pr]),i.message=function re(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=de(s);if(Array.isArray(s))d=s.map(de).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let I=s[_];p.push(_+":"+("string"==typeof I?JSON.stringify(I):de(I)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(es,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[Po]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{xn(p),ts(d)}}resolveInjectorInitializers(){const s=ts(this),a=xn(void 0);try{const c=this.get(wd.multi,mt,ze.Self);for(const d of c)d()}finally{ts(s),xn(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(de(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(s){let a=Ni(s=K(s))?s:K(s&&s.provide);const c=function Jc(i){return Qc(i)?Xr(void 0,i.useValue):Xr(Md(i),rs)}(s);if(Ni(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Xr(void 0,rs,!0),d.factory=()=>D(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===rs&&(a.value=Vo,a.value=a.factory()),"object"==typeof a.value&&a.value&&function gg(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=K(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function cr(i){const s=en(i),a=null!==s?s.factory:Ei(i);if(null!==a)return a;if(i instanceof ln)throw new we(204,!1);if(i instanceof Function)return function xd(i){const s=i.length;if(s>0)throw function Cs(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}(s,"?"),new we(204,!1);const a=function hr(i){const s=i&&(i[vi]||i[oi]);if(s){const a=function kr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new we(204,!1)}function Md(i,s,a){let c;if(Ni(i)){const d=K(i);return Ei(d)||cr(d)}if(Qc(i))c=()=>K(i.useValue);else if(function Ri(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...D(i.deps||[]));else if(function Bu(i){return!(!i||!i.useExisting)}(i))c=()=>pn(K(i.useExisting));else{const d=K(i&&(i.useClass||i.provide));if(!function ro(i){return!!i.deps}(i))return Ei(d)||cr(d);c=()=>new d(...D(i.deps))}return c}function Xr(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function cf(i){return!!i.\u0275providers}function ju(i,s){for(const a of i)Array.isArray(a)?ju(a,s):cf(a)?ju(a.\u0275providers,s):s(a)}class lf{}class f{resolveComponentFactory(s){throw function _g(i){const s=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let g=(()=>{class i{}return i.NULL=new f,i})();function v(){return A(Cn(),Ce())}function A(i,s){return new N(Cr(i,s))}let N=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=v,i})();function z(i){return i instanceof N?i.nativeElement:i}class Le{}let Ke=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function gt(){const i=Ce(),a=jt(Cn().index,i);return(tr(a)?a:i)[11]}(),i})(),at=(()=>{class i{}return i.\u0275prov=zt({token:i,providedIn:"root",factory:()=>null}),i})();class zn{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Pi=new zn("14.2.4"),$u={};function Oy(i){return i.ngOriginalError}class df{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Oy(s);for(;a&&Oy(a);)a=Oy(a);return a||null}}const ky=new Map;let Nb=0;const Dg="__ngContext__";function Ar(i,s){tr(s)?(i[Dg]=s[20],function Ob(i){ky.set(i[20],i)}(s)):i[Dg]=s}function Oa(i){return i instanceof Function?i():i}var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();function By(i,s){return undefined(i,s)}function Ld(i){const s=i[3];return br(s)?s[3]:s}function Sg(i){return z0(i[13])}function xg(i){return z0(i[4])}function z0(i){for(;null!==i&&!br(i);)i=i[4];return i}function Vd(i,s,a,c,d){if(null!=c){let p,_=!1;br(c)?p=c:tr(c)&&(_=!0,c=c[0]);const I=bn(c);0===i&&null!==a?null==d?ew(s,a,I):Bo(s,a,I,d||null,!0):1===i&&null!==a?Bo(s,a,I,d||null,!0):2===i?function Wb(i,s,a){const c=Ng(i,s);c&&function zb(i,s,a,c){i.removeChild(s,a,c)}(i,c,s,a)}(s,I,_):3===i&&s.destroyNode(I),null!=p&&function AA(i,s,a,c,d){const p=a[7];p!==bn(a)&&Vd(s,i,c,p,d);for(let I=10;I<a.length;I++){const E=a[I];il(E[1],E,i,s,c,p)}}(s,i,p,a,d)}}function Mg(i,s,a){return i.createElement(s,a)}function Q0(i,s){const a=i[9],c=a.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,En(d,-1)),a.splice(c,1)}function Zy(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&Q0(d,c),s>0&&(i[a-1][4]=c[4]);const p=Dr(i,10+s);!function Hy(i,s){il(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function pf(i,s){if(!(128&s[2])){const a=s[11];a.destroyNode&&il(i,s,a,3,null,null),function DA(i){let s=i[13];if(!s)return Rg(i[1],i);for(;s;){let a=null;if(tr(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)tr(s)&&Rg(s[1],s),s=s[3];null===s&&(s=i),tr(s)&&Rg(s[1],s),a=s&&s[4]}s=a}}(s)}}function Rg(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function qy(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof ws)){const p=a[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const I=d[p[_]],E=p[_+1];try{E.call(I)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function Gy(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],I="function"==typeof _?_(s):bn(s[_]),E=c[d=a[p+2]],T=a[p+3];"boolean"==typeof T?I.removeEventListener(a[p],E,T):T>=0?c[d=T]():c[d=-T].unsubscribe(),p+=2}else{const _=c[d=a[p+1]];a[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)(0,c[p])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const a=s[17];if(null!==a&&br(s[3])){a!==s[3]&&Q0(a,s);const c=s[19];null!==c&&c.detachView(i)}!function kb(i){ky.delete(i[20])}(s)}}function J0(i,s,a){return function X0(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===it.None||d===it.Emulated)return null}return Cr(c,a)}(i,s.parent,a)}function Bo(i,s,a,c,d){i.insertBefore(s,a,c,d)}function ew(i,s,a){i.appendChild(s,a)}function tw(i,s,a,c,d){null!==c?Bo(i,s,a,c,d):ew(i,s,a)}function Ng(i,s){return i.parentNode(s)}let zy=function rw(i,s,a){return 40&i.type?Cr(i,a):null};function gf(i,s,a,c){const d=J0(i,c,s),p=s[11],I=function gr(i,s,a){return zy(i,s,a)}(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)tw(p,d,a[E],I,!1);else tw(p,d,a,I,!1)}function Pg(i,s){if(null!==s){const a=s.type;if(3&a)return Cr(s,i);if(4&a)return iw(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Pg(i,c);{const d=i[s.index];return br(d)?iw(-1,d):bn(d)}}if(32&a)return By(s,i)()||bn(i[s.index]);{const c=Wy(i,s);return null!==c?Array.isArray(c)?c[0]:Pg(Ld(i[16]),c):Pg(i,s.next)}}return null}function Wy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function iw(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Pg(c,d)}return s[7]}function Ky(i,s,a,c,d,p,_){for(;null!=a;){const I=c[a.index],E=a.type;if(_&&0===s&&(I&&Ar(bn(I),c),a.flags|=4),64!=(64&a.flags))if(8&E)Ky(i,s,a.child,c,d,p,!1),Vd(s,i,d,I,p);else if(32&E){const T=By(a,c);let M;for(;M=T();)Vd(s,i,d,M,p);Vd(s,i,d,I,p)}else 16&E?mf(i,s,c,a,d,p):Vd(s,i,d,I,p);a=_?a.projectionNext:a.next}}function il(i,s,a,c,d,p){Ky(a,c,i.firstChild,s,d,p,!1)}function mf(i,s,a,c,d,p){const _=a[16],E=_[6].projection[c.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Vd(s,i,d,E[T],p);else Ky(i,s,E,_[3],d,p,!0)}function sl(i,s,a){i.setAttribute(s,"style",a)}function yf(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Kb(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}a=d+1}}const Yy="ng-template";function Qy(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==Kb(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function aw(i){return 4===i.type&&i.value!==Yy}function Qb(i,s,a){return s===(4!==i.type||a?i.value:Yy)}function Jb(i,s,a){let c=4;const d=i.attrs||[],p=function SA(i){for(let s=0;s<i.length;s++)if(Ks(i[s]))return s;return i.length}(d);let _=!1;for(let I=0;I<s.length;I++){const E=s[I];if("number"!=typeof E){if(!_)if(4&c){if(c=2|1&c,""!==E&&!Qb(i,E,a)||""===E&&1===s.length){if(ks(c))return!1;_=!0}}else{const T=8&c?E:s[++I];if(8&c&&null!==i.attrs){if(!Qy(i.attrs,T,a)){if(ks(c))return!1;_=!0}continue}const P=Xb(8&c?"class":E,d,aw(i),a);if(-1===P){if(ks(c))return!1;_=!0;continue}if(""!==T){let Z;Z=P>p?"":d[P+1].toLowerCase();const ee=8&c?Z:null;if(ee&&-1!==Kb(ee,T,0)||2&c&&T!==Z){if(ks(c))return!1;_=!0}}}}else{if(!_&&!ks(c)&&!ks(E))return!1;if(_&&ks(E))continue;_=!1,c=E|1&c}}return ks(c)||_}function ks(i){return 0==(1&i)}function Xb(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let I=s[++d];for(;"string"==typeof I;)I=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function uw(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function eC(i,s,a=!1){for(let c=0;c<s.length;c++)if(Jb(i,s[c],a))return!0;return!1}function cw(i,s){return i?":not("+s.trim()+")":s}function lw(i){let s=i[0],a=1,c=2,d="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const I=i[++a];d+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!ks(_)&&(s+=cw(p,d),d=""),c=_,p=p||!ks(c);a++}return""!==d&&(s+=cw(p,d)),s}const St={};function dw(i){hw(Ft(),Ce(),Zn()+i,!1)}function hw(i,s,a,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&vo(s,p,a)}else{const p=i.preOrderHooks;null!==p&&wo(s,p,0,a)}Ur(a)}function aC(i,s=null,a=null,c){const d=pw(i,s,a,c);return d.resolveInjectorInitializers(),d}function pw(i,s=null,a=null,c,d=new Set){const p=[a||mt,My(i)];return c=c||("object"==typeof i?void 0:de(i)),new Sd(p,s||Ad(),c||null,d)}let ye=(()=>{class i{static create(a,c){if(Array.isArray(a))return aC({name:""},c,a,"");{const d=a.name??"";return aC({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=gi,i.NULL=new sf,i.\u0275prov=zt({token:i,providedIn:"any",factory:()=>pn(Id)}),i.__NG_ELEMENT_ID__=-1,i})();function ka(i,s=ze.Default){const a=Ce();return null===a?pn(i,s):Qs(Cn(),a,K(i),s)}function io(){throw new Error("invalid")}function $g(i,s){return i<<17|s<<2}function so(i){return i>>17&32767}function _f(i){return 2|i}function Zo(i){return(131068&i)>>2}function n_(i,s){return-131069&i|s<<2}function $d(i){return 1|i}function c_(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const _=i.data[p];da(d),_.contentQueries(2,s[p],p)}}}function Hd(i,s,a,c,d,p,_,I,E,T,M){const P=s.blueprint.slice();return P[0]=d,P[2]=76|c,(null!==M||i&&1024&i[2])&&(P[2]|=1024),hu(P),P[3]=P[15]=i,P[8]=a,P[10]=_||i&&i[10],P[11]=I||i&&i[11],P[12]=E||i&&i[12]||null,P[9]=T||i&&i[9]||null,P[6]=p,P[20]=function Pb(){return Nb++}(),P[21]=M,P[16]=2==s.type?i[16]:P,P}function ul(i,s,a,c,d){let p=i.data[s];if(null===p)p=function d_(i,s,a,c,d){const p=_u(),_=oa(),E=i.data[s]=function DC(i,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=E),null!==p&&(_?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(i,s,a,c,d),function Wp(){return yt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const _=function _o(){const i=yt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Yr(p,!0),p}function Fa(i,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function Af(i,s,a){Iu(s);try{const c=i.viewQuery;null!==c&&E_(1,c,a);const d=i.template;null!==d&&h_(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&c_(i,s),i.staticViewQueries&&E_(2,i.viewQuery,a);const p=i.components;null!==p&&function bC(i,s){for(let a=0;a<s.length;a++)Fw(i,s[a])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,qs()}}function Zd(i,s,a,c){const d=s[2];if(128!=(128&d)){Iu(s);try{hu(s),function Tc(i){return yt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&h_(i,s,a,2,c);const _=3==(3&d);if(_){const T=i.preOrderCheckHooks;null!==T&&vo(s,T,null)}else{const T=i.preOrderHooks;null!==T&&wo(s,T,0,null),rd(s,0)}if(function kw(i){for(let s=Sg(i);null!==s;s=xg(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(512&d[2])&&En(p,1),d[2]|=512}}}(s),function Ow(i){for(let s=Sg(i);null!==s;s=xg(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];Zs(c)&&Zd(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&c_(i,s),_){const T=i.contentCheckHooks;null!==T&&vo(s,T)}else{const T=i.contentHooks;null!==T&&wo(s,T,1),rd(s,1)}!function EC(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Ur(~d);else{const p=d,_=a[++c],I=a[++c];Kp(_,p),I(2,s[p])}}}finally{Ur(-1)}}(i,s);const I=i.components;null!==I&&function l_(i,s){for(let a=0;a<s.length;a++)AC(i,s[a])}(s,I);const E=i.viewQuery;if(null!==E&&E_(2,E,c),_){const T=i.viewCheckHooks;null!==T&&vo(s,T)}else{const T=i.viewHooks;null!==T&&wo(s,T,2),rd(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,En(s[3],-1))}finally{qs()}}}function h_(i,s,a,c,d){const p=Zn(),_=2&c;try{Ur(-1),_&&s.length>22&&hw(i,s,22,!1),a(c,d)}finally{Ur(p)}}function Sw(i,s,a){if(su(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function cl(i,s,a){!Yi()||(function Rw(i,s,a,c){const d=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||Ys(a,s),Ar(c,s);const _=a.initialInputs;for(let I=d;I<p;I++){const E=i.data[I],T=fr(E);T&&Mf(s,a,E);const M=Ji(s,i,I,a);Ar(M,s),null!==_&&w_(0,I-d,M,E,0,_),T&&(jt(a.index,s)[8]=M)}}(i,s,a,Cr(a,s)),128==(128&a.flags)&&function g_(i,s,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,_=function Ac(){return yt.lFrame.currentDirectiveIndex}();try{Ur(p);for(let I=c;I<d;I++){const E=i.data[I],T=s[I];vu(I),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&m_(E,T)}}finally{Ur(-1),vu(_)}}(i,s,a))}function Wg(i,s,a=Cr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],I=-1===_?a(s,i):i[_];i[d++]=I}}}function f_(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Kg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Kg(i,s,a,c,d,p,_,I,E,T){const M=22+c,P=M+d,Z=function Yg(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:St);return a}(M,P),ee="function"==typeof T?T():T;return Z[1]={type:i,blueprint:Z,template:a,queries:null,viewQuery:I,declTNode:s,data:Z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:ee,incompleteFirstPass:!1}}function ll(i,s,a,c){const d=b_(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&Lw(i).push(c,d.length-1))}function xw(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function zu(i,s){const c=s.directiveEnd,d=i.data,p=s.attrs,_=[];let I=null,E=null;for(let T=s.directiveStart;T<c;T++){const M=d[T],P=M.inputs,Z=null===p||aw(s)?null:em(P,p);_.push(Z),I=xw(P,T,I),E=xw(M.outputs,T,E)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=I,s.outputs=E}function ri(i,s,a,c,d,p,_,I){const E=Cr(s,a);let M,T=s.inputs;!I&&null!=T&&(M=T[c])?(Wd(i,a,M,c,d),ra(s)&&p_(a,s.index)):3&s.type&&(c=function Mw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,s.value||"",c):d,p.setProperty(E,c,d))}function p_(i,s){const a=jt(s,i);16&a[2]||(a[2]|=32)}function Qg(i,s,a,c){let d=!1;if(Yi()){const p=function Nw(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];eC(a,_.selectors,!1)&&(d||(d=[]),Is(Ys(a,s),i,_.type),fr(_)?(qd(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===c?null:{"":-1};if(null!==p){d=!0,Xg(a,i.data.length,p.length);for(let M=0;M<p.length;M++){const P=p[M];P.providersResolver&&P.providersResolver(P)}let I=!1,E=!1,T=Fa(i,s,p.length,null);for(let M=0;M<p.length;M++){const P=p[M];a.mergedAttrs=ha(a.mergedAttrs,P.hostAttrs),xf(i,a,s,T,P),__(T,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const Z=P.type.prototype;!I&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!E&&(Z.ngOnChanges||Z.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),T++}zu(i,a)}_&&function y_(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new we(-301,!1);c.push(s[d],p)}}}(a,c,_)}return a.mergedAttrs=ha(a.mergedAttrs,a.attrs),d}function Gd(i,s,a,c,d,p){const _=p.hostBindings;if(_){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const E=~s.index;(function Jg(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(I)!=E&&I.push(E),I.push(c,d,_)}}function m_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function qd(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function __(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;fr(s)&&(a[""]=i)}}function Xg(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function xf(i,s,a,c,d){i.data[c]=d;const p=d.factory||(d.factory=Ei(d.type)),_=new ws(p,fr(d),ka);i.blueprint[c]=_,a[c]=_,Gd(i,s,0,c,Fa(i,a,d.hostVars,St),d)}function Mf(i,s,a){const c=Cr(s,i),d=f_(a),p=i[10],_=Wu(i,Hd(i,d,null,a.onPush?32:16,c,s,p,p.createRenderer(c,a),null,null,null));i[s.index]=_}function oo(i,s,a,c,d,p){const _=Cr(i,s);!function v_(i,s,a,c,d,p,_){if(null==p)i.removeAttribute(s,d,a);else{const I=null==_?me(p):_(p,c||"",d);i.setAttribute(s,d,I,a)}}(s[11],_,p,i.value,a,c,d)}function w_(i,s,a,c,d,p){const _=p[s];if(null!==_){const I=c.setInput;for(let E=0;E<_.length;){const T=_[E++],M=_[E++],P=_[E++];null!==I?c.setInput(a,P,T,M):a[M]=P}}}function em(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function I_(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function AC(i,s){const a=jt(s,i);if(Zs(a)){const c=a[1];48&a[2]?Zd(c,a,c.template,a[8]):a[5]>0&&dl(a)}}function dl(i){for(let c=Sg(i);null!==c;c=xg(c))for(let d=10;d<c.length;d++){const p=c[d];if(Zs(p))if(512&p[2]){const _=p[1];Zd(_,p,_.template,p[8])}else p[5]>0&&dl(p)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=jt(a[c],i);Zs(d)&&d[5]>0&&dl(d)}}function Fw(i,s){const a=jt(s,i),c=a[1];(function tm(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),Af(c,a,a[8])}function Wu(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function La(i){for(;i;){i[2]|=32;const s=Ld(i);if(kh(i)&&!s)return i;i=s}return null}function zd(i,s,a,c=!0){const d=s[10];d.begin&&d.begin();try{Zd(i,s,i.template,a)}catch(_){throw c&&qo(s,_),_}finally{d.end&&d.end()}}function E_(i,s,a){da(0),s(i,a)}function b_(i){return i[7]||(i[7]=[])}function Lw(i){return i.cleanup||(i.cleanup=[])}function qo(i,s){const a=i[9],c=a?a.get(df,null):null;c&&c.handleError(s)}function Wd(i,s,a,c,d){for(let p=0;p<a.length;){const _=a[p++],I=a[p++],E=s[_],T=i.data[_];null!==T.setInput?T.setInput(E,d,c,I):E[I]=d}}function Fs(i,s,a){const c=Kr(s,i);!function W0(i,s,a){i.setValue(s,a)}(i[11],c,a)}function Rf(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const I=s[_];"number"==typeof I?p=I:1==p?d=fe(d,I):2==p&&(c=fe(c,I+": "+s[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function wn(i,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(bn(p)),br(p))for(let I=10;I<p.length;I++){const E=p[I],T=E[1].firstChild;null!==T&&wn(E[1],E,T,c)}const _=a.type;if(8&_)wn(i,s,a.child,c);else if(32&_){const I=By(a,s);let E;for(;E=I();)c.push(E)}else if(16&_){const I=Wy(s,a);if(Array.isArray(I))c.push(...I);else{const E=Ld(s[16]);wn(E[1],E,I,c,!0)}}a=d?a.projectionNext:a.next}return c}class Yu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return wn(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(br(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Zy(s,c),Dr(a,c))}this._attachedToViewContainer=!1}pf(this._lView[1],this._lView)}onDestroy(s){ll(this._lView[1],this._lView,null,s)}markForCheck(){La(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Y0(i,s){il(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=s}}class Nf extends Yu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;zd(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class hl extends g{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Tt(s);return new Pf(a,this.ngModule)}}function Vw(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class xC{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){const d=this.injector.get(s,$u,c);return d!==$u||a===$u?d:this.parentInjector.get(s,a,c)}}class Pf extends lf{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function nC(i){return i.map(lw).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Vw(this.componentDef.inputs)}get outputs(){return Vw(this.componentDef.outputs)}create(s,a,c,d){let p=(d=d||this.ngModule)instanceof Os?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new xC(s,p):s,I=_.get(Le,null);if(null===I)throw new we(407,!1);const E=_.get(at,null),T=I.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",P=c?function CC(i,s,a){return i.selectRootElement(s,a===it.ShadowDom)}(T,c,this.componentDef.encapsulation):Mg(I.createRenderer(null,this.componentDef),M,function Uw(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),Z=this.componentDef.onPush?288:272,ee=Kg(0,null,null,1,0,null,null,null,null,null),_e=Hd(null,ee,null,Z,null,null,I,T,E,_,null);let ke,Ze;Iu(_e);try{const Qe=function Bw(i,s,a,c,d,p){const _=a[1];a[22]=i;const E=ul(_,22,2,"#host",null),T=E.mergedAttrs=s.hostAttrs;null!==T&&(Rf(E,T,!0),null!==i&&(bo(d,i,T),null!==E.classes&&yf(d,i,E.classes),null!==E.styles&&sl(d,i,E.styles)));const M=c.createRenderer(i,s),P=Hd(a,f_(s),null,s.onPush?32:16,a[22],E,c,M,p||null,null,null);return _.firstCreatePass&&(Is(Ys(E,a),_,s.type),qd(_,E),Xg(E,a.length,1)),Wu(a,P),a[22]=P}(P,this.componentDef,_e,I,T);if(P)if(c)bo(T,P,["ng-version",Pi.full]);else{const{attrs:dt,classes:Te}=function rC(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&a.push(p);else{if(!ks(d))break;d=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);dt&&bo(T,P,dt),Te&&Te.length>0&&yf(T,P,Te.join(" "))}if(Ze=yo(ee,22),void 0!==a){const dt=Ze.projection=[];for(let Te=0;Te<this.ngContentSelectors.length;Te++){const vt=a[Te];dt.push(null!=vt?Array.from(vt):null)}}ke=function jw(i,s,a,c){const d=a[1],p=function yi(i,s,a){const c=Cn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),xf(i,c,s,Fa(i,s,1,null),a),zu(i,c));const d=Ji(s,i,c.directiveStart,c);Ar(d,s);const p=Cr(c,s);return p&&Ar(p,s),d}(d,a,s);if(i[8]=a[8]=p,null!==c)for(const I of c)I(p,s);if(s.contentQueries){const I=Cn();s.contentQueries(1,p,I.directiveStart)}const _=Cn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ur(_.index),Gd(a[1],_,0,_.directiveStart,_.directiveEnd,s),m_(s,p)),p}(Qe,this.componentDef,_e,[$w]),Af(ee,_e,null)}finally{qs()}return new Of(this.componentType,ke,A(Ze,_e),_e,Ze)}}class Of extends class yg{}{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Nf(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){const p=this._rootLView;Wd(p[1],p,d,s,a),p_(p,this._tNode.index)}}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function $w(){const i=Cn();kc(Ce()[1],i)}function C_(i){let s=function pl(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(fr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new we(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const _=i;_.inputs=nm(i.inputs),_.declaredInputs=nm(i.declaredInputs),_.outputs=nm(i.outputs);const I=d.hostBindings;I&&Zw(i,I);const E=d.viewQuery,T=d.contentQueries;if(E&&NC(i,E),T&&Hw(i,T),ce(i.inputs,d.inputs),ce(i.declaredInputs,d.declaredInputs),ce(i.outputs,d.outputs),fr(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const I=p[_];I&&I.ngInherit&&I(i),I===C_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function RC(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=ha(d.hostAttrs,a=ha(a,d.hostAttrs))}}(c)}function nm(i){return i===Ir?{}:i===mt?[]:i}function NC(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function Hw(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function Zw(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let kf=null;function Va(){if(!kf){const i=un.Symbol;if(i&&i.iterator)kf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(kf=c)}}}return kf}function Ff(i){return!!gl(i)&&(Array.isArray(i)||!(i instanceof Map)&&Va()in i)}function gl(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ls(i,s,a){return i[s]=a}function lr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ao(i,s,a,c){const d=lr(i,s,a);return lr(i,s+1,c)||d}function om(i,s,a,c){const d=Ce();return lr(d,Gs(),s)&&(Ft(),oo(fn(),d,i,s,a,c)),om}function Qd(i,s,a,c){return lr(i,Gs(),a)?s+me(a)+c:St}function Jd(i,s,a,c,d,p){const I=ao(i,function Ci(){return yt.lFrame.bindingIndex}(),a,d);return Qi(2),I?s+me(a)+c+me(d)+p:St}function eh(i,s,a,c,d,p,_,I){const E=Ce(),T=Ft(),M=i+22,P=T.firstCreatePass?function qw(i,s,a,c,d,p,_,I,E){const T=s.consts,M=ul(s,i,4,_||null,di(T,I));Qg(s,a,M,di(T,E)),kc(s,M);const P=M.tViews=Kg(2,M,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,M),P.queries=s.queries.embeddedTView(M)),M}(M,T,E,s,a,c,d,p,_):T.data[M];Yr(P,!1);const Z=E[11].createComment("");gf(T,E,Z,P),Ar(Z,E),Wu(E,E[M]=I_(Z,E,Z,P)),yc(P)&&cl(T,E,P),null!=_&&Wg(E,P,I)}function R_(i){return Ki(function Dc(){return yt.lFrame.contextLView}(),22+i)}function Uf(i,s,a){const c=Ce();return lr(c,Gs(),s)&&ri(Ft(),fn(),c,i,s,c[11],a,!1),Uf}function Bf(i,s,a,c,d){const _=d?"class":"style";Wd(i,a,s.inputs[_],_,c)}function wl(i,s,a,c){const d=Ce(),p=Ft(),_=22+i,I=d[11],E=d[_]=Mg(I,s,function bu(){return yt.lFrame.currentNamespace}()),T=p.firstCreatePass?function Ww(i,s,a,c,d,p,_){const I=s.consts,T=ul(s,i,2,d,di(I,p));return Qg(s,a,T,di(I,_)),null!==T.attrs&&Rf(T,T.attrs,!1),null!==T.mergedAttrs&&Rf(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,p,d,0,s,a,c):p.data[_];Yr(T,!0);const M=T.mergedAttrs;null!==M&&bo(I,E,M);const P=T.classes;null!==P&&yf(I,E,P);const Z=T.styles;return null!==Z&&sl(I,E,Z),64!=(64&T.flags)&&gf(p,d,E,T),0===function pu(){return yt.lFrame.elementDepthCount}()&&Ar(E,d),function gu(){yt.lFrame.elementDepthCount++}(),yc(T)&&(cl(p,d,T),Sw(p,T,d)),null!==c&&Wg(d,T),wl}function jf(){let i=Cn();oa()?aa():(i=i.parent,Yr(i,!1));const s=i;!function Ec(){yt.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(kc(a,i),su(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Tu(i){return 0!=(16&i.flags)}(s)&&Bf(a,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function sd(i){return 0!=(32&i.flags)}(s)&&Bf(a,s,Ce(),s.stylesWithoutHost,!1),jf}function cm(i,s,a,c){return wl(i,s,a,c),jf(),cm}function $f(i,s,a){const c=Ce(),d=Ft(),p=i+22,_=d.firstCreatePass?function Il(i,s,a,c,d){const p=s.consts,_=di(p,c),I=ul(s,i,8,"ng-container",_);return null!==_&&Rf(I,_,!0),Qg(s,a,I,di(p,d)),null!==s.queries&&s.queries.elementStart(s,I),I}(p,d,c,s,a):d.data[p];Yr(_,!0);const I=c[p]=c[11].createComment("");return gf(d,c,I,_),Ar(I,c),yc(_)&&(cl(d,c,_),Sw(d,_,c)),null!=a&&Wg(c,_),$f}function Hf(){let i=Cn();const s=Ft();return oa()?aa():(i=i.parent,Yr(i,!1)),s.firstCreatePass&&(kc(s,i),su(i)&&s.queries.elementEnd(i)),Hf}function P_(){return Ce()}function th(i){return!!i&&"function"==typeof i.then}function ki(i){return!!i&&"function"==typeof i.subscribe}const O_=ki;function lm(i,s,a,c){const d=Ce(),p=Ft(),_=Cn();return function Kw(i,s,a,c,d,p,_,I){const E=yc(c),M=i.firstCreatePass&&Lw(i),P=s[8],Z=b_(s);let ee=!0;if(3&c.type||I){const Ze=Cr(c,s),Qe=I?I(Ze):Ze,dt=Z.length,Te=I?Jt=>I(bn(Jt[c.index])):c.index;let vt=null;if(!I&&E&&(vt=function kC(i,s,a,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===a&&d[p+1]===c){const I=s[7],E=d[p+2];return I.length>E?I[E]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,c.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=p,vt.__ngLastListenerFn__=p,ee=!1;else{p=Yw(c,s,P,p,!1);const Jt=a.listen(Qe,d,p);Z.push(p,Jt),M&&M.push(d,Te,dt,dt+1)}}else p=Yw(c,s,P,p,!1);const _e=c.outputs;let ke;if(ee&&null!==_e&&(ke=_e[d])){const Ze=ke.length;if(Ze)for(let Qe=0;Qe<Ze;Qe+=2){const Pn=s[ke[Qe]][ke[Qe+1]].subscribe(p),nu=Z.length;Z.push(p,Pn),M&&M.push(d,c.index,nu,-(nu+1))}}}(p,d,d[11],_,i,s,0,c),lm}function dm(i,s,a,c){try{return!1!==a(c)}catch(d){return qo(i,d),!1}}function Yw(i,s,a,c,d){return function p(_){if(_===Function)return c;La(2&i.flags?jt(i.index,s):s);let E=dm(s,0,c,_),T=p.__ngNextListenerFn__;for(;T;)E=dm(s,0,T,_)&&E,T=T.__ngNextListenerFn__;return d&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function Qw(i=1){return function zs(i){return(yt.lFrame.contextLView=function Eu(i,s){for(;i>0;)s=s[15],i--;return s}(i,yt.lFrame.contextLView))[8]}(i)}function k_(i,s,a){return fm(i,"",s,"",a),k_}function fm(i,s,a,c,d){const p=Ce(),_=Qd(p,s,a,c);return _!==St&&ri(Ft(),fn(),p,i,_,p[11],d,!1),fm}function tI(i,s,a,c,d){const p=i[a+1],_=null===s;let I=c?so(p):Zo(p),E=!1;for(;0!==I&&(!1===E||_);){const M=i[I+1];qe(i[I],s)&&(E=!0,i[I+1]=c?$d(M):_f(M)),I=c?so(M):Zo(M)}E&&(i[a+1]=c?_f(p):$d(p))}function qe(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ts(i,s)>=0}function gm(i,s){return function uo(i,s,a,c){const d=Ce(),p=Ft(),_=Qi(2);p.firstUpdatePass&&function Gf(i,s,a,c){const d=i.data;if(null===d[a+1]){const p=d[Zn()],_=function He(i,s){return s>=i.expandoStartIndex}(i,a);(function _m(i,s){return 0!=(i.flags&(s?16:32))})(p,c)&&null===s&&!_&&(s=!1),s=function L_(i,s,a,c){const d=function la(i){const s=yt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=ja(a=V_(null,i,s,a,c),s.attrs,c),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=V_(d,i,s,a,c),null===p){let E=function Dl(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==Zo(c))return i[so(c)]}(i,s,c);void 0!==E&&Array.isArray(E)&&(E=V_(null,i,s,E[1],c),E=ja(E,s.attrs,c),function jC(i,s,a,c){i[so(a?s.classBindings:s.styleBindings)]=c}(i,s,c,E))}else p=function mm(i,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=ja(c,i[p].hostAttrs,a);return ja(c,s.attrs,a)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function Xe(i,s,a,c,d,p){let _=p?s.classBindings:s.styleBindings,I=so(_),E=Zo(_);i[c]=a;let M,T=!1;if(Array.isArray(a)){const P=a;M=P[1],(null===M||Ts(P,M)>0)&&(T=!0)}else M=a;if(d)if(0!==E){const Z=so(i[I+1]);i[c+1]=$g(Z,I),0!==Z&&(i[Z+1]=n_(i[Z+1],c)),i[I+1]=function ww(i,s){return 131071&i|s<<17}(i[I+1],c)}else i[c+1]=$g(I,0),0!==I&&(i[I+1]=n_(i[I+1],c)),I=c;else i[c+1]=$g(E,0),0===I?I=c:i[E+1]=n_(i[E+1],c),E=c;T&&(i[c+1]=_f(i[c+1])),tI(i,M,c,!0),tI(i,M,c,!1),function bt(i,s,a,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&Ts(p,s)>=0&&(a[c+1]=$d(a[c+1]))}(s,M,i,c,p),_=$g(I,E),p?s.classBindings=_:s.styleBindings=_}(d,p,s,a,_,c)}}(p,i,_,c),s!==St&&lr(d,_,s)&&function ym(i,s,a,c,d,p,_,I){if(!(3&s.type))return;const E=i.data,T=E[I+1];qf(function r_(i){return 1==(1&i)}(T)?B_(E,s,a,d,Zo(T),_):void 0)||(qf(p)||function al(i){return 2==(2&i)}(T)&&(p=B_(E,null,a,d,I,_)),function ow(i,s,a,c,d){if(s)d?i.addClass(a,c):i.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:Uo.DashCase;null==d?i.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Uo.Important),i.setStyle(a,c,d,p))}}(c,_,Kr(Zn(),a),d,p))}(p,p.data[Zn()],d,d[11],i,d[_+1]=function Ju(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=de(xi(i)))),i}(s,a),c,_)}(i,s,null,!0),gm}function V_(i,s,a,c,d){let p=null;const _=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<_&&(p=s[I],c=ja(c,p.hostAttrs,d),p!==i);)I++;return null!==i&&(a.directiveStylingLast=I),c}function ja(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),rt(i,_,!!a||s[++p]))}return void 0===i?null:i}function B_(i,s,a,c,d,p){const _=null===s;let I;for(;d>0;){const E=i[d],T=Array.isArray(E),M=T?E[1]:E,P=null===M;let Z=a[d+1];Z===St&&(Z=P?mt:void 0);let ee=P?ba(Z,c):M===c?Z:void 0;if(T&&!qf(ee)&&(ee=ba(E,c)),qf(ee)&&(I=ee,_))return I;const _e=i[d+1];d=_?so(_e):Zo(_e)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(I=ba(E,c))}return I}function qf(i){return void 0!==i}function ae(i,s=""){const a=Ce(),c=Ft(),d=i+22,p=c.firstCreatePass?ul(c,d,1,s,null):c.data[d],_=a[d]=function $y(i,s){return i.createText(s)}(a[11],s);gf(c,a,_,p),Yr(p,!1)}function rh(i){return Fi("",i,""),rh}function Fi(i,s,a){const c=Ce(),d=Qd(c,i,s,a);return d!==St&&Fs(c,Zn(),d),Fi}function j_(i,s,a,c,d){const p=Ce(),_=Jd(p,i,s,a,c,d);return _!==St&&Fs(p,Zn(),_),j_}const ii=void 0;var nc=["en",[["a","p"],["AM","PM"],ii],[["AM","PM"],ii,ii],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ii,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ii,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ii,"{1} 'at' {0}",ii],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wf(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Sl={};function Yf(i){const s=function bm(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=lh(s);if(a)return a;const c=s.split("-")[0];if(a=lh(c),a)return a;if("en"===c)return nc;throw new we(701,!1)}function Em(i){return Yf(i)[pt.PluralCase]}function lh(i){return i in Sl||(Sl[i]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[i]),Sl[i]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const dh="en-US";let In=dh;function Nl(i,s,a,c,d){if(i=K(i),Array.isArray(i))for(let p=0;p<i.length;p++)Nl(i[p],s,a,c,d);else{const p=Ft(),_=Ce();let I=Ni(i)?i:K(i.provide),E=Md(i);const T=Cn(),M=1048575&T.providerIndexes,P=T.directiveStart,Z=T.providerIndexes>>20;if(Ni(i)||!i.multi){const ee=new ws(E,d,ka),_e=Mm(I,s,d?M:M+Z,P);-1===_e?(Is(Ys(T,_),p,I),xm(p,i,s.length),s.push(I),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(ee),_.push(ee)):(a[_e]=ee,_[_e]=ee)}else{const ee=Mm(I,s,M+Z,P),_e=Mm(I,s,M,M+Z),ke=ee>=0&&a[ee],Ze=_e>=0&&a[_e];if(d&&!Ze||!d&&!ke){Is(Ys(T,_),p,I);const Qe=function Ot(i,s,a,c,d){const p=new ws(i,a,ka);return p.multi=[],p.index=s,p.componentProviders=0,lo(p,d,c&&!a),p}(d?sD:op,a.length,d,c,E);!d&&Ze&&(a[_e].providerFactory=Qe),xm(p,i,s.length,0),s.push(I),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Qe),_.push(Qe)}else xm(p,i,ee>-1?ee:_e,lo(a[d?_e:ee],E,!d&&c));!d&&c&&Ze&&a[_e].componentProviders++}}}function xm(i,s,a,c){const d=Ni(s),p=function uf(i){return!!i.useClass}(s);if(d||p){const E=(p?K(s.useClass):s).prototype.ngOnDestroy;if(E){const T=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const M=T.indexOf(a);-1===M?T.push(a,[c,E]):T[M+1].push(c,E)}else T.push(a,E)}}}function lo(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Mm(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function op(i,s,a,c){return nv(this.multi,[])}function sD(i,s,a,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=Ji(a,a[1],this.providerFactory.index,c);p=I.slice(0,_),nv(d,p);for(let E=_;E<I.length;E++)p.push(I[E])}else p=[],nv(d,p);return p}function nv(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function $I(i,s=[]){return a=>{a.providersResolver=(c,d)=>function jI(i,s,a){const c=Ft();if(c.firstCreatePass){const d=fr(i);Nl(a,c.data,c.blueprint,d,!0),Nl(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class za{}class yh{}function ap(i,s){return new iv(i,s??null)}class iv extends za{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hl(this);const c=Er(s);this._bootstrapComponents=Oa(c.bootstrap),this._r3Injector=pw(s,a,[{provide:za,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],de(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Rm extends yh{constructor(s){super(),this.moduleType=s}create(s){return new iv(this.moduleType,s)}}class HI extends za{constructor(s,a,c){super(),this.componentFactoryResolver=new hl(this),this.instance=null;const d=new Sd([...s,{provide:za,useValue:this},{provide:g,useValue:this.componentFactoryResolver}],a||Ad(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function sv(i,s,a=null){return new HI(i,s,a).injector}let ZI=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=bd(0,a.type),d=c.length>0?sv([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=zt({token:i,providedIn:"environment",factory:()=>new i(pn(Os))}),i})();function ov(i){i.getStandaloneInjector=s=>s.get(ZI).getOrCreateStandaloneInjector(i)}function wh(i,s,a,c){return function Pl(i,s,a,c,d,p){const _=s+a;return lr(i,_,d)?Ls(i,_+1,p?c.call(p,d):c(d)):cp(i,_+1)}(Ce(),Dn(),i,s,a,c)}function cp(i,s){const a=i[s];return a===St?void 0:a}function dv(i,s){const a=Ft();let c;const d=i+22;a.firstCreatePass?(c=function _i(i,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(i===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=Ei(c.type)),_=xn(ka);try{const I=ga(!1),E=p();return ga(I),function zw(i,s,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=c}(a,Ce(),d,E),E}finally{xn(_)}}function ho(i,s,a,c){const d=i+22,p=Ce(),_=Ki(p,d);return function lp(i,s){return i[1].data[s].pure}(p,d)?function Ol(i,s,a,c,d,p,_){const I=s+a;return ao(i,I,d,p)?Ls(i,I+2,_?c.call(_,d,p):c(d,p)):cp(i,I+2)}(p,Dn(),s,_.transform,a,c,_):_.transform(a,c)}function hv(i){return s=>{setTimeout(i,void 0,s)}}const Ko=class pD extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,p=a||(()=>null),_=c;if(s&&"object"==typeof s){const E=s;d=E.next?.bind(E),p=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(p=hv(p),d&&(d=hv(d)),_&&(_=hv(_)));const I=super.subscribe({next:d,error:p,complete:_});return s instanceof X.w0&&s.add(I),I}};function gD(){return this._results[Va()]()}class fv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Va(),c=fv.prototype;c[a]||(c[a]=gD)}get changes(){return this._changes||(this._changes=new Ko)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=_n(s);(this._changesDetected=!function Qr(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let dp=(()=>{class i{}return i.__NG_ELEMENT_ID__=_D,i})();const mD=dp,yD=class extends mD{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s,a){const c=this._declarationTContainer.tViews,d=Hd(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(d[19]=_.createEmbeddedView(c)),Af(c,d,s),new Yu(d)}};function _D(){return Om(Cn(),Ce())}function Om(i,s){return 4&i.type?new yD(s,i,A(i,s)):null}let km=(()=>{class i{}return i.__NG_ELEMENT_ID__=vD,i})();function vD(){return mv(Cn(),Ce())}const wD=km,oE=class extends wD{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return A(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const s=Mu(this._hostTNode,this._hostLView);if(ad(s)){const a=pa(s,this._hostLView),c=nr(s);return new Js(a[1].data[c+8],a)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=pv(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const _=s.createEmbeddedView(a||{},p);return this.insert(_,d),_}createComponent(s,a,c,d,p){const _=s&&!function fi(i){return"function"==typeof i}(s);let I;if(_)I=a;else{const P=a||{};I=P.index,c=P.injector,d=P.projectableNodes,p=P.environmentInjector||P.ngModuleRef}const E=_?s:new Pf(Tt(s)),T=c||this.parentInjector;if(!p&&null==E.ngModule){const Z=(_?T:this.parentInjector).get(Os,null);Z&&(p=Z)}const M=E.create(T,d,void 0,p);return this.insert(M.hostView,I),M}insert(s,a){const c=s._lView,d=c[1];if(function du(i){return br(i[3])}(c)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const P=c[3],Z=new oE(P,P[6],P[3]);Z.detach(Z.indexOf(s))}}const p=this._adjustIndex(a),_=this._lContainer;!function Gb(i,s,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=s),c<p-10?(s[4]=a[d],Ia(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function qb(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const I=s[19];null!==I&&I.insertView(i),s[2]|=64}(d,c,_,p);const I=iw(p,_),E=c[11],T=Ng(E,_[7]);return null!==T&&function K0(i,s,a,c,d,p){c[0]=d,c[6]=s,il(i,c,a,1,d,p)}(d,_[6],E,c,T,I),s.attachToViewContainerRef(),Ia(gv(_),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=pv(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Zy(this._lContainer,a);c&&(Dr(gv(this._lContainer),a),pf(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Zy(this._lContainer,a);return c&&null!=Dr(gv(this._lContainer),a)?new Yu(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function pv(i){return i[8]}function gv(i){return i[8]||(i[8]=[])}function mv(i,s){let a;const c=s[i.index];if(br(c))a=c;else{let d;if(8&i.type)d=bn(c);else{const p=s[11];d=p.createComment("");const _=Cr(i,s);Bo(p,Ng(p,_),d,function nw(i,s){return i.nextSibling(s)}(p,_),!1)}s[i.index]=a=I_(c,s,d,i),Wu(s,a)}return new oE(a,i,s)}class dr{constructor(s){this.queryList=s,this.matches=null}clone(){return new dr(this.queryList)}setDirty(){this.queryList.setDirty()}}class hp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const _=a.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new hp(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Iv(s,a).matches&&this.queries[a].setDirty()}}class Fm{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class fp{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new fp(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Yo{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Yo(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,cE(a,p)),this.matchTNodeWithReadOption(s,a,Co(a,s,p,!1,!1))}else c===dp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Co(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===N||d===km||d===dp&&4&a.type)this.addMatch(a.index,-2);else{const p=Co(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function cE(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function lE(i,s,a,c){return-1===a?function ED(i,s){return 11&i.type?A(i,s):4&i.type?Om(i,s):null}(s,i):-2===a?function Lm(i,s,a){return a===N?A(s,i):a===dp?Om(s,i):a===km?mv(s,i):void 0}(i,s,c):Ji(i,i[1],a,s)}function sc(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const p=i.data,_=a.matches,I=[];for(let E=0;E<_.length;E+=2){const T=_[E];I.push(T<0?null:lE(s,p[T],_[E+1],a.metadata.read))}d.matches=I}return d.matches}function Ka(i,s,a,c){const d=i.queries.getByIndex(a),p=d.matches;if(null!==p){const _=sc(i,s,d,a);for(let I=0;I<p.length;I+=2){const E=p[I];if(E>0)c.push(_[I/2]);else{const T=p[I+1],M=s[-E];for(let P=10;P<M.length;P++){const Z=M[P];Z[17]===Z[3]&&Ka(Z[1],Z,T,c)}if(null!==M[9]){const P=M[9];for(let Z=0;Z<P.length;Z++){const ee=P[Z];Ka(ee[1],ee,T,c)}}}}}return c}function oc(i){const s=Ce(),a=Ft(),c=Sc();da(c+1);const d=Iv(a,c);if(i.dirty&&function lu(i){return 4==(4&i[2])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?Ka(a,s,c,[]):sc(a,s,d,c);i.reset(p,z),i.notifyOnChanges()}return!0}return!1}function yv(i,s,a,c){const d=Ft();if(d.firstCreatePass){const p=Cn();(function wv(i,s,a){null===i.queries&&(i.queries=new fp),i.queries.track(new Yo(s,a))})(d,new Fm(s,a,c),p.index),function bD(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function vv(i,s,a){const c=new fv(4==(4&a));ll(i,s,c,c.destroy),null===s[19]&&(s[19]=new hp),s[19].queries.push(new dr(c))}(d,Ce(),a)}function Vm(){return function _v(i,s){return i[19].queries[s].queryList}(Ce(),Sc())}function Iv(i,s){return i.queries.getByIndex(s)}function $m(...i){}const CE=new ln("Application Initializer");let Ul=(()=>{class i{constructor(a){this.appInits=a,this.resolve=$m,this.reject=$m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(th(p))a.push(p);else if(O_(p)){const _=new Promise((I,E)=>{p.subscribe({complete:I,error:E})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(pn(CE,8))},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const DE=new ln("AppId",{providedIn:"root",factory:function Nv(){return`${yp()}${yp()}${yp()}`}});function yp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ch=new ln("Platform Initializer"),Hm=new ln("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zm=new ln("appBootstrapListener");let FD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const _p=new ln("LocaleId",{providedIn:"root",factory:()=>b(_p,ze.Optional|ze.SkipSelf)||function SE(){return typeof $localize<"u"&&$localize.locale||dh}()}),Pv=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xE{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let VD=(()=>{class i{compileModuleSync(a){return new Rm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=Oa(Er(a).declarations).reduce((_,I)=>{const E=Tt(I);return E&&_.push(new Pf(E)),_},[]);return new xE(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const BD=(()=>Promise.resolve(0))();function Ip(i){typeof Zone>"u"?BD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Bi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ko(!1),this.onMicrotaskEmpty=new Ko(!1),this.onStable=new Ko(!1),this.onError=new Ko(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function jD(){let i=un.requestAnimationFrame,s=un.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function qm(i){const s=()=>{!function Fv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(un,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Bl(i),i.isCheckStableRunning=!0,Gm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Bl(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,_,I)=>{try{return Ep(i),a.invokeTask(d,p,_,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),zm(i)}},onInvoke:(a,c,d,p,_,I,E)=>{try{return Ep(i),a.invoke(d,p,_,I,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),zm(i)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Bl(i),Gm(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bi.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Bi.isInAngularZone())throw new we(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,ME,$m,$m);try{return p.runTask(_,a,c)}finally{p.cancelTask(_)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const ME={};function Gm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Bl(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ep(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zm(i){i._nesting--,Gm(i)}class Lv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ko,this.onMicrotaskEmpty=new Ko,this.onStable=new Ko,this.onError=new Ko}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Wm=new ln(""),Vv=new ln("");let Bv,$D=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bv||(function HD(i){Bv=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bi.assertNotInAngularZone(),Ip(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ip(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(pn(Bi),pn(Uv),pn(Vv))},i.\u0275prov=zt({token:i,factory:i.\u0275fac}),i})(),Uv=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Bv?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),uc=null;const jv=new ln("AllowMultipleToken"),Th=new ln("PlatformDestroyListeners");class qD{constructor(s,a){this.name=s,this.token=a}}function Ym(i,s,a=[]){const c=`Platform: ${s}`,d=new ln(c);return(p=[])=>{let _=jl();if(!_||_.injector.get(jv,!1)){const I=[...a,...p,{provide:d,useValue:!0}];i?i(I):function zD(i){if(uc&&!uc.get(jv,!1))throw new we(400,!1);uc=i;const s=i.get(Jm);(function RE(i){const s=i.get(Ch,null);s&&s.forEach(a=>a())})(i)}(function Qm(i=[],s){return ye.create({name:s,providers:[{provide:Dd,useValue:"platform"},{provide:Th,useValue:new Set([()=>uc=null])},...i]})}(I,c))}return function Ah(i){const s=jl();if(!s)throw new we(401,!1);return s}()}}function jl(){return uc?.get(Jm)??null}let Jm=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function Xm(i,s){let a;return a="noop"===i?new Lv:("zone.js"===i?void 0:i)||new Bi(s),a}(c?.ngZone,function Zv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),p=[{provide:Bi,useValue:d}];return d.run(()=>{const _=ye.create({providers:p,parent:this.injector,name:a.moduleType.name}),I=a.create(_),E=I.injector.get(df,null);if(!E)throw new we(402,!1);return d.runOutsideAngular(()=>{const T=d.onError.subscribe({next:M=>{E.handleError(M)}});I.onDestroy(()=>{ty(this._modules,I),T.unsubscribe()})}),function ey(i,s,a){try{const c=a();return th(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(E,d,()=>{const T=I.injector.get(Ul);return T.runInitializers(),T.donePromise.then(()=>(function gI(i){Ut(i,"Expected localeId to be defined"),"string"==typeof i&&(In=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(_p,dh)||dh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const d=eu({},c);return function $v(i,s,a){const c=new Rm(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(bp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new we(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Th,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(pn(ye))},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function eu(i,s){return Array.isArray(s)?s.reduce(eu,i):{...i,...s}}let bp=(()=>{class i{constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),_=new O.y(I=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Bi.assertNotInAngularZone(),Ip(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{E.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ue.T)(p,_.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof lf;if(!this._injector.get(Ul).done)throw!d&&wi(a),new we(405,false);let _;_=d?a:this._injector.get(g).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const I=function GD(i){return i.isBoundToModule}(_)?void 0:this._injector.get(za),T=_.create(ye.NULL,[],c||_.selector,I),M=T.location.nativeElement,P=T.injector.get(Wm,null);return P?.registerApplication(M),T.onDestroy(()=>{this.detachView(T.hostView),ty(this.components,T),P?.unregisterApplication(M)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;ty(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Zm,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ty(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(pn(Bi),pn(Os),pn(df))},i.\u0275prov=zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ty(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let ry=!0,NE=!1;function Gv(){return NE=!0,ry}function iy(){if(NE)throw new Error("Cannot enable prod mode after platform setup.");ry=!1}let qv=(()=>{class i{}return i.__NG_ELEMENT_ID__=QD,i})();function QD(i){return function JD(i,s,a){if(ra(i)&&!a){const c=jt(i.index,s);return new Yu(c,c)}return 47&i.type?new Yu(s[16],s):null}(Cn(),Ce(),16==(16&i))}class kE{constructor(){}supports(s){return Ff(s)}create(s){return new Yv(s)}}const Kv=(i,s)=>s;class Yv{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Kv}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const _=!c||a&&a.currentIndex<LE(c,d,p)?a:c,I=LE(_,d,p),E=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{p||(p=[]);const T=I-d,M=E-d;if(T!=M){for(let Z=0;Z<T;Z++){const ee=Z<p.length?p[Z]:p[Z]=0,_e=ee+Z;M<=_e&&_e<T&&(p[Z]=ee+1)}p[_.previousIndex]=M-T}}I!==E&&s(_,I,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Ff(s))throw new we(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)p=s[I],_=this._trackByFn(I,p),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,p,_,I)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,I),c=!0),a=a._next}else d=0,function rm(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Va()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,I=>{_=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,I,_,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new Qv(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new FE),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Qv{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jv{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class FE{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new Jv,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LE(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class uy{constructor(){}supports(s){return s instanceof Map||gl(s)}create(){return new Xv}}class Xv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||gl(s)))throw new we(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new rT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class rT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function e0(){return new t0([new kE])}let t0=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||e0()),deps:[[i,new ft,new Re]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new we(901,!1)}}return i.\u0275prov=zt({token:i,providedIn:"root",factory:e0}),i})();function n0(){return new cy([new uy])}let cy=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||n0()),deps:[[i,new ft,new Re]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new we(901,!1)}}return i.\u0275prov=zt({token:i,providedIn:"root",factory:n0}),i})();const oT=Ym(null,"core",[]);let r0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(pn(bp))},i.\u0275mod=tt({type:i}),i.\u0275inj=Rt({}),i})();function s0(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(st,De,k)=>{k.d(De,{Z:()=>we});var l=k(2090),X=k(4859),O=k(9681),ue=k(1877);class ie{constructor(me,pe){this._delegate=me,this.firebase=pe,(0,O._addComponent)(me,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(me,pe=O._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(me);return!et.isInitialized()&&"EXPLICIT"===(null===(We=et.getComponent())||void 0===We?void 0:We.instantiationMode)&&et.initialize(),et.getImmediate({identifier:pe})}_removeServiceInstance(me,pe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(pe)}_addComponent(me){(0,O._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,O._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function fe(){const Ye=function de(Ye){const me={},pe={__esModule:!0,initializeApp:function Ae(je,V={}){const ge=O.initializeApp(je,V);if((0,l.r3)(me,ge.name))return me[ge.name];const W=new Ye(ge,pe);return me[ge.name]=W,W},app:et,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ee(je){const V=je.name,ge=V.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const W=(J=et())=>{if("function"!=typeof J[ge])throw ce.create("invalid-app-argument",{appName:V});return J[ge]()};void 0!==je.serviceProps&&(0,l.ZB)(W,je.serviceProps),pe[ge]=W,Ye.prototype[ge]=function(...J){return this._getService.bind(this,V).apply(this,je.multipleInstances?J:[])}}return"PUBLIC"===je.type?pe[ge]:null},removeApp:function We(je){delete me[je]},useAsService:function Be(je,V){return"serverAuth"===V?null:V},modularAPIs:O}};function et(je){if(!(0,l.r3)(me,je=je||O._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:je});return me[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function ve(){return Object.keys(me).map(je=>me[je])}}),et.App=Ye,pe}(ie);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function me(pe){(0,l.ZB)(Ye,pe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ye}(),B=new ue.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=U;!function Se(Ye){(0,O.registerVersion)("@firebase/app-compat","0.1.34",Ye)}()},9681:(st,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>hs,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>qt,_addOrOverwriteComponent:()=>zt,_apps:()=>rn,_clearComponents:()=>ta,_components:()=>Sn,_getProvider:()=>Rt,_registerComponent:()=>wr,_removeServiceInstance:()=>en,deleteApp:()=>fo,getApp:()=>Fr,getApps:()=>oi,initializeApp:()=>vi,onLog:()=>Hi,registerVersion:()=>Lr,setLogLevel:()=>xn});var l=k(5861),X=k(4859),O=k(1877),ue=k(2090),ie=k(8766);class he{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(G=>{if(function ce(L){return"VERSION"===L.getComponent()?.type}(G)){const be=G.getImmediate();return`${be.library}/${be.version}`}return null}).filter(G=>G).join(" ")}}const de="@firebase/app",U=new O.Yd("@firebase/app"),Ut="[DEFAULT]",Ge={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rn=new Map,Sn=new Map;function qt(L,H){try{L.container.addComponent(H)}catch(G){U.debug(`Component ${H.name} failed to register with FirebaseApp ${L.name}`,G)}}function zt(L,H){L.container.addOrOverwriteComponent(H)}function wr(L){const H=L.name;if(Sn.has(H))return U.debug(`There were multiple attempts to register component ${H}.`),!1;Sn.set(H,L);for(const G of rn.values())qt(G,L);return!0}function Rt(L,H){const G=L.container.getProvider("heartbeat").getImmediate({optional:!0});return G&&G.triggerHeartbeat(),L.container.getProvider(H)}function en(L,H,G=Ut){Rt(L,H).clearInstance(G)}function ta(){Sn.clear()}const hr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kr{constructor(H,G,be){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},G),this._name=G.name,this._automaticDataCollectionEnabled=G.automaticDataCollectionEnabled,this._container=be,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const hs="9.10.0";function vi(L,H={}){"object"!=typeof H&&(H={name:H});const G=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},H),be=G.name;if("string"!=typeof be||!be)throw hr.create("bad-app-name",{appName:String(be)});const Ue=rn.get(be);if(Ue){if((0,ue.vZ)(L,Ue.options)&&(0,ue.vZ)(G,Ue.config))return Ue;throw hr.create("duplicate-app",{appName:be})}const tt=new X.H0(be);for(const Kt of Sn.values())tt.addComponent(Kt);const cn=new kr(L,G,tt);return rn.set(be,cn),cn}function Fr(L=Ut){const H=rn.get(L);if(!H)throw hr.create("no-app",{appName:L});return H}function oi(){return Array.from(rn.values())}function fo(L){return ze.apply(this,arguments)}function ze(){return(ze=(0,l.Z)(function*(L){const H=L.name;rn.has(H)&&(rn.delete(H),yield Promise.all(L.container.getProviders().map(G=>G.delete())),L.isDeleted=!0)})).apply(this,arguments)}function Lr(L,H,G){var be;let Ue=null!==(be=Ge[L])&&void 0!==be?be:L;G&&(Ue+=`-${G}`);const tt=Ue.match(/\s|\//),cn=H.match(/\s|\//);if(tt||cn){const Kt=[`Unable to register library "${Ue}" with version "${H}":`];return tt&&Kt.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),tt&&cn&&Kt.push("and"),cn&&Kt.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void U.warn(Kt.join(" "))}wr(new X.wA(`${Ue}-version`,()=>({library:Ue,version:H}),"VERSION"))}function Hi(L,H){if(null!==L&&"function"!=typeof L)throw hr.create("invalid-log-argument");(0,O.Am)(L,H)}function xn(L){(0,O.Ub)(L)}const Mn="firebase-heartbeat-store";let Bn=null;function dn(){return Bn||(Bn=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(L,H)=>{0===H&&L.createObjectStore(Mn)}}).catch(L=>{throw hr.create("idb-open",{originalErrorMessage:L.message})})),Bn}function it(){return(it=(0,l.Z)(function*(L){var H;try{return(yield dn()).transaction(Mn).objectStore(Mn).get(Xn(L))}catch(G){if(G instanceof ue.ZR)U.warn(G.message);else{const be=hr.create("idb-get",{originalErrorMessage:null===(H=G)||void 0===H?void 0:H.message});U.warn(be.message)}}})).apply(this,arguments)}function un(L,H){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(L,H){var G;try{const Ue=(yield dn()).transaction(Mn,"readwrite");return yield Ue.objectStore(Mn).put(H,Xn(L)),Ue.done}catch(be){if(be instanceof ue.ZR)U.warn(be.message);else{const Ue=hr.create("idb-set",{originalErrorMessage:null===(G=be)||void 0===G?void 0:G.message});U.warn(Ue.message)}}})).apply(this,arguments)}function Xn(L){return`${L.name}!${L.options.appId}`}class Zi{constructor(H){this.container=H,this._heartbeatsCache=null;const G=this.container.getProvider("app").getImmediate();this._storage=new Zt(G),this._heartbeatsCachePromise=this._storage.read().then(be=>(this._heartbeatsCache=be,be))}triggerHeartbeat(){var H=this;return(0,l.Z)(function*(){const be=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=Wt();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!H._heartbeatsCache.heartbeats.some(tt=>tt.date===Ue))return H._heartbeatsCache.heartbeats.push({date:Ue,agent:be}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(tt=>{const cn=new Date(tt.date).valueOf();return Date.now()-cn<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,l.Z)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const G=Wt(),{heartbeatsToSend:be,unsentEntries:Ue}=function ui(L,H=1024){const G=[];let be=L.slice();for(const Ue of L){const tt=G.find(cn=>cn.agent===Ue.agent);if(tt){if(tt.dates.push(Ue.date),q(G)>H){tt.dates.pop();break}}else if(G.push({agent:Ue.agent,dates:[Ue.date]}),q(G)>H){G.pop();break}be=be.slice(1)}return{heartbeatsToSend:G,unsentEntries:be}}(H._heartbeatsCache.heartbeats),tt=(0,ue.L)(JSON.stringify({version:2,heartbeats:be}));return H._heartbeatsCache.lastSentHeartbeatDate=G,Ue.length>0?(H._heartbeatsCache.heartbeats=Ue,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),tt})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,l.Z)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function lt(L){return it.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var G=this;return(0,l.Z)(function*(){var be;if(yield G._canUseIndexedDBPromise){const tt=yield G.read();return un(G.app,{lastSentHeartbeatDate:null!==(be=H.lastSentHeartbeatDate)&&void 0!==be?be:tt.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var G=this;return(0,l.Z)(function*(){var be;if(yield G._canUseIndexedDBPromise){const tt=yield G.read();return un(G.app,{lastSentHeartbeatDate:null!==(be=H.lastSentHeartbeatDate)&&void 0!==be?be:tt.lastSentHeartbeatDate,heartbeats:[...tt.heartbeats,...H.heartbeats]})}})()}}function q(L){return(0,ue.L)(JSON.stringify({version:2,heartbeats:L})).length}!function $(L){wr(new X.wA("platform-logger",H=>new he(H),"PRIVATE")),wr(new X.wA("heartbeat",H=>new Zi(H),"PRIVATE")),Lr(de,"0.7.33",L),Lr(de,"0.7.33","esm2017"),Lr("fire-js","")}("")},4859:(st,De,k)=>{k.d(De,{H0:()=>de,wA:()=>O});var l=k(5861),X=k(2090);class O{constructor(U,B,K){this.name=U,this.instanceFactory=B,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ue="[DEFAULT]";class ie{constructor(U,B){this.name=U,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const B=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(B)){const K=new X.BH;if(this.instancesDeferred.set(B,K),this.isInitialized(B)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:B});Ve&&K.resolve(Ve)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(U){var B;const K=this.normalizeInstanceIdentifier(U?.identifier),Ve=null!==(B=U?.optional)&&void 0!==B&&B;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function ce(fe){return"EAGER"===fe.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[B,K]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(B);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});K.resolve(Se)}catch{}}}}clearInstance(U=ue){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,l.Z)(function*(){const B=Array.from(U.instances.values());yield Promise.all([...B.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...B.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ue){return this.instances.has(U)}getOptions(U=ue){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:B={}}=U,K=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:K,options:B});for(const[Se,we]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Se)&&we.resolve(Ve);return Ve}onInit(U,B){var K;const Ve=this.normalizeInstanceIdentifier(B),Se=null!==(K=this.onInitCallbacks.get(Ve))&&void 0!==K?K:new Set;Se.add(U),this.onInitCallbacks.set(Ve,Se);const we=this.instances.get(Ve);return we&&U(we,Ve),()=>{Se.delete(U)}}invokeOnInitCallbacks(U,B){const K=this.onInitCallbacks.get(B);if(K)for(const Ve of K)try{Ve(U,B)}catch{}}getOrInitializeService({instanceIdentifier:U,options:B={}}){let K=this.instances.get(U);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=U,fe===ue?void 0:fe),options:B}),this.instances.set(U,K),this.instancesOptions.set(U,B),this.invokeOnInitCallbacks(K,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,K)}catch{}var fe;return K||null}normalizeInstanceIdentifier(U=ue){return this.component?this.component.multipleInstances?U:ue:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const B=this.getProvider(U.name);if(B.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);B.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const B=new ie(U,this);return this.providers.set(U,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(st,De,k)=>{k.d(De,{Am:()=>fe,Ub:()=>de,Yd:()=>ce,in:()=>X});const l=[];var X=(()=>{return(U=X||(X={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",X;var U})();const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ue=X.INFO,ie={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},he=(U,B,...K)=>{if(B<U.logLevel)return;const Ve=(new Date).toISOString(),Se=ie[B];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Se](`[${Ve}]  ${U.name}:`,...K)};class ce{constructor(B){this.name=B,this._logLevel=ue,this._logHandler=he,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in X))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...B),this._logHandler(this,X.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...B),this._logHandler(this,X.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,X.INFO,...B),this._logHandler(this,X.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,X.WARN,...B),this._logHandler(this,X.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...B),this._logHandler(this,X.ERROR,...B)}}function de(U){l.forEach(B=>{B.setLogLevel(U)})}function fe(U,B){for(const K of l){let Ve=null;B&&B.level&&(Ve=O[B.level]),K.userLogHandler=null===U?null:(Se,we,...Ye)=>{const me=Ye.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");we>=(Ve??Se.logLevel)&&U({level:X[we].toLowerCase(),message:me,args:Ye,type:Se.name})}}}},8766:(st,De,k)=>{k.d(De,{Lj:()=>Ae,X3:()=>et});var l=k(5861);let O,ue;const ce=new WeakMap,de=new WeakMap,fe=new WeakMap,U=new WeakMap,B=new WeakMap;let Se={get(V,ge,W){if(V instanceof IDBTransaction){if("done"===ge)return de.get(V);if("objectStoreNames"===ge)return V.objectStoreNames||fe.get(V);if("store"===ge)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return pe(V[ge])},set:(V,ge,W)=>(V[ge]=W,!0),has:(V,ge)=>V instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in V};function me(V){return"function"==typeof V?function Ye(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(...ge){return V.apply(We(this),ge),pe(ce.get(this))}:function(...ge){return pe(V.apply(We(this),ge))}:function(ge,...W){const J=V.call(We(this),ge,...W);return fe.set(J,ge.sort?ge.sort():[ge]),pe(J)}}(V):(V instanceof IDBTransaction&&function Ve(V){if(de.has(V))return;const ge=new Promise((W,J)=>{const se=()=>{V.removeEventListener("complete",te),V.removeEventListener("error",Oe),V.removeEventListener("abort",Oe)},te=()=>{W(),se()},Oe=()=>{J(V.error||new DOMException("AbortError","AbortError")),se()};V.addEventListener("complete",te),V.addEventListener("error",Oe),V.addEventListener("abort",Oe)});de.set(V,ge)}(V),((V,ge)=>ge.some(W=>V instanceof W))(V,function ie(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,Se):V)}function pe(V){if(V instanceof IDBRequest)return function K(V){const ge=new Promise((W,J)=>{const se=()=>{V.removeEventListener("success",te),V.removeEventListener("error",Oe)},te=()=>{W(pe(V.result)),se()},Oe=()=>{J(V.error),se()};V.addEventListener("success",te),V.addEventListener("error",Oe)});return ge.then(W=>{W instanceof IDBCursor&&ce.set(W,V)}).catch(()=>{}),B.set(ge,V),ge}(V);if(U.has(V))return U.get(V);const ge=me(V);return ge!==V&&(U.set(V,ge),B.set(ge,V)),ge}const We=V=>B.get(V);function et(V,ge,{blocked:W,upgrade:J,blocking:se,terminated:te}={}){const Oe=indexedDB.open(V,ge),Pe=pe(Oe);return J&&Oe.addEventListener("upgradeneeded",ut=>{J(pe(Oe.result),ut.oldVersion,ut.newVersion,pe(Oe.transaction))}),W&&Oe.addEventListener("blocked",()=>W()),Pe.then(ut=>{te&&ut.addEventListener("close",()=>te()),se&&ut.addEventListener("versionchange",()=>se())}).catch(()=>{}),Pe}function Ae(V,{blocked:ge}={}){const W=indexedDB.deleteDatabase(V);return ge&&W.addEventListener("blocked",()=>ge()),pe(W).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Be=new Map;function je(V,ge){if(!(V instanceof IDBDatabase)||ge in V||"string"!=typeof ge)return;if(Be.get(ge))return Be.get(ge);const W=ge.replace(/FromIndex$/,""),J=ge!==W,se=Ee.includes(W);if(!(W in(J?IDBIndex:IDBObjectStore).prototype)||!se&&!ve.includes(W))return;const te=function(){var Oe=(0,l.Z)(function*(Pe,...ut){const $t=this.transaction(Pe,se?"readwrite":"readonly");let Ut=$t.store;return J&&(Ut=Ut.index(ut.shift())),(yield Promise.all([Ut[W](...ut),se&&$t.done]))[0]});return function(ut){return Oe.apply(this,arguments)}}();return Be.set(ge,te),te}!function we(V){Se=V(Se)}(V=>({...V,get:(ge,W,J)=>je(ge,W)||V.get(ge,W,J),has:(ge,W)=>!!je(ge,W)||V.has(ge,W)}))},5861:(st,De,k)=>{function l(O,ue,ie,he,ce,de,fe){try{var U=O[de](fe),B=U.value}catch(K){return void ie(K)}U.done?ue(B):Promise.resolve(B).then(he,ce)}function X(O){return function(){var ue=this,ie=arguments;return new Promise(function(he,ce){var de=O.apply(ue,ie);function fe(B){l(de,he,ce,fe,U,"next",B)}function U(B){l(de,he,ce,fe,U,"throw",B)}fe(void 0)})}}k.d(De,{Z:()=>X})}},st=>{st(st.s=9162)}]);